SCRDG0201
TCICS RDG
T-Chapter 2.
T-Define cluster
E"Kenneth Tomiak"<CBT_Ken@KTomiak.BIZ>
Z20180517-121628
*
@IBM Corporation
*
Bdfha4h00.pdf
BSC34-7425-00 CICS Transaction Server for z/OS
B-Resource Definition Guide
B-Version 5 Release 3
*
NCICS Transaction Server for z/OS Resource Definition Guide
N----------------------------------------------------------
NChapter 2. CSD file management
N------------------------------
NDefine cluster
N--------------
NProcedure
N---------
N1. Code the KEYS parameter as shown in the sample job. The key length
N   is 22 bytes.
N
N2. Calculate the CSD disk space that is required. The average record
N   size is 200 bytes for a CSD that contains only the CICS-supplied
N   resource definitions (generated by the INITIALIZE and UPGRADE
N   commands). If you create a larger proportion of terminal resource
N   definition entries than are defined in the initial CSD, the average
N   record size is higher because of the larger size of the
N   terminal-type entries. The TERMINAL and TYPETERM definition record
N   sizes are listed under Calculating CSD disk space. The maximum
N   record size is 2000, as shown in the sample job.
N
N3. Code the SHAREOPTIONS parameter as shown in the sample job.
N
N4. Optional: You can specify the recovery attributes for the CSD in the
N   ICF catalog instead of using the CSD system initialization
N   parameters. If you decide to use the CSD in RLS mode, you must
N   define the recovery attributes in the ICF catalog. You specify the
N   recovery attributes as:
N
N   -> LOG(NONE) (Nonrecoverable data set)
N
N   -> LOG(UNDO) (For backout only)
N
N   ->LOG(ALL) (For both backout and forward recovery)
N
N   If you specify LOG(ALL), you must also specify LOGSTREAMID to define
N   the 26-character name of the MVS log stream to be used as the
N   forward recovery log. If you specify recovery attributes in the
N   ICF catalog, and also want to use BWO, specify LOG(ALL) and
N   BWO(TYPECICS).
N
N5. You must specify the DDNAME for the CSD as DFHCSD.
N
NExample
N-------
NFigure 1. Sample job to define and initialize the CSD.
N
D//DEFINIT  JOB  accounting information
D//         SET CICSLOAD='DFH540.CICS.SDFHLOAD'
D//DEFCSD  EXEC PGM=IDCAMS
D//SYSIN     DD *
D  DEFINE -
D    CLUSTER ( -
D      BWO(NO)
D      FREESPACE(10 10) -
D      INDEXED -
D      KEYS(22 0) -
D      LOG(ALL) -
D      LOGSTREAMID(cicspfx.env.FWDRECOV) -
D      NAME(cicspfx.env.DFHCSD) -
D      RECORDS(n1 n2) -
D      RECORDSIZE(200 2000) -
D      SHAREOPTIONS(2) -
D      VOLUMES(volid) -
D    ) -
D    DATA ( -
D      NAME(cicspfx.env.DFHCSD.DATA)   -
D      CONTROLINTERVALSIZE(8192) -
D    ) -
D    INDEX ( -
D      NAME(cicspfx.env.DFHCSD.INDEX) -
D    )
D/*
D//SYSPRINT  DD SYSOUT=*
D//*
D//INIT    EXEC PGM=DFHCSDUP
D//STEPLIB   DD DISP=SHR,DSN=&CICSLOAD
D//SYSIN     DD *
D  INITIALIZE
D/*
D//SYSPRINT  DD SYSOUT=*
D//DFHCSD    DD DISP=OLD,DSN=cicspfx.env.DFHCSD
D//*
D//
* End of WISH.
