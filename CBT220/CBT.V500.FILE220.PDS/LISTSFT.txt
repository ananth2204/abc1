/*REXX*/
/*****************************************************************/
/* LISTSFT: REXX program to display the PC system function table.*/
/*    Note: Developed and tested on an MVS/SP 2.2.3 system.      */
/*****************************************************************/
/* MVS DATA AREAS:                                               */
/*                CVT - Communications Vector Table (@'10'x)     */
/*                SFT - System Function Table                    */
/*****************************************************************/
/* Added entries to accommodate IEAVXSFM from z/OS 1.13  (SBG)   */
/* See MVS Diagnosis Reference for a list of PC LX/EX Services.  */
/* (I think many of them are not anchored in the SFT, but are    */
/*  anchored somewhere else in the system.)                      */
/*****************************************************************/
@cvt = STORAGE(10,4)                  /* get CVT address from PSAAOLD */
@cvt = D2X(C2D(@cvt))                    /* binary to hex             */
@cvtxsft  = STORAGE(D2X(X2D(@cvt)+772),4)    /* get CVTXSFT address   */
@cvtxsft  = D2X(C2D(@cvtxsft))                 /* binary to hex       */
/* Address TSO ; "CLEAR"  */
Say 'CVT:'@cvt'  CVTXSFT:'@cvtxsft'   'DATE() TIME()
Say ' '
Say '    PC Number          Service Description'
Say '    ----------------   ----------------------------------------'
@start = @cvtxsft ; i = 0
sftentry = STORAGE(@start,4)
Do While sftentry \= 'FFFFFFFF'x                       /* process SFT */
   i = i + 1
   linkageix = SUBSTR(sftentry,2,2) ; linkageix = C2X(linkageix)
     entryix = SUBSTR(sftentry,4,1) ;   entryix = C2X(entryix)
   Select
      When sftentry = '00000000'x Then
         service = 'Linkage Index Reserve                    (IEAVXLRE)'
      When sftentry = '00000001'x Then
         service = 'Linkage Index Free                       (IEAVXLFR)'
      When sftentry = '00000002'x Then
         service = 'Entry Table Create                       (IEAVXECR)'
      When sftentry = '00000003'x Then
         service = 'Entry Table Destroy                      (IEAVXEDE)'
      When sftentry = '00000004'x Then
         service = 'Entry Table Connect                      (IEAVXECO)'
      When sftentry = '00000005'x Then
         service = 'Entry Table Disconnect                   (IEAVXEDI)'
      When sftentry = '00000006'x Then
         service = 'Authorization Index Reserve              (IEAVXRFE)'
      When sftentry = '00000007'x Then
         service = 'Authorization Index Free                 (IEAVXRFE)'
      When sftentry = '00000008'x Then
         service = 'Authorization Index Extract              (IEAVXRFE)'
      When sftentry = '00000009'x Then
         service = 'Authorization Index Set                  (IEAVXSET)'
      When sftentry = '0000000A'x Then
         service = 'Authorization Table Set                  (IEAVXSET)'
      When sftentry = '0000000B'x Then
         service = 'PC/Auth Resource Manager                 (IEAVXPAM)'
      When sftentry = '0000000C'x Then
         service = 'For use by IBM code only                 (IEAVXREX)'
      When sftentry = '0000000D'x Then
         service = 'ALESERV ADD/ADDPASN services             (IEAVXALA)'
      When sftentry = '0000000E'x Then
         service = 'ALESERV DELETE service                   (IEAVXALD)'
      When sftentry = '0000000F'x Then
         service = 'ALESERV EXTRACT/EXTRACTH services        (IEAVXALE)'
      When sftentry = '00000010'x Then
         service = 'ALESERV SEARCH service                   (IEAVXALS)'
      When sftentry = '00000011'x Then
         service = 'DualPool router                          (        )'
      When sftentry = '00000100'x Then
         service = 'ENQ/DEQ/RESERVE                          (ISGGQWBI)'
      When sftentry = '00000101'x Then
         service = 'ENQ/DEQ/RESERVE Redrive                  (ISGGQWBI)'
      When sftentry = '00000102'x Then
         service = 'ENQ/DEQ/RESERVE Resource Term Mgr        (ISGGTRM1)'
      When sftentry = '00000103'x Then
         service = 'Global Resource Serialization Dump       (ISGDGCB0)'
      When sftentry = '00000104'x Then
         service = 'Global Resource Serialization Qscan      (ISGQSCAN)'
      When sftentry = '00000105'x Then
         service = 'Global Resource Serialization Stor Mgmt  (ISGSMI  )'
      When sftentry = '00000106'x Then
         service = 'Global Resource Serialization Qscan      (ISGQSCAN)'
      When sftentry = '00000107'x Then
         service = 'DEQUEUE Fast Path                        (ISGLNQDQ)'
      When sftentry = '00000108'x Then
         service = 'ENQUEUE Fast Path                        (ISGLNQDQ)'
      When sftentry = '00000109'x Then
         service = 'Global Resource Serialization ESTAE      (ISGGEST0)'
      When sftentry = '0000010C'x Then
         service = 'GRS Latch internal processing            (ISGLRLQE)'
      When sftentry = '0000010D'x Then
         service = 'GRS Latch CREATE service                 (ISGLCRTS)'
      When sftentry = '0000010E'x Then
         service = 'GRS Latch internal processing            (ISGLRTR )'
      When sftentry = '0000010F'x Then
         service = 'GRS Latch PURGE service                  (ISGLPRGS)'
      When sftentry = '0000011A'x Then
         service = 'ISGENQ Service                           (ISGGRT  )'
      When sftentry = '0000011B'x Then
         service = 'ISGQUERY Service                         (ISGQPC  )'
      When sftentry = '0000011C'x Then
         service = 'ISGADMIN Service                         (ISGGADMN)'
      When sftentry = '0000011D'x Then
         service = 'Non-cross memory ENQ svce redrives to GRS(ISGGRT  )'
      When sftentry = '0000011E'x Then
         service = 'Non-cross memory DEQ svce redrives to GRS(ISGGRT  )'
      When sftentry = '00000200'x Then
         service = 'Display Allocation Tables Manager        (IEFHB410)'
      When sftentry = '00000201'x Then
         service = 'DALT Dynamic Activate Config change      (IEFHB420)'
      When sftentry = '00000202'x Then
         service = 'Allocation Component Trace Record        (IEFCTRCD)'
      When sftentry = '00000203'x Then
         service = 'ATS Tape sharing Operations              (IEFHB4IG)'
      When sftentry = '00000204'x Then
         service = 'Allocation Dev Mgmt (offl,online,unload) (IEFHBPDF)'
      When sftentry = '00000300'x Then
         service = 'VSM CPOOL Build Service                  (IGVCPBDP)'
      When sftentry = '00000301'x Then
         service = 'VSM CPOOL Expansion Interface            (IGVCPEXP)'
      When sftentry = '00000302'x Then
         service = 'VSM CPOOL Delete Service                 (IGVCPDLP)'
      When sftentry = '00000303'x Then
         service = 'VSMLIST Service                          (IGVLISTP)'
      When sftentry = '00000304'x Then
         service = 'VSMLOC Service                           (IGVLOCP )'
      When sftentry = '00000305'x Then
         service = 'CPUTIMER Service                         (IEAVRT04)'
      When sftentry = '00000306'x Then
         service = 'Virtual Fetch CSVVFORK Service           (CSVVFORK)'
      When sftentry = '00000307'x Then
         service = 'Data in Virtural                         (ITVCCTL )'
      When sftentry = '00000308'x Then
         service = 'Symptom Records                          (ASRSERVP)'
      When sftentry = '00000309'x Then
         service = 'LSEXPAND Service                         (IEAVLSEX)'
      When sftentry = '0000030A'x Then
         service = 'LOCASCB STOKEN= Service                  (IEAVESTA)'
      When sftentry = '0000030B'x Then
         service = 'Storage obtain                           (IGVVSTOR)'
      When sftentry = '0000030C'x Then
         service = 'RTM dynamic storage manager              (IEAVTR2C)'
      When sftentry = '0000030D'x Then
         service = 'WAIT LINKAGE=SYSTEM service              (IEAVEWTP)'
      When sftentry = '0000030E'x Then
         service = 'POST LINKAGE=SYSTEM service              (IEAVEPTP)'
      When sftentry = '0000030F'x Then
         service = 'PC-ESTAE service                         (IEAVESTI)'
      When sftentry = '00000310'x Then
         service = 'ASCRE/ASDES/ASEXT services               (ASEMAIN )'
      When sftentry = '00000311'x Then
         service = 'Storage release                          (IGVVSTOR)'
      When sftentry = '00000312'x Then
         service = 'TCBTOKEN service                         (IEAVTTKN)'
      When sftentry = '00000313'x Then
         service = 'TESTART service                          (IEAVXTAR)'
      When sftentry = '00000314'x Then
         service = 'CSVQUERY service                         (CSVQYSRV)'
      When sftentry = '00000315'x Then
         service = 'For use by IBM code only                 (ITVCF   )'
      When sftentry = '00000316'x Then
         service = 'TIMEUSED service                         (IEATTUSD)'
      When sftentry = '00000317'x Then
         service = 'SRB SUSPEND with token                   (IEAVSRBS)'
      When sftentry = '00000318'x Then
         service = 'SRB RESUME with token                    (IEAVSRBR)'
      When sftentry = '00000319'x Then
         service = 'SRB PURGE with token                     (IEAVSRBP)'
      When sftentry = '0000031A'x Then
         service = 'LLACOPY service                          (CSVLLCPY)'
      When sftentry = '0000031B'x Then
         service = 'RCFSTAT service                          (IEEUSTAT)'
      When sftentry = '0000031C'x Then
         service = 'RCFCONF service                          (IEEULCFG)'
      When sftentry = '0000031D'x Then
         service = 'AFFINITY service                         (IEAVEAFN)'
      When sftentry = '0000031E'x Then
         service = 'SDOM connect service                     (COFMCONN)'
      When sftentry = '0000031F'x Then
         service = 'SDOM disconnect service                  (COFMDISC)'
      When sftentry = '00000320'x Then
         service = 'CTRACEWR - Write service                 (ITTTWRIT)'
      When sftentry = '00000321'x Then
         service = 'PC TIME service                          (IEATTIME)'
      When sftentry = '00000322'x Then
         service = 'UCB Service Authorized                   (IOSVUPCR)'
      When sftentry = '00000323'x Then
         service = 'UCB Service Unauthorized                 (IOSVUPCR)'
      When sftentry = '00000324'x Then
         service = 'Configuration Change Manager             (IOSVCCMI)'
      When sftentry = '00000325'x Then
         service = 'Unit Verification Services               (IEFEISO1)'
      When sftentry = '00000326'x Then
         service = 'Name token services                      (IEANTCRS)'
      When sftentry = '00000327'x Then
         service = 'Name token services                      (IEANTDLS)'
      When sftentry = '00000328'x Then
         service = 'CONVTOD service                          (IEATCNVT)'
      When sftentry = '00000329'x Then
         service = 'Dynamic APF service                      (CSVQUERY)'
      When sftentry = '0000032A'x Then
         service = 'APPC service routine                     (ATBMIPTE)'
      When sftentry = '0000032B'x Then
         service = 'Dynamic Exit Support                     (CSVEXPR )'
      When sftentry = '0000032C'x Then
         service = 'CSRL16T service                          (CSRL16JP)'
      When sftentry = '0000032D'x Then
         service = 'SCHEDIRB service                         (IEAVEIRB)'
      When sftentry = '0000032E'x Then
         service = 'IOS Support                              (IOSVCOPR)'
      When sftentry = '0000032F'x Then
         service = 'HCD System/390 microprocessr cluster sup (CBDMSHSD)'
      When sftentry = '00000330'x Then
         service = 'TESTART CADS ALET Service                (IEAVXTRI)'
      When sftentry = '00000331'x Then
         service = 'SCHEDSRB                                 (IEAVSCHD)'
      When sftentry = '00000333'x Then
         service = 'HCD Sysplex Services (HSS) interface rtn (CBDMSHSS)'
      When sftentry = '00000334'x Then
         service = 'Captured UCB Services                    (IOSVCAPU)'
      When sftentry = '00000335'x Then
         service = 'Allocation DD Service                    (IEFDIS01)'
      When sftentry = '00000336'x Then
         service = 'ETR Information                          (IEATETRI)'
      When sftentry = '00000337'x Then
         service = 'LOGGER Router                            (IXGL2RTE)'
      When sftentry = '00000338'x Then
         service = 'RTM Linkage Stack Query                  (IEAVTLSQ)'
      When sftentry = '00000339'x Then
         service = 'LOGGER Router                            (IXGL2RTI)'
      When sftentry = '0000033A'x Then
         service = 'IOS Support                              (IOSVCDRP)'
      When sftentry = '0000033B'x Then
         service = 'Dynamic Linklist                         (CSVDLPR )'
      When sftentry = '0000033C'x Then
         service = 'Authorized Command Exit Manager          (IEAVEAEM)'
      When sftentry = '0000033D'x Then
         service = 'Logical Parmlib Service                  (IEFPIS01)'
      When sftentry = '0000033E'x Then
         service = 'Context Services Router                  (CTXROUTE)'
      When sftentry = '0000033F'x Then
         service = 'Product Enable/Disable                   (IFAEDPCT)'
      When sftentry = '00000340'x Then
         service = 'Dynamic LPA                              (CSVLPPR )'
      When sftentry = '00000342'x Then
         service = 'Enhanced PURGEDQ                         (IEAVPDQX)'
      When sftentry = '00000343'x Then
         service = 'IEAMQRY                                  (IEAVQRY )'
      When sftentry = '00000344'x Then
         service = 'Context Services Router                  (CTXROUTE)'
      When sftentry = '00000345'x Then
         service = 'IEAFP                                    (IEAVEFPR)'
      When sftentry = '00000346'x Then
         service = 'IEARR Service                            (IEAVSTA1)'
      When sftentry = '00000347'x Then
         service = 'IEARR Service                            (IEAVSTA1)'
      When sftentry = '00000348'x Then
         service = 'CSRSI Service                            (CSRSIPR )'
      When sftentry = '00000349'x Then
         service = 'RRS Set Environment                      (ATRUMSEN)'
      When sftentry = '0000034A'x Then
         service = 'RRS Retrieve Environment                 (ATRUMREN)'
      When sftentry = '0000034B'x Then
         service = 'Client License Services                  (ILMPRPCT)'
      When sftentry = '0000034C'x Then
         service = 'LE Services                              (CELSPCTK)'
      When sftentry = '0000034D'x Then
         service = 'LE Services                              (CELSPCTK)'
      When sftentry = '0000034E'x Then
         service = 'Create Name/Token Pair                   (IEAN4CRS)'
      When sftentry = '0000034F'x Then
         service = 'Delete Name/Token Pair                   (IEAN4DLS)'
      When sftentry = '00000350'x Then
         service = 'IPCS Storage Access                      (BLS1ACTV)'
      When sftentry = '00000351'x Then
         service = 'ILMQUERY                                 (ILMPQRY )'
      When sftentry = '00000352'x Then
         service = 'RRS Router                               (ATRBMIPC)'
      When sftentry = '00000353'x Then
         service = 'Unicode Services                         (CUNMZPC )'
      When sftentry = '00000354'x Then
         service = 'Supervisor Internal Processing           (IEAVIFAP)'
      When sftentry = '00000355'x Then
         service = 'VSAM Record Management                   (IDA0DBUG)'
      When sftentry = '00000356'x Then
         service = 'CTRACE                                   (ITTTWRTX)'
      When sftentry = '00000357'x Then
         service = 'IEAARR Service                           (IEAVTR4A)'
      When sftentry = '00000358'x Then
         service = 'EAV DEVMAN Service Routine               (DMODA002)'
      When sftentry = '00000359'x Then
         service = 'IEAARR Service                           (IEAVTR4A)'
      When sftentry = '0000035A'x Then
         service = 'CSV internal processing                  (CSVGETRP)'
      When sftentry = '0000035B'x Then
         service = 'Autoconfiguration Service Routine        (IOSVDACI)'
      When sftentry = '0000035C'x Then
         service = 'HISUSER Service Routine                  (HISNUSER)'
      When sftentry = '0000035D'x Then
         service = 'IEATXDC Service Routine                  (IEAVETX0)'
      When sftentry = '0000035E'x Then
         service = 'JCL Symbol Retrieve service routine      (IEFSJSR1)'
      When sftentry = '00000400'x Then
         service = 'WTO Service                              (IEAVH600)'
      When sftentry = '00000500'x Then
         service = 'System Trace Control Block Verification  (IEAVETCV)'
      When sftentry = '00000501'x Then
         service = 'System Trace Environment Alteration      (IEAVETEA)'
      When sftentry = '00000502'x Then
         service = 'System Trace Processor Alteration        (IEAVETPA)'
      When sftentry = '00000503'x Then
         service = 'System Trace Processor Snapshot          (IEAVETPS)'
      When sftentry = '00000504'x Then
         service = 'System Trace Processor Verification      (IEAVETPV)'
      When sftentry = '00000505'x Then
         service = 'System Trace Table Snapshot Data Extract (IEAVETSD)'
      When sftentry = '00000506'x Then
         service = 'System Trace Table Snapshot              (IEAVETSN)'
      When sftentry = '00000507'x Then
         service = 'System Trace Suspend, Resume, PSTART     (IEAVETSP)'
      When sftentry = '00000508'x Then
         service = 'System Trace Table Snapshot Filter       (IEAVETTF)'
      When sftentry = '00000600'x Then
         service = 'Virtual Fetch CSVVFSCH Service           (CSVVFSCH)'
      When sftentry = '00000700'x Then
         service = 'SMF Buffering Routine                    (IFAPCWTR)'
      When sftentry = '00000800'x Then
         service = 'Lnklst Lookaside (LLA)                   (CSVLLS01)'
      When sftentry = '00000900'x Then
         service = 'Data Space PC Service                    (RSM     )'
      When sftentry = '00000A00'x Then
         service = 'Virtual Lookaside Facility               (VLF     )'
      When sftentry = '00000B00'x Then
         service = 'XCF                                      (XCF     )'
      When sftentry = '00000C00'x Then
         service = 'Reserved for DFP use                     (DFP     )'
      When sftentry = '00000D00'x Then
         service = 'MVS/APPC Scheduler                       (APPC    )'
      When sftentry = '00000E00'x Then
         service = 'LLACOPY Service                          (ContSupr)'
      When sftentry = '00000F00'x Then
         service = 'SDOM services                            (SDOM    )'
      When sftentry = '00001000'x Then
         service = 'MVS Message Service                      (MVSMsgSr)'
      When sftentry = '00001100'x Then
         service = 'MVS/APPC scheduler                       (APPC    )'
      When sftentry = '00001300'x Then
         service = 'z/OS UNIX System Services space sw serv  (BXPJCSS )'
      When sftentry = '00001301'x Then
         service = 'z/OS UNIX System Services nonsp-sw serv  (BXPJCPC )'
      When sftentry = '00001302'x Then
         service = 'z/OS UNIX System Services authsp-sw serv (BXPJCPC )'
      When sftentry = '00001303'x Then
         service = 'z/OS UNIX System Services space sw callbl(BXPJCSS )'
      When sftentry = '00001400'x Then
         service = 'Reserved                                 (        )'
      When sftentry = '00001504'x Then
         service = 'System Logger                            (Logger  )'
      When sftentry = '00001600'x Then
         service = 'BOSS                                     (BOSS    )'
      When sftentry = '00001700'x Then
         service = 'IOS Space Switching Service              (IOSVIOSW)'
      When sftentry = '00001800'x Then
         service = 'BCPii services                           (        )'
      When sftentry = '00001900'x Then
         service = 'HIS Services                             (HISSSERV)'
      Otherwise
         service = '*** Unknown Program Call Function ***'
      End
   Say RIGHT(i,3,' ')'  LX: 'linkageix'  EX: 'entryix'   'service
   sftentry = STORAGE(D2X(X2D(@start)+(i*4)),4) /* bump to next entry */
End
Say ' '
Say 'System Function Table scan completed 'TIME()
Exit
