RRPRTMOD  CSECT
* THIS MOD IS USED FOR PRINTING WHEN THE PRINT INST
*    IS USED IN THE PROGRAM GENERATOR
*
         SAVE  (2,12),T,*
         BALR  11,0
         USING *,11
         ST    13,SAVEAREA+4
         LA    13,SAVEAREA
ML01     B     ML03           SWITCH TO OPEN 1 TIME
ML02     PUT   DCBPRT,*+0    B-ADR DUMMY/FILLED IN BEFORE OPEN
         L     13,SAVEAREA+4
         LM    14,12,12(13)    RELOAD HIS REGS
         LA    15,0(0,0)       SET RETURN CODE TO 0
         LA    14,2(0,14)      BUMP 14 BY 2 TO RETURN TO ADD INST
         BR    14
ML03     MVC   ML02+6(2),0(14) R14 POINT TO PRT AREA ADR IN-LINE
         OPEN  (DCBPRT,(OUTPUT))
         MVI   ML01+1,X'00'      NOP BRANCH TO OPEN
         MVC   ML04+2(2),0(14)      PUT PRT REC ADR IN NEXT INST
ML04     MVI   *+0,X'89'      SET TO DO HSK PAGE CHG
         B     ML02
DCBPRT   DCB   DDNAME=PRINT,DSORG=PS,MACRF=PM,RECFM=FM,                C
               LRECL=133,BLKSIZE=133
SAVEAREA DC    18F'0'
         END
