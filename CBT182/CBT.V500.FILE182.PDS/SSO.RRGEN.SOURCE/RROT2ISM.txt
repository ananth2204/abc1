OUT1IS    CSECT
*  THIS IS A MOD THAT IS LOADED BY THE PROGRAM GENERATOR
*   TO HANDLE  THE WRITES TO OUT1  REC AREA = REG 10
*
         SAVE  (2,12),T,*
         BALR  12,0
         USING *,12
         ST    13,SAVEAREA+4
         LA    13,SAVEAREA
ML01     B     ML03               SW TO BRANCH TO OPEN FIRST TIME
ML02     PUT   DCBOT,*+0         WRITE
ML02A    L     13,SAVEAREA+4      RELOAD HIS
         LM    14,12,12(13)             REGS
         LA    15,0(0,0)          SET RETURN CODE TO 0
         LA    14,12(0,14)        BUMP 14 BY 12 TO RETURN TO ADD
         BR    14
ML03     OPEN  (DCBOT,(OUTPUT))
         MVI   ML01+1,X'00'       NOP ML01
         LA    11,4(0,14)        14+4 POINTS TO ADR OF RECORD AREA
         MVC   ML02+6(2),0(11)   PUT REC AREA ADR IN PUT MACRO
         B     ML02A
SAVEAREA DC    18F'0'
         DC    CL2'  '
RECAREA  DS    CL900
DCBOT    DCB   DDNAME=OUT2,DSORG=IS,MACRF=PM
         END
