{"INMR01": {"INMLRECL": 80, "INMFNODE": "BVOMM", "INMFUID": "RLRICE", "INMTNODE": "BVOMM", "INMTUID": "RLRICE", "INMFTIME": "20090318212452000000", "INMNUMF": 1}, "INMR02": {"1": {"INMUTILN": "IEBCOPY", "INMSIZE": 293930, "INMDSORG": "PO", "INMTYPE": "None", "INMLRECL": 80, "INMBLKSZ": 6400, "INMRECFM": "FB", "INMDIR": 6, "INMDSNAM": "RLRICE.OS.SMGR.CBT", "numfile": 1}, "2": {"INMUTILN": "INMCOPY", "INMSIZE": 293930, "INMDSORG": "PS", "INMLRECL": 32756, "INMBLKSZ": 3120, "INMRECFM": "VS", "numfile": 1}}, "INMR03": {"1": {"INMSIZE": 293930, "INMDSORG": "PS", "INMLRECL": 80, "INMRECFM": "?"}}, "file": {"RLRICE.OS.SMGR.CBT": {"COPYR1": {"type": "PDS", "DS1DSORG": 512, "DS1BLKL": 6400, "DS1LRECL": 80, "DS1RECFM": "FB", "DS1KEYL": 0, "DS1OPTCD": 0, "DS1SMSFG": 0, "file_tape_blocksize": 3120, "DVAOPTS": 12336, "DVACLASS": 32, "DVAUNIT": 15, "DVAMAXRC": 32760, "DVACYL": 3339, "DVATRK": 15, "DVATRKLN": 58786, "DVAOVHD": 0, "num_header_records": 0}, "COPYR2": {"deb": "b'\\x01\\x00\\x00\\x00\\xff\\x00\\x00\\x00\\x8f\\x05\\xa0\\x00\\x04\\x8a0P'", "extents": ["b'\\x01\\x00\\x00\\x00\\xff\\x00\\x00\\x00\\x8f\\x05\\xa0\\x00\\x04\\x8a0P'", "b'X\\xf2U\\x80\\x00\\x00\\x004\\x00\\x0b\\x005\\x00\\n\\x00\\x0f'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'"]}, "members": {"CLEAR": {"ttr": 7, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: CLEAR                                                 *\n*                                                                     *\n*  CLEAR a dataspace                                                  *\n*                                                                     *\n* ------------------------------------------------------------------- *\nCLEAR    CSECT\nCLEAR    AMODE 31\nCLEAR    RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING CLEAR,R15\n         B     INIT0000\nMODID    DC    CL8'CLEAR'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)         SAVE REGS\n         LR    R10,R15                 COPY ENTRY POINT ADDR\n         DROP  R15\n         USING CLEAR,R10               DEFINE BASE\n         USING DSPCREQ,R9              DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE    DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD              WORK AREA BASE\n         A     R15,DXD_START                      PLUS DISPLACEMENT\n         ST    R13,4(R15)                         SAVE R13\n         ST    R15,8(R13)                         CHAIN SAVE AREA\n         LR    R13,R15                            COPY ADDRESS\n         USING DXDCLEAR,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ITRACE ID=CLEAR,                                              +\n               DATA1=SCONTROL_DATASPACE_NAME\n         SR    R14,R14\n         LAM   R14,R14,SCONTROL_DATASPACE_ALET\n         L     R15,SCONTROL_DATASPACE_BLOCKS\n         MH    R15,H4096                          COULD USE SLL\n         SAC   512                                ENTER AR MODE\n         SR    R0,R0\n         SR    R1,R1\n         MVCL  R14,R0                             INITIALIZE DATA SPACE\n         SAC   0                                  TURN OFF AR MODE\n         LAM   R14,R14,F0                         RESET AR REGISTER\n         MVC   SCONTROL_DATASPACE_FIRST_RECORD,F1 RESET STARTING RECORD\n         XC    SCONTROL_DATASPACE_LAST_RECORD,SCONTROL_DATASPACE_LAST_R+\n               ECORD\n         L     R1,SCONTROL_DATASPACE_BLOCKS       BLOCKS\n         MH    R1,H4096                           MULTIPLY BY 4K\n         BCTR  R1,0                               MINUS 1\n         ST    R1,SCONTROL_DATASPACE_LAST_ADDRESS\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         L     R13,4(R13)                         RETORE SAVE AREA\n         LM    R14,R12,12(R13)                    RESTORE REGISTERS\n         BR    R14                                RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDCLEAR)\nF0            DC    F'0'\nF1            DC    F'1'\nH4096         DC    H'4096'\n\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDCLEAR          DSECT\n                  COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL          DSECT\n                  SCONTROL SCONTROL\nSCONTROL_L        EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     REGEQU\n                  END      CLEAR\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "CREATE": {"ttr": 10, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: CREATE                                                *\n*                                                                     *\n*  Create a new data space                                            *\n*                                                                     *\n* ------------------------------------------------------------------- *\nCREATE   CSECT\nCREATE   AMODE 31\nCREATE   RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING CREATE,R15\n         B     INIT0000\nMODID    DC    CL8'CREATE'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                SAVE REGS\n         LR    R10,R15                        COPY ENTRY POINT ADDR\n         DROP  R15\n         USING CREATE,R10                     DEFINE BASE\n         USING DSPCREQ,R9                     DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE           DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD          WORK AREA BASE\n         A     R15,DXD_START                  PLUS DISPLACEMENT\n         ST    R13,4(R15)                     SAVE R13\n         ST    R15,8(R13)                     CHAIN SAVE AREA\n         LR    R13,R15                        COPY WORK AREA ADDRESS\n         USING DXDCRE,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ICM   R1,15,SCONTROL_DATASPACE_BLOCKS\n         BNZ   CRE0000\n         LA    R1,1000\n         STCM  R1,15,SCONTROL_DATASPACE_BLOCKS\nCRE0000  DS    0H\n         ITRACE ID=CREATE,                                             +\n               DATA1=(SCONTROL_DATASPACE_BLOCKS,4),                    +\n               DATA2=(SCONTROL_DATASPACE_FIRST_RECORD,4)\n         MVC   DXD_DSPSERV(DSPSERV_L),DSPSERV_I\n         ITRACE ID=DSPSERV\n         AP    COMM_DATASPACE_NUMBER,P1\n         MVC   SCONTROL_DATASPACE_NAME,EDIT_WORD\n         ED    SCONTROL_DATASPACE_NAME,COMM_DATASPACE_NUMBER\n         MVI   SCONTROL_DATASPACE_NAME,C'D'\n         DSPSERV CREATE,                                               +\n               NAME=SCONTROL_DATASPACE_NAME,                           +\n               STOKEN=SCONTROL_DATASPACE_TOKEN,                        +\n               BLOCKS=SCONTROL_DATASPACE_BLOCKS,                       +\n               NUMBLKS=DXD_MAX_BLOCKS,                                 +\n               TYPE=BASIC,                                             +\n               MF=(E,DXD_DSPSERV)\n         LTR   R15,R15                        SUCCESSFUL?\n         BNZ   ERR0020                        NO\n         ITRACE ID=ALESERV\n         MVC   DXD_ALESERV(ALESERV_L),ALESERV_I\n         ALESERV ADD,                                                  +\n               STOKEN=SCONTROL_DATASPACE_TOKEN,                        +\n               ALET=SCONTROL_DATASPACE_ALET,                           +\n               MF=(E,DXD_ALESERV)\n         LTR   R15,R15                        SUCCESSFUL?\n         BNZ   ERR0010                        NO\n         ITRACE ID=ALET,                                               +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=(SCONTROL_DATASPACE_ALET,4)\n         SR    R0,R0                          CLEAR REGISTER\n         SR    R1,R1                          CLEAR REGISTER\n         SR    R14,R14                        CLEAR REGISTER\n         L     R15,DXD_MAX_BLOCKS             DATA SPACE SIZE IN BLOCKS\n         MH    R15,H4096                      SIZE OF DATA SPACE\n         LAM   R14,R14,SCONTROL_DATASPACE_ALET  SET ACCESS REGISTER\n         SAC   512                            TURN ON AR MODE\n         MVCL  R14,R0                         INITIALIZE THE DATA SPACE\n         SAC   0                              TURN OFF AR MODE\n         LAM   R14,R14,F0                     RESET ACCESS REGISTER\n         XC    SCONTROL_DATASPACE_LAST_RECORD,SCONTROL_DATASPACE_LAST_R+\n               ECORD\n         XC    SCONTROL_DATASPACE_BYTES,SCONTROL_DATASPACE_BYTES\n         MVC   SCONTROL_DATASPACE_BLOCKS,DXD_MAX_BLOCKS\n         L     R1,SCONTROL_DATASPACE_BLOCKS   SIZE IN 4K BLOCKS\n         MH    R1,H4096                       TIMES SIZE OF A BLOCK\n         BCTR  R1,0                           MINUS 1\n         ST    R1,SCONTROL_DATASPACE_LAST_ADDRESS  INITIALIZE ADDR\n         ITRACE ID=CREATED,                                            +\n               DATA1=(DXD_MAX_BLOCKS,4),                               +\n               DATA2=(SCONTROL_DATASPACE_ALET,4)\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0010  DS    0H\n         MVI   COMM_MSG_ID+1,1           ALESERV FAILED\n         B     ERR1000\nERR0020  DS    0H\n         MVI   COMM_MSG_ID+1,2           DSPSERV FAILED\n         B     ERR1000\nERR1000  DS    0H\n         STCM  R15,15,COMM_INFO_01\n         STCM  R0,15,COMM_INFO_01+4\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         L     R15,COMM_V_OSMSG\n         BALR  R14,R15                   BUILD MESSAGE\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         L     R13,4(R13)                RESTORE SAVE AREA ADDRESS\n         LM    R14,R12,12(R13)           RESTORE REMAINING REGISTERS\n         BR    R14                       RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDCRE)\nDSPSERV_I     DSPSERV MF=(L,DSP)\nDSPSERV_L     EQU   *-DSPSERV_I\nALESERV_I     ALESERV MF=L\nALESERV_L     EQU   *-ALESERV_I\nF0            DC    16F'0'\nH4096         DC    H'4096'\n\nP1            DC    P'1'\n\nEDIT_WORD     DC    X'F020202020202120'\n\n\n               LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDCRE            DSECT\n                  COPY      DXDPREF\nDXD_DSPSERV       DS        0F,(DSPSERV_L)X\nDXD_ALESERV       DS        0F,(ALESERV_L)X\nDXD_MAX_BLOCKS    DS        F\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL          DSECT\n                  SCONTROL SCONTROL\nSCONTROL_L        EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     REGEQU\n                  END      CREATE\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "DELETE": {"ttr": 14, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: DELETE                                                *\n*                                                                     *\n*  DELETE a data space                                                *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDELETE   CSECT\nDELETE   AMODE 31\nDELETE   RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING DELETE,R15\n         B     INIT0000\nMODID    DC    CL8'DELETE'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                SAVE REGS\n         LR    R10,R15                        COPY ENTRY POINT ADDR\n         DROP  R15\n         USING DELETE,R10                     DEFINE BASE\n         USING DSPCREQ,R9                     DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE           DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD          WORK AREA BASE\n         A     R15,DXD_START                  PLUS DISPLACEMENT\n         ST    R13,4(R15)                     SAVE R13\n         ST    R15,8(R13)                     CHAIN SAVE AREA\n         LR    R13,R15                        COPY WORK AREA ADDRESS\n         USING DXDDEL,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDSPC0100 DS    0H\n         ITRACE ID=DELETE,                                             +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=(SCONTROL_DATASPACE_ALET,4)\n         MVC   DXD_DSPSERV(DSPSERV_L),DSPSERV_I\n         MVC   DXD_ALESERV(ALESERV_L),ALESERV_I\n         ITRACE ID=ALESERV,                                            +\n               DATA1=(=C'DELETE',6),                                   +\n               DATA2=(SCONTROL_DATASPACE_ALET,4)\n         ALESERV DELETE,                                               +\n               ALET=SCONTROL_DATASPACE_ALET,                           +\n               MF=(E,DXD_ALESERV)\n         ITRACE ID=ALE_RC,                                             +\n               RDATA1=R15\n         LTR   R15,R15                        SUCCESSFUL?\n         BNZ   ERR0010                        NO\n         ITRACE ID=DSPSERV,                                            +\n               DATA1=(=C'DELETE',6),                                   +\n               DATA2=SCONTROL_DATASPACE_TOKEN\n         DSPSERV DELETE,                                               +\n               STOKEN=SCONTROL_DATASPACE_TOKEN,                        +\n               MF=(E,DXD_DSPSERV)\n         ITRACE ID=DSP_RC,                                             +\n               RDATA1=R15\n         LTR   R15,R15                        SUCCESSFUL?\n         BNZ   ERR0020                        NO\n         XC    SCONTROL_DATASPACE_ALET,SCONTROL_DATASPACE_ALET\n         MVC   SCONTROL_DATASPACE_DISPLAY_FIRST_RECORD,F1\n         XC    SCONTROL_DATASPACE_LAST_RECORD,SCONTROL_DATASPACE_LAST_R+\n               ECORD\n         XC    SCONTROL_DATASPACE_LAST_ADDRESS,SCONTROL_DATASPACE_LAST_+\n               ADDRESS\n         XC    SCONTROL_DATASPACE_BLOCKS,SCONTROL_DATASPACE_BLOCKS\n         XC    SCONTROL_DATASPACE_TOKEN,SCONTROL_DATASPACE_TOKEN\n         MVC   SCONTROL_DATASPACE_NAME,COMM_BLANKS\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0010  DS    0H\n         MVI   COMM_MSG_ID+1,1                ALESERV FAILED\n         B     ERR1000\nERR0020  DS    0H\n         MVI   COMM_MSG_ID+1,2                DSPSERV FAILED\nERR1000  DS    0H\n         STCM  R15,15,COMM_INFO_01\n         STCM  R0,15,COMM_INFO_01+4\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         L     R15,COMM_V_OSMSG\n         BALR  R14,R15                        BUILD MESSAGE\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         L     R13,4(R13)                     RESTORE SAVE AREA ADDRESS\n         LM    R14,R12,12(R13)                RESTORE REGISTERS\n         BR    R14                            RETURN\n* ------------------------------------------------------------------- *\n*        CONSTANTS                                                    *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDDEL)\nDSPSERV_I     DSPSERV MF=(L,DSP)\nDSPSERV_L     EQU   *-DSPSERV_I\nALESERV_I     ALESERV MF=L\nALESERV_L     EQU   *-ALESERV_I\n\nF1            DC    F'1'\n\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDDEL            DSECT\n                  COPY      DXDPREF\nDXD_DSPSERV       DS        0F,(DSPSERV_L)X\nDXD_ALESERV       DS        0F,(ALESERV_L)X\nDXD_MAX_BLOCKS    DS        F\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL          DSECT\n                  SCONTROL SCONTROL\nSCONTROL_L        EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     REGEQU\n                  END      DELETE\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "DUMP": {"ttr": 17, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: DUMP                                                  *\n*                                                                     *\n*  DUMP a dataspace                                                   *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDUMP     CSECT\nDUMP     AMODE 31\nDUMP     RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING DUMP,R15\n         B     INIT0000\nMODID    DC    CL8'DUMP'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                SAVE REGS\n         LR    R10,R15                        COPY ENTRY POINT ADDR\n         DROP  R15\n         USING DUMP,R10                       DEFINE BASE\n         USING DSPCREQ,R9                     DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE           DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD          WORK AREA BASE\n         A     R15,DXD_START                  PLUS DISPLACEMENT\n         ST    R13,4(R15)                     SAVE R13\n         ST    R15,8(R13)                     CHAIN SAVE AREA\n         LR    R13,R15                        COPY WORK AREA ADDRESS\n         USING DXDDUMP,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ITRACE ID=DUMP,                                               +\n               DATA1=SCONTROL_DATASPACE_NAME\n         L     R7,DSPCREQ_RECORD_ADDR\n         USING PR_LINE,R7\n         L     R6,DSPCREQ_DCB\n         MVC   PR_LINE(HEADING_1_L),HEADING_1\n         BAL   R5,PRINT000\n         MVC   PR_FIELD,C_NAME\n         MVC   PR_VALUE(L'SCONTROL_DATASPACE_NAME),SCONTROL_DATASPACE_N+ME\n               AME\n         BAL   R5,PRINT000\n         MVC   PR_FIELD,C_TOKEN\n         UNPK  PR_VALUE+0(9),SCONTROL_DATASPACE_TOKEN+0(5)\n         UNPK  PR_VALUE+8(9),SCONTROL_DATASPACE_TOKEN+4(5)\n         TR    PR_VALUE(16),HEXCHAR\n         MVI   PR_VALUE+16,C' '\n         BAL   R5,PRINT000\n         MVC   PR_FIELD,C_ALET\n         UNPK  PR_VALUE(9),SCONTROL_DATASPACE_ALET(5)\n         TR    PR_VALUE(8),HEXCHAR\n         MVI   PR_VALUE+8,C' '\n         BAL   R5,PRINT000\n         MVC   PR_FIELD,C_BLOCKS\n         L     R1,SCONTROL_DATASPACE_BLOCKS\n         CVD   R1,COMM_DWORD\n         MVC   PR_VALUE(L'EDIT_WORD_1),EDIT_WORD_1\n         ED    PR_VALUE(L'EDIT_WORD_1),COMM_DWORD+3\n         BAL   R5,PRINT000\n         MVC   PR_FIELD,C_START\n         L     R1,SCONTROL_DATASPACE_DISPLAY_FIRST_RECORD\n         CVD   R1,COMM_DWORD\n         MVC   PR_VALUE(L'EDIT_WORD_1),EDIT_WORD_1\n         ED    PR_VALUE(L'EDIT_WORD_1),COMM_DWORD+3\n         BAL   R5,PRINT000\n         MVC   PR_FIELD,C_HIGH\n         L     R1,SCONTROL_DATASPACE_LAST_RECORD\n         CVD   R1,COMM_DWORD\n         MVC   PR_VALUE(L'EDIT_WORD_1),EDIT_WORD_1\n         ED    PR_VALUE(L'EDIT_WORD_1),COMM_DWORD+3\n         BAL   R5,PRINT000\n         MVC   PR_FIELD,C_LAST\n         UNPK  PR_VALUE(9),SCONTROL_DATASPACE_LAST_ADDRESS(5)\n         TR    PR_VALUE(8),HEXCHAR\n         MVI   PR_VALUE+8,C' '\n         BAL   R5,PRINT000\n         MVC   PR_LINE(HEADING_2_L),HEADING_2\n         BAL   R5,PRINT000\n         L     R3,SCONTROL_DATASPACE_DISPLAY_FIRST_RECORD\n         SR    R4,R4                           DATA STARTS AT ADDRESS 0\n         USING DATASPACE_INDEX,R4\nDUMP0010 DS    0H\n         C     R3,SCONTROL_DATASPACE_LAST_RECORD AT LAST RECORD?\n         BH    DUMP0030                        YES\n         LAM   R4,R4,SCONTROL_DATASPACE_ALET   LOAD AR WITH ALET\n         SAC   512                             ENTER AR MODE\n         CVD   R3,COMM_DWORD                   CONVERT TO DECIMAL\n         MVC   PR_RECORD_NBR,EDIT_WORD_2\n         ED    PR_RECORD_NBR,COMM_DWORD+4      EDIT RECORD NUMBER\n         UNPK  PR_RECORD_ADDR(9),DATASPACE_INDEX_ADDR(5)\n         TR    PR_RECORD_ADDR,HEXCHAR          TRANSLATE DATA ADDRESS\n         MVI   PR_RECORD_ADDR+8,C' '\n         L     R1,DATASPACE_INDEX_RBA          RBA (VSAM RECORDS)\n         CVD   R1,COMM_DWORD                   CONVERT TO DECIMAL\n         MVC   PR_RECORD_RBA,EDIT_WORD_2       COPY EDIT WORD\n         ED    PR_RECORD_RBA,COMM_DWORD+4      EDIT RBA\n         L     R1,DATASPACE_INDEX_LENGTH       DATA LENGTH\n         CVD   R1,COMM_DWORD                   CONVERT TO DECIMAL\n         MVC   PR_RECORD_LENGTH,EDIT_WORD_2    COPY EDIT WORD\n         ED    PR_RECORD_LENGTH,COMM_DWORD+4   EDIT LENGTH\n         UNPK  PR_RECORD_CCHHR(11),DATASPACE_INDEX_CCHHR(6)\n         TR    PR_RECORD_CCHHR,HEXCHAR         TRANSLATE DISK ADDRESS\n         MVI   PR_RECORD_CCHHR+10,C' '\n         L     R14,DATASPACE_INDEX_ADDR        DATA ADDRESS\n         CH    R1,=Y(L'PR_RECORD_DATA)         DATA TOO LONG?\n         BNH   DUMP0020                        NO\n         LH    R1,=Y(L'PR_RECORD_DATA)         LIMIT LENGTH\nDUMP0020 DS    0H\n         BCTR  R1,0                            FOR EXECUTE\n         LAM   R14,R14,SCONTROL_DATASPACE_ALET LOAD AR WITH ALET\n         EX    R1,DUMP_MVC                     COPY DATA\n         LA    R3,1(,R3)                       ADD 1 TO RECORD COUNTER\n         LA    R4,DATASPACE_INDEX_L(,R4)       NEXT RECORD\n         SAC   0                               TURN OFF AR MODE\n         BAL   R5,PRINT000                     PRINT\n         B     DUMP0010                        PROCESS NEXT REGISTER\nDUMP0030 DS    0H\n         SAC   0                               MAKE SURE AR MODE IS OFF\n         B     EXIT0000\nPRINT000 DS    0H\n         PUT   (R6),(R7)\n         MVC   PR_LINE(PR_LINE_L),COMM_BLANKS\n         BR    R5\nDUMP_MVC MVC   PR_RECORD_DATA(0),0(R14)\n\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         LAM   R4,R4,F0                        RESET AR\n         LAM   R14,R14,F0                      RESET AR\n         L     R13,4(R13)                      RESTORE SAVE AREA\n         LM    R14,R12,12(R13)                 RESTORE REGISTERS\n         BR    R14                             RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDDUMP)\nF0            DC    F'0'\n\nEDIT_WORD_1   DC    X'40202020202020202120'\nEDIT_WORD_2   DC    X'4020202020202020'\nEDIT_WORD_3   DC    X'F020202020202120'\n\nHEXCHAR       EQU   *-C'0'\n              DC    C'0123456789ABCDEF'\n\nC_NAME        DC    CL8'NAME'\nC_TOKEN       DC    CL8'TOKEN'\nC_ALET        DC    CL8'ALET'\nC_BLOCKS      DC    CL8'BLOCKS'\nC_NEXT        DC    CL8'NEXT'\nC_START       DC    CL8'START'\nC_HIGH        DC    CL8'HIGH'\nC_LAST        DC    CL8'LAST'\n\nHEADING_1     DS    0C\n              DC    C'1'\n              DC    61C'-'\n              DC    C'DATA SPACE'\n              DC    61C'-'\nHEADING_1_L   EQU   *-HEADING_1\n\nHEADING_2     DS    0C\n              DC    C'0'\n              DC    CL8' REC NBR'\n              DC    CL2' '\n              DC    CL8'  ADDR  '\n              DC    CL2' '\n              DC    CL8' LENGTH '\n              DC    CL2' '\n              DC    CL8'    RBA '\n              DC    CL2' '\n              DC    CL10'CCCCHHHHRR'\n              DC    CL2' '\n              DC    41C'_'\n              DC    CL4'DATA'\n              DC    41C'_'\nHEADING_2_L   EQU   *-HEADING_2\n\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDDUMP           DSECT\n                  COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nPR_LINE          DSECT\n                 DS     C\nPR_FIELD         DS     CL8\n                 DS     CL4\nPR_VALUE         DS     CL120\n\n                 ORG    PR_FIELD\nPR_RECORD_NBR    DS     CL8\n                 DS     CL2\nPR_RECORD_ADDR   DS     CL8\n                 DS     CL2\nPR_RECORD_LENGTH DS     CL8\n                 DS     CL2\nPR_RECORD_RBA    DS     CL8\n                 DS     CL2\nPR_RECORD_CCHHR  DS     CL10\n                 DS     CL2\nPR_RECORD_DATA   DS     CL090\n                 ORG\nPR_LINE_L        EQU    *-PR_LINE\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL          DSECT\n                  SCONTROL SCONTROL\nSCONTROL_L        EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     REGEQU\n                  END      DUMP\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "FINDCCHH": {"ttr": 261, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: Find a VTOC record by CCHHR                           *\n*                                                                     *\n* ------------------------------------------------------------------- *\nFINDCCHH CSECT\nFINDCCHH AMODE 31\nFINDCCHH RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING FINDCCHH,R15\n         B     INIT0000\nMODID    DC    CL8'FINDCCHH'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                SAVE REGS\n         LR    R10,R15                        COPY ENTRY POINT ADDR\n         DROP  R15\n         USING FINDCCHH,R10                   DEFINE BASE\n         USING DSPCREQ,R9                     DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE           DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD          WORK AREA BASE\n         A     R15,DXD_START                  PLUS DISPLACEMENT\n         ST    R13,4(R15)                     SAVE R13\n         ST    R15,8(R13)                     CHAIN SAVE AREA\n         LR    R13,R15                        COPY WORK AREA ADDRESS\n         USING DXDCCHH,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY,                                              +\n               DATA1=(DSPCREQ_RECORD_ADDR,4)\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ITRACE ID=FINDCCHH,                                           +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=(DSPCREQ_CCHHR,5)\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_VTOC\n         BNE   ERR0010                        NOT VTOC\n         SR    R1,R1                          START WITH FIRST RECORD\n         SR    R7,R7                          FIRST INDEX RECORD\n         USING DATASPACE_INDEX,R7             DEFINE BASE\n         LAM   R7,R7,SCONTROL_DATASPACE_ALET  SET AR\n         SAC   512                            TURN ON AR MODE\nFIND0020 DS    0H\n         CLC   DSPCREQ_CCHHR,DATASPACE_INDEX_CCHHR\n         BE    FIND0030                       FOUND IT\n         LA    R7,DATASPACE_INDEX_L(,R7)      NEXT RECORD'S INDEX\n         A     R1,F1                          ADD 1 TO RECORD NUMBER\n         C     R1,SCONTROL_DATASPACE_LAST_RECORD AT LAST RECORD?\n         BNH   FIND0020                       NO, KEEP LOOKING\n         SAC   0\n         ITRACE ID=NOT_FND\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR      NOT FOUND\n         MVC   COMM_MSG_1(MSG_02_L),MSG_02\n         B     EXIT0000\nFIND0030 DS    0H\n         ST    R1,DSPCREQ_RECORD_NBR          RETURN RECORD NBR\n         L     R14,DATASPACE_INDEX_ADDR       RECORD'S ADDRESS\n         LAM   R14,R14,SCONTROL_DATASPACE_ALET\n         L     R15,DATASPACE_INDEX_LENGTH\n         STCM  R15,15,DSPCREQ_RECORD_LENGTH\n         L     R0,DSPCREQ_RECORD_ADDR         CALLER'S I/O AREA ADDRESS\n         LR    R1,R15                         COPY TO 'LENGTH 2'\n         MVCL  R0,R14                         COPY RECORD TO CALLER\n         SAC   0\n         ITRACE ID=FOUND\n         MVI   DSPCREQ_RC,$DSPCREQ_OK         SET RC\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0010  DS    0H\n         MVI   COMM_MSG_ID+1,15               SET MESSAGE ID\n         L     R14,COMM_V_OSMSG\n         BALR  R14,R15                        BUILD MESSAGE\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         LAM   R7,R7,F0\n         LAM   R14,R14,F0\n         L     R13,4(R13)                     RESTORE ADDRESS\n         LM    R14,R12,12(R13)                RESTORE REGISTERS\n         BR    R14                            RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDCCHH)\nF0            DC    F'0'\nF1            DC    F'1'\n\nMSG_02        DC    C'NOT FOUND'\nMSG_02_L      EQU   *-MSG_02\n\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDCCHH       DSECT\n              COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              SESSION   TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              BPXYSTAT  DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              DSPCREQ   DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL      DSECT\n              SCONTROL  SCONTROL\nSCONTROL_L    EQU       *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY      SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY      TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY      REGEQU\n              END       FINDCCHH\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "FINDDSN": {"ttr": 264, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: FINDDSN                                               *\n*                                                                     *\n*  FINDDSN A DATA SET                                                 *\n*                                                                     *\n* ------------------------------------------------------------------- *\nFINDDSN  CSECT\nFINDDSN  AMODE 31\nFINDDSN  RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING FINDDSN,R15\n         B     INIT0000\nMODID    DC    CL8'FINDDSN'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)              SAVE REGS\n         LR    R10,R15                      COPY ENTRY POINT ADDR\n         DROP  R15\n         USING FINDDSN,R10                  DEFINE BASE\n         USING DSPCREQ,R9                   DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE         DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD        WORK AREA BASE\n         A     R15,DXD_START                PLUS DISPLACEMENT\n         ST    R13,4(R15)                   SAVE R13\n         ST    R15,8(R13)                   CHAIN SAVE AREA\n         LR    R13,R15                      COPY WORK AREA ADDRESS\n         USING DXDDSN,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_VTOC\n         BNE   ERR0010\n         ITRACE ID=FIND_DSN,                                           +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=DSPCREQ_DSN\n         CLI   DSPCREQ_FUNC,$DSPCREQ_FIND_DSN_S\n         BE    FIND0020                     USE FULL LENGTH\n         LA    R1,DSPCREQ_DSN+(L'DSPCREQ_DSN-1)\n         LA    R15,L'DSPCREQ_DSN-1          LENGTH OF NAME\nFIND0010 DS    0H\n         CLI   0(R1),C' '                   BLANK?\n         BNE   FIND0020                     NO\n         BCTR  R1,0\n         BCT   R15,FIND0010                 LOOP\n         MVC   COMM_MSG_1(MSG_01_L),MSG_01\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n         B     EXIT0000\nFIND0020 DS    0H\n         ICM   R2,15,SESS_FORMAT1S          HIGHEST FORMAT_1 STORED\n         BZ    FIND0070\n         L     R3,DSPCREQ_RECORD_NBR        STARTING RECORD NBR\n         LR    R7,R3                        COPY\n         MH    R7,=Y(DATASPACE_INDEX_L)     MULTIPLY BY LENGTH EACH\n         USING DATASPACE_INDEX,R7           DEFINE BASE\n         A     R3,F1                        PLUS 1\n         SR    R2,R3                        MINUS FIRST\n         A     R2,F1                        PLUS 1\n         LAM   R7,R7,SCONTROL_DATASPACE_ALET SET AR\n         LAM   R4,R4,SCONTROL_DATASPACE_ALET SET AR\n         SAC   512                          TURN ON AR MODE\nFIND0030 DS    0H\n         ICM   R4,15,DATASPACE_INDEX_ADDR   ADDRESS OF STORED RECORD\n         BZ    FIND0060                     NOT STORED\n         LA    R4,1(,R4)                    SKIP SORT SEQUENCER\n         CLI   DSPCREQ_FUNC,$DSPCREQ_FIND_DSN_G\n         BE    FIND0040                     DO GENERIC SEARCH\n         CLC   DSPCREQ_DSN,0(R4)            DSN MATCH?\n         BE    FIND0080                     YES\n         B     FIND0060\nFIND0040 DS    0H\n         LA    R14,L'DSPCREQ_DSN\n         SR    R14,R15                      NUMBER OF LOOPS\nFIND0050 DS    0H\n         EX    R15,DSN_CLC                  MATCH?\n         BE    FIND0080                     YES\n         LA    R4,1(,R4)                    PLUS 1\n         BCT   R14,FIND0050                 LOOP\nFIND0060 DS    0H\n         LA    R7,DATASPACE_INDEX_L(,R7)    NEXT INDEX ENTRY\n         A     R3,F1                        ADD 1 TO RECORD NUMBER\n         BCT   R2,FIND0030                  CHECK THIS ENTRY\n         SAC   0                            TURN OFF AR MODE\nFIND0070 DS    0H\n         MVC   COMM_MSG_1(MSG_02_L),MSG_02\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR    SET ERROR INDICATOR\n         B     EXIT0000\nFIND0080 DS    0H\n         L     R0,DSPCREQ_RECORD_ADDR       CALLER'S I/O AREA ADDRESS\n         L     R1,DATASPACE_INDEX_LENGTH    RECORD LENGTH\n         ST    R1,DSPCREQ_RECORD_LENGTH     PASS LENGTH TO CALLER\n         L     R4,DATASPACE_INDEX_ADDR      RECORD ADDRESS\n         LR    R5,R1                        COPY LENGTH\n         MVCL  R0,R4                        COPY TO CALLER\n         SAC   0                            TURN OFF AR MODE\n         ITRACE ID=FOUND,                                              +\n               RDATA1=R3\n         ST    R3,DSPCREQ_RECORD_NBR        RETURN RECORD NUMBER\n         MVI   DSPCREQ_RC,$DSPCREQ_OK       SET RC\n         B     EXIT0000                     EXIT\nDSN_CLC  CLC   DSPCREQ_DSN(0),0(R4)\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0010  DS    0H\n         MVI   COMM_MSG_ID+1,15             SET MESSAGE ID\n         L     R14,COMM_V_OSMSG\n         BALR  R14,R15                      BUILD MESSAGE\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         LAM   R7,R7,F0                     RESET AR\n         LAM   R4,R4,F0                     RESET AR\n         L     R13,4(R13)                   RESTORE SAVE AREA ADDRESS\n         LM    R14,R12,12(R13)              RESTORE REMAINING REGISTERS\n         BR    R14                          RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDDSN)\nF0            DC    F'0'\nF1            DC    F'1'\n\nMSG_01        DC    C'DSN IS ALL BLANKS'\nMSG_01_L      EQU   *-MSG_01\nMSG_02        DC    C'NOT FOUND'\nMSG_02_L      EQU   *-MSG_02\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDDSN        DSECT\n              COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL      DSECT\n              SCONTROL SCONTROL\nSCONTROL_L    EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY     REGEQU\n              END      FINDDSN\n", "mimetype": "text/plain", "datatype": "iso-8859-1", "extension": ".txt"}, "FINDFILE": {"ttr": 268, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: FINDFILE                                              *\n*                                                                     *\n*  FINDFILE a file in a UNIX directory data space                     *\n*                                                                     *\n* ------------------------------------------------------------------- *\nFINDFILE CSECT\nFINDFILE AMODE 31\nFINDFILE RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING FINDFILE,R15\n         B     INIT0000\nMODID    DC    CL8'FINDFILE'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)         SAVE REGS\n         LR    R10,R15                 COPY ENTRY POINT ADDR\n         DROP  R15\n         USING FINDFILE,R10            DEFINE BASE\n         USING DSPCREQ,R9              DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE    DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD   WORK AREA BASE\n         A     R15,DXD_START           PLUS DISPLACEMENT\n         ST    R13,4(R15)              SAVE R13\n         ST    R15,8(R13)              CHAIN SAVE AREA\n         LR    R13,R15                 COPY WORK AREA ADDRESS\n         USING DXDFILE,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_HFS_DIR\n         BNE   ERR0010\n         ITRACE ID=FINDFILE,                                           +\n               DATA1=DSPCREQ_FILE+0,                                   +\n               DATA2=DSPCREQ_FILE+8\n         LA    R1,1                           INITIALIZE LOOP COUNTER\n         LA    R14,255                        LENGTH (INSTRUCTION TYPE)\n         LA    R15,DSPCREQ_FILE+255           END OF FILE NAME\n         CLI   DSPCREQ_FUNC,$DSPCREQ_FIND_FILE_S\n         BE    FIND0020                       SPECIFIC, USE FULL LENGTH\nFIND0010 DS    0H\n         CLI   0(R15),C' '                    BLANK?\n         BNE   FIND0020                       NO\n         LA    R1,1(,R1)                      ADD TO LOOP COUNTER\n         BCTR  R15,0                          BACK UP 1\n         BCT   R14,FIND0010                   LOOP\nFIND0020 DS    0H\n         STH   R1,DXD_SEARCH_LOOPS            SAVE NUMBER OF LOOPS\n         STH   R14,DXD_SEARCH_LENGTH          SAVE FILE NAME LENGTH\n         ITRACE ID=LOOP_CTL,                                           +\n               RDATA1=R1,                                              +\n               RDATA2=R14\n         L     R7,DSPCREQ_RECORD_NBR          STARTING RECORD\n         LR    R6,R7                          COPY RECORD NUMBER\n         A     R6,F1                          ADD 1\n         MH    R6,=Y(DATASPACE_INDEX_L)       MULTIPLY BY LENGTH EACH\n         USING DATASPACE_INDEX,R6             DEFINE BASE\n         LAM   R6,R6,SCONTROL_DATASPACE_ALET  LOAD AR\n         LAM   R4,R4,SCONTROL_DATASPACE_ALET  LOAD AR\n         LAM   R1,R1,SCONTROL_DATASPACE_ALET  LOAD AR\n         SAC   512                            TURN ON AR MODE\nFIND0030 DS    0H\n         ICM   R4,15,DATASPACE_INDEX_ADDR     ADDRESS OF STORED RECORD\n         BZ    FIND0050                       NOT STORED\n         LA    R1,2(,R4)                      1ST CHARACTER OF NAME\n         LH    R14,DXD_SEARCH_LOOPS           NUMBER OF LOOPS\n         LH    R15,DXD_SEARCH_LENGTH          LENGTH OF SEARCH ARG\nFIND0040 DS    0H\n         EX    R15,FILE_SEARCH_CLC            STRING LOCATED?\n         BE    FIND0060                       YES\n         LA    R1,1(,R1)                      NEXT ADDRESS\n         BCT   R14,FIND0040                   LOOP\nFIND0050 DS    0H\n         C     R7,SCONTROL_DATASPACE_LAST_RECORD        AT LAST RECORD?\n         BE    FIND0070                       YES\n         LA    R6,DATASPACE_INDEX_L(,R6)      NEXT INDEX ENTRY\n         A     R7,F1                          ADD 1 TO RECORD NUMBER\n         B     FIND0030                       CHECK THIS ONE\nFIND0060 DS    0H\n         L     R5,DATASPACE_INDEX_LENGTH      LENGTH OF STORED RECORD\n         ST    R5,DSPCREQ_RECORD_LENGTH       RETURN LENGTH TO USER\n         L     R14,DSPCREQ_RECORD_ADDR        USER'S I/O AREA\n         LR    R15,R5                         COPY LENGTH TO 'R2'\n         MVCL  R14,R4                         COPY RECORD TO USER\n         SAC   0                              TURN OFF AR MODE\n         ITRACE ID=FOUND,                                              +\n               RDATA1=R7\n         ST    R7,DSPCREQ_RECORD_NBR          RETURN RECORD NUMBER\n         MVI   DSPCREQ_RC,$DSPCREQ_OK         FOUND\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nFIND0070 DS    0H\n         SAC   0\n         ITRACE ID=NOT_FND\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR      NOT FOUND\n         MVI   COMM_MSG_ID+1,13\n         MVC   COMM_INFO_01(L'DSPCREQ_FILE),DSPCREQ_FILE\n         L     R15,COMM_V_OSMSG\n         BALR  R14,R15\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0010  DS    0H\n         MVI   COMM_MSG_ID+1,16               SET MESSAGE ID\n         L     R14,COMM_V_OSMSG\n         BALR  R14,R15                        BUILD MESSAGE\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         L     R13,4(R13)                     RESTORE ADDRESS\n         LM    R14,R12,12(R13)                RESTORE REGISTERS\n         BR    R14                            RETURN\n* ------------------------------------------------------------------- *\nFILE_SEARCH_CLC     CLC DSPCREQ_FILE(0),0(R1)\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDFILE)\nF0            DC    F'0'\nF1            DC    F'1'\n\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDFILE           DSECT\n                  COPY      DXDPREF\nDXD_SEARCH_LOOPS  DS        H\nDXD_SEARCH_LENGTH DS        H\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL          DSECT\n                  SCONTROL SCONTROL\nSCONTROL_L        EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     REGEQU\n                  END      FINDFILE\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "FINDMEM": {"ttr": 516, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: FINDMEM                                               *\n*                                                                     *\n*  FIND a member                                                      *\n*                                                                     *\n* ------------------------------------------------------------------- *\nFINDMEM  CSECT\nFINDMEM  AMODE 31\nFINDMEM  RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING FINDMEM,R15\n         B     INIT0000\nMODID    DC    CL8'FINDMEM'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)            SAVE REGS\n         LR    R10,R15                    COPY ENTRY POINT ADDR\n         DROP  R15\n         USING FINDMEM,R10                DEFINE BASE\n         USING DSPCREQ,R9                 DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE       DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD      WORK AREA BASE\n         A     R15,DXD_START              PLUS DISPLACEMENT\n         ST    R13,4(R15)                 SAVE R13\n         ST    R15,8(R13)                 CHAIN SAVE AREA\n         LR    R13,R15                    COPY WORK AREA ADDRESS\n         USING DXDMEM,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY,                                              +\n               DATA1=DSPCREQ_MEMBER\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_PDS_DIR\n         BNE   ERR0010                        DATA IS NOT FROM PDS DIR\n         ITRACE ID=FINDMEM,                                            +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=DSPCREQ_MEMBER\n         LA    R1,1                           INITIALIZE LOOP COUNTER\n         LA    R14,7                          LENGTH (INSTRUCTION TYPE)\n         LA    R15,DSPCREQ_MEMBER+7           END OF MEMBER NAME\n         CLI   DSPCREQ_FUNC,$DSPCREQ_FIND_MEMBER_G\n         BE    FIND0010                       GENERIC\n         L     R7,SCONTROL_DATASPACE_FIRST_RECORD\n         B     FIND0030\nFIND0010 DS    0H\n         CLI   0(R15),C' '                    BLANK?\n         BNE   FIND0020                       NO\n         LA    R1,1(,R1)                      ADD TO LOOP COUNTER\n         BCTR  R15,0                          BACK UP 1\n         BCT   R14,FIND0010                   LOOP\nFIND0020 DS    0H\n         L     R7,DSPCREQ_RECORD_NBR          STARTING RECORD\nFIND0030 DS    0H\n         STH   R1,DXD_SEARCH_LOOPS            SAVE NUMBER OF LOOPS\n         STH   R14,DXD_SEARCH_LENGTH          SAVE MEMBER NAME LENGTH\n         LR    R6,R7                          COPY RECORD NUMBER\n         BCTR  R6,0                           MINUS 1\n         MH    R6,=Y(DATASPACE_INDEX_L)       MULTIPLY BY LENGTH EACH\n         USING DATASPACE_INDEX,R6             DEFINE BASE\n         LAM   R6,R6,SCONTROL_DATASPACE_ALET  LOAD AR\n         LAM   R4,R4,SCONTROL_DATASPACE_ALET  LOAD AR\n         LAM   R1,R1,SCONTROL_DATASPACE_ALET  LOAD AR\n         SAC   512                            TURN ON AR MODE\nFIND0040 DS    0H\n         ICM   R4,15,DATASPACE_INDEX_ADDR     ADDRESS OF STORED RECORD\n         BZ    FIND0060                       NOT STORED\n         USING DIR_RECORD,R4\n         MVC   DXD_MEMBER,DIR_NAME\n         LA    R1,DIR_NAME                    1ST CHARACTER OF NAME\n\n*\n*        Uncomment these if needed for debugging\n*\n*        SAC   0\n*        ITRACE ID=XX,DATA1=DXD_MEMBER,RDATA2=R7\n*        SAC   512\n\n         LH    R14,DXD_SEARCH_LOOPS           NUMBER OF LOOPS\n         LH    R15,DXD_SEARCH_LENGTH          LENGTH OF SEARCH ARG\nFIND0050 DS    0H\n         EX    R15,MEMBER_SEARCH_CLC          STRING LOCATED?\n         BE    FIND0070                       YES\n         LA    R1,1(,R1)                      NEXT ADDRESS\n         BCT   R14,FIND0050                   LOOP\nFIND0060 DS    0H\n         C     R7,SCONTROL_DATASPACE_LAST_RECORD AT LAST RECORD?\n         BE    FIND0080                       YES\n         LA    R6,DATASPACE_INDEX_L(,R6)      NEXT INDEX ENTRY\n         A     R7,F1                          ADD 1 TO RECORD NUMBER\n         B     FIND0040                       CHECK THIS ONE\nFIND0070 DS    0H\n         L     R5,DATASPACE_INDEX_LENGTH      LENGTH OF STORED RECORD\n         ST    R5,DSPCREQ_RECORD_LENGTH       RETURN LENGTH TO USER\n         L     R14,DSPCREQ_RECORD_ADDR        USER'S I/O AREA\n         LR    R15,R5                         COPY LENGTH TO 'R2'\n         MVCL  R14,R4                         COPY RECORD TO USER\n         SAC   0                              TURN OFF AR MODE\n         ITRACE ID=FOUND,                                              +\n               RDATA1=R7\n         ST    R7,DSPCREQ_RECORD_NBR          RETURN RECORD NUMBER\n         MVI   DSPCREQ_RC,$DSPCREQ_OK         FOUND\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nFIND0080 DS    0H\n         SAC   0\n         ITRACE ID=NOT_FND\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR      NOT FOUND\n         MVI   COMM_MSG_ID+1,12\n         MVC   COMM_INFO_01(L'DSPCREQ_MEMBER),DSPCREQ_MEMBER\n         L     R15,COMM_V_OSMSG\n         BALR  R14,R15\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0010  DS    0H\n         MVI   COMM_MSG_ID+1,17               SET MESSAGE ID\n         L     R14,COMM_V_OSMSG\n         BALR  R14,R15                        BUILD MESSAGE\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         LAM   R6,R6,F0                       RESET AR\n         LAM   R4,R4,F0                       RESET AR\n         LAM   R1,R1,F0                       RESET AR\n         L     R13,4(R13)                     RESTORE SAVE AREA ADDRESS\n         LM    R14,R12,12(R13)                RESTORE REGISTERS\n         BR    R14                            RETURN\n\n* ------------------------------------------------------------------- *\nMEMBER_SEARCH_CLC   CLC DSPCREQ_MEMBER(0),0(R1)\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDMEM)\nF0            DC    F'0'\nF1            DC    F'1'\n\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDMEM            DSECT\n                  COPY      DXDPREF\nDXD_SEARCH_LOOPS  DS        H\nDXD_SEARCH_LENGTH DS        H\nDXD_MEMBER        DS        CL8\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL          DSECT\n                  SCONTROL SCONTROL\nSCONTROL_L        EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     DIR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     REGEQU\n                  END      FINDMEM\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "MAIN": {"ttr": 520, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: MAIN                                                  *\n*                                                                     *\n* ------------------------------------------------------------------- *\nMAIN     CSECT\nMAIN     AMODE 31\nMAIN     RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING MAIN,R15\n         B     INIT0000\nMODID    DC    CL8'MAIN '\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                SAVE REGS\n         LR    R10,R15                        COPY ENTRY POINT ADDR\n         DROP  R15\n         USING MAIN,R10                       DEFINE BASE\n         LR    R9,R1                          COPY PARM ADDRESS\n         USING DSPCREQ,R9                     DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE           DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         ICM   R15,15,COMM_OSDSPACE_DXD       DXD GETMAIN'D?\n         BNZ   INIT0010                       YES\n         L     R0,DXD_SIZE                    WORK AREA SIZE\n         ST    R0,COMM_OSDSPACE_DXD_LENGTH    SAVE LENGTH\n         GETMAIN RU,                                                   +\n               LV=(0),                                                 +\n               LOC=ANY\n         ST    R1,COMM_OSDSPACE_DXD           SAVE ADDRESS\n         LR    R0,R1                          COPY ADDRESS\n         L     R1,COMM_OSDSPACE_DXD_LENGTH\n         SR    R14,R14\n         SR    R15,R15\n         MVCL  R0,R14                         INITIALIZE WORK AREA\n         L     R15,COMM_OSDSPACE_DXD\nINIT0010 DS    0H\n         A     R15,DXD_START                  DISPLACEMENT TO OUR PART\n         ST    R13,4(R15)\n         ST    R15,8(R13)\n         LR    R13,R15\n         USING DXDMAIN,R13                    DEFINE BSE\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY,                                              +\n               DATA1=(DSPCREQ_FUNC,1),                                 +\n               DATA2=(DSPCREQ_DATASPACE,4)\n         MVC   COMM_MSG_CSECT,OSDSPACE  <---- THIS IS A BIT CONFUSING\n         LA    R7,COMMAND_TABLE               COMMAND TABLE\n         USING COMMAND_DSECT,R7\nDSPC0030 DS    0H\n         CLI   COMMAND,X'FF'                  END OF TABLE\n         BE    DSPC0040                       YES\n         CLC   DSPCREQ_FUNC,COMMAND           FUNCTION LOCATED?\n         BE    DSPC0050                       YES\n         LA    R7,COMMAND_L(,R7)              NEXT IN TABLE\n         B     DSPC0030\nDSPC0040 DS    0H\n         ITRACE ID=BAD_CMD                    COMMAND NOT FOUND\n         ABEND 1,DUMP,,USER\nDSPC0050 DS    0H\n         ICM   R15,15,COMMAND_ADDRESS         COMMAND ROUTINE ADDRESS\n         ITRACE ID=LINK,                                               +\n               RDATA1=R15,RDATA2=R7\n         BALR  R14,R15                        PROCESS THE COMMAND\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         L     R1,4(,R13)\n         L     R1,12(,R1)\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1),                                   +\n               RDATA2=R1\n         L     R13,4(R13)                     RESTORE SAVE AREA ADDRESS\n         LM    R14,R12,12(R13)                RESTORE REGISTERS\n         BR    R14                            RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_SIZE       CXD\nDXD_START      DC   Q(DXDMAIN)\n\nOSDSPACE       DC   CL8'OSDSPACE'    MESSAGES 'CSECT' NAME\n\nCOMMAND_TABLE  DS   0C\n               DC   AL1($DSPCREQ_CREATE),VL4(CREATE)\n               DC   AL1($DSPCREQ_CLEAR),VL4(CLEAR)\n               DC   AL1($DSPCREQ_DELETE),VL4(DELETE)\n               DC   AL1($DSPCREQ_DUMP),VL4(DUMP)\n               DC   AL1($DSPCREQ_FIND_MEMBER_G),VL4(FINDMEM)\n               DC   AL1($DSPCREQ_FIND_MEMBER_S),VL4(FINDMEM)\n               DC   AL1($DSPCREQ_FIND_DSN_G),VL4(FINDDSN)\n               DC   AL1($DSPCREQ_FIND_DSN_S),VL4(FINDDSN)\n               DC   AL1($DSPCREQ_FIND_CCHHR),VL4(FINDCCHH)\n               DC   AL1($DSPCREQ_FIND_FILE_G),VL4(FINDFILE)\n               DC   AL1($DSPCREQ_FIND_FILE_S),VL4(FINDFILE)\n               DC   AL1($DSPCREQ_SORT_NAME),VL4(SORT)\n               DC   AL1($DSPCREQ_SORT_TTR),VL4(SORT)\n               DC   AL1($DSPCREQ_SORT_CDATE),VL4(SORT)\n               DC   AL1($DSPCREQ_SORT_MDATE),VL4(SORT)\n               DC   AL1($DSPCREQ_SORT_SIZE),VL4(SORT)\n               DC   AL1($DSPCREQ_SORT_USER),VL4(SORT)\n               DC   AL1($DSPCREQ_SORT_DSN),VL4(SORT)\n               DC   AL1($DSPCREQ_SORT_CCHHR),VL4(SORT)\n               DC   AL1($DSPCREQ_RETREIVE),VL4(RETREIVE)\n               DC   AL1($DSPCREQ_STORE),VL4(STORE)\n               DC   AL1($DSPCREQ_UPDATE),VL4(UPDATE)\n               DC   X'FF'\n               LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDMAIN           DSECT\n                  COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  SCONTROL SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nCOMMAND_DSECT     DSECT\nCOMMAND           DS       AL1\nCOMMAND_ADDRESS   DS       VL4\nCOMMAND_L         EQU      *-COMMAND_DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                  COPY     REGEQU\n                  END      MAIN\n", "mimetype": "text/plain", "datatype": "iso-8859-1", "extension": ".txt"}, "RETREIVE": {"ttr": 523, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: RETREIVE                                              *\n*                                                                     *\n*  RETREIVE a record                                                  *\n*                                                                     *\n* ------------------------------------------------------------------- *\nRETREIVE CSECT\nRETREIVE AMODE 31\nRETREIVE RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING RETREIVE,R15\n         B     INIT0000\nMODID    DC    CL8'RETREIVE'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                SAVE REGS\n         LR    R10,R15                        COPY ENTRY POINT ADDR\n         DROP  R15\n         USING RETREIVE,R10                   DEFINE BASE\n         USING DSPCREQ,R9                     DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE           DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD          WORK AREA BASE\n         A     R15,DXD_START                  PLUS DISPLACEMENT\n         ST    R13,4(R15)                     SAVE R13\n         ST    R15,8(R13)                     CHAIN SAVE AREA\n         LR    R13,R15                        COPY WORK AREA ADDRESS\n         USING DXDRTRV,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ITRACE ID=RETREIVE,                                           +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=(DSPCREQ_RECORD_NBR,4)\n         OC    SCONTROL_DATASPACE_LAST_RECORD,SCONTROL_DATASPACE_LAST_R+CORD\n               ECORD\n         BZ    ERR0030                        NO DATA IN DATA SPACE\n         L     R5,DSPCREQ_RECORD_NBR          RECORD NUMBER TO RETREIVE\n         STCM  R5,15,COMM_INFO_01\n         C     R5,SCONTROL_DATASPACE_FIRST_RECORD TOO LOW?\n         BL    ERR0040                            YES\n         C     R5,SCONTROL_DATASPACE_LAST_RECORD  TOO HIGH?\n         BH    ERR0050                            YES\n         S     R5,SCONTROL_DATASPACE_FIRST_RECORD CONVERT TO RELATIVE\n         MH    R5,=Y(DATASPACE_INDEX_L)           MULTIPLY BY SIZE EACH\n         LAM   R5,R5,SCONTROL_DATASPACE_ALET      SET AR\n         SAC   512\n         USING DATASPACE_INDEX,R5\n         ICM   R2,15,DATASPACE_INDEX_ADDR\n         BZ    ERR0060                        RECORD NOT STORED\n         L     R3,DATASPACE_INDEX_LENGTH      LENGTH OF STORED RECORD\n         ICM   R14,15,DSPCREQ_RECORD_ADDR     CALLER'S I/O AREA ADDRESS\n         BZ    ERR0070\n         LR    R15,R3                         COPY RECORD'S LENGTH\n         ST    R3,DSPCREQ_RECORD_LENGTH       RETURN LENGTH TO CALLER\n         MVC   DSPCREQ_RBA,DATASPACE_INDEX_RBA\n         MVC   DSPCREQ_CCHHR,DATASPACE_INDEX_CCHHR\n         MVC   DSPCREQ_SEQ,DATASPACE_INDEX_SEQ\n         LAM   R2,R2,SCONTROL_DATASPACE_ALET  SET AR\n         MVCL  R14,R2                         COPY DATA TO CALLER\n         SAC   0\n         MVI   DSPCREQ_RC,$DSPCREQ_OK         SET RC\n         ITRACE ID=RC,                                                 +\n               DATA1=(DSPCREQ_RC,1),                                   +\n               DATA2=(DSPCREQ_RECORD_NBR,4)\n         B     EXIT0000                       DONE\n         DROP  R5\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0030  DS    0H\n         MVI   COMM_MSG_ID+1,3\n         B     ERR1000\nERR0040  DS    0H\n         MVI   COMM_MSG_ID+1,4\n         B     ERR1000\nERR0050  DS    0H\n         MVI   COMM_MSG_ID+1,5\n         B     ERR1000\nERR0060  DS    0H\n         MVI   COMM_MSG_ID+1,6\n         MVI   DSPCREQ_RC,$DSPCREQ_NOT_STORED  SET RC\n         B     ERR1000\nERR0070  DS    0H\n         MVI   COMM_MSG_ID+1,7\nERR1000  DS    0H\n         SAC   0\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         L     R15,COMM_V_OSMSG\n         BALR  R14,R15\n         CLI   DSPCREQ_RC,$DSPCREQ_OK          RC STILL OK?\n         BNE   EXIT0000                        NO\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR       SET RC\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         SAC   0\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         LAM   R2,R2,F0\n         LAM   R5,R5,F0\n         L     R13,4(R13)                RERETREIVE SAVE AREA ADDRESS\n         LM    R14,R12,12(R13)           RERETREIVE REMAINING REGISTERS\n         BR    R14                       RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START   DC    Q(DXDRTRV)\nF0          DC    F'0'\nF1          DC    F'1'\n\nMSG_02      DC    C'NOT FOUND'\nMSG_02_L    EQU   *-MSG_02\n\n            LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDRTRV     DSECT\n            COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL    DSECT\n            SCONTROL SCONTROL\nSCONTROL_L  EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COPY     REGEQU\n            END      RETREIVE\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "SORT": {"ttr": 770, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: SORT                                                  *\n*                                                                     *\n*  SORT a dataspace                                                   *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSORT     CSECT\nSORT     AMODE 31\nSORT     RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING SORT,R15\n         B     INIT0000\nMODID    DC    CL8'SORT'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                SAVE REGS\n         LR    R10,R15                        COPY ENTRY POINT ADDR\n         DROP  R15\n         USING SORT,R10                       DEFINE BASE\n         USING DSPCREQ,R9                     DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE           DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD          WORK AREA BASE\n         A     R15,DXD_START                  PLUS DISPLACEMENT\n         ST    R13,4(R15)                     SAVE R13\n         ST    R15,8(R13)                     CHAIN SAVE AREA\n         LR    R13,R15                        COPY WORK AREA ADDRESS\n         USING DXDSORT,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ITRACE ID=SORT,                                               +\n               DATA1=SCONTROL_DATASPACE_NAME\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_NAME\n         BE    SORT0010\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_TTR\n         BE    SORT0020\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_CDATE\n         BE    SORT0030\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_MDATE\n         BE    SORT0040\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_SIZE\n         BE    SORT0050\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_USER\n         BE    SORT0060\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_DSN\n         BE    SORT0070\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_CCHHR\n         BE    SORT0080\n         DC    H'0'\n         BE    SORT0010\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_NAME\n         BE    SORT0010\n         CLI   DSPCREQ_FUNC,$DSPCREQ_SORT_NAME\n         BE    SORT0010\nSORT0010 DS    0H\n         ITRACE ID=SORTNAME\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_PDS_DIR\n         BNE   ERR0010\n         CLI   SESS_SORT,$SORT_NAME           ALREADY SORTED BY NAME?\n         BE    EXIT0000                       YES\n         LA    R2,NAME_CLC                    ADDRESS OF CLC TO USE\n         MVI   SESS_SORT,$SORT_NAME           SET SORT INDICATOR\n         B     SORT0100\nSORT0020 DS    0H\n         ITRACE ID=SORTTTR\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_PDS_DIR\n         BNE   ERR0010\n         CLI   SESS_SORT,$SORT_TTR            ALREADY SORTED BY TTR?\n         BE    EXIT0000                       YES\n         LA    R2,TTR_CLC                     ADDRESS OF CLC TO USE\n         MVI   SESS_SORT,$SORT_TTR            SET SORT INDICATOR\n         B     SORT0100\nSORT0030 DS    0H\n         ITRACE ID=SORTCDAT\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_PDS_DIR\n         BNE   ERR0010\n         CLI   SESS_SORT,$SORT_CDATE          ALREADY SORTED BY CDATE?\n         BE    EXIT0000                       YES\n         LA    R2,CDATE_CLC                   ADDRESS OF CLC TO USE\n         MVI   SESS_SORT,$SORT_CDATE          SET SORT INDICATOR\n         B     SORT0100\nSORT0040 DS    0H\n         ITRACE ID=SORTMDAT\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_PDS_DIR\n         BNE   ERR0010\n         CLI   SESS_SORT,$SORT_MDATE          ALREADY SORTED BY MDATE?\n         BE    EXIT0000                       YES\n         LA    R2,MDATE_CLC                   ADDRESS OF CLC TO USE\n         MVI   SESS_SORT,$SORT_MDATE          SET SORT INDICATOR\n         B     SORT0100\nSORT0050 DS    0H\n         ITRACE ID=SORTSIZE\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_PDS_DIR\n         BNE   ERR0010\n         CLI   SESS_SORT,$SORT_SIZE           ALREADY SORTED BY SIZE?\n         BE    EXIT0000                       YES\n         LA    R2,SIZE_CLC                    ADDRESS OF CLC TO USE\n         MVI   SESS_SORT,$SORT_SIZE           SET SORT INDICATOR\n         B     SORT0100\nSORT0060 DS    0H\n         ITRACE ID=SORTUSER\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_PDS_DIR\n         BNE   ERR0010\n         CLI   SESS_SORT,$SORT_USER           ALREADY SORTED BY USER\n         BE    EXIT0000                       YES\n         LA    R2,USER_CLC                    ADDRESS OF CLC TO USE\n         MVI   SESS_SORT,$SORT_USER           SET SORT INDICATOR\n         B     SORT0100\nSORT0070 DS    0H\n         ITRACE ID=SORTDSN\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_VTOC\n         BNE   ERR0020\n         LA    R2,SORT_DSN_CLC                ADDRESS OF CLC TO USE\n         B     SORT0100\nSORT0080 DS    0H\n         ITRACE ID=SORT_ADR\n         CLI   SESS_DATA_TYPE,$DATA_TYPE_VTOC\n         BNE   ERR0020\n         LA    R2,SORT_CCHHR_CLC              ADDRESS OF CLC TO USE\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSORT0100 DS    0H\n         L     R3,SCONTROL_DATASPACE_LAST_RECORD  HIGHEST RECORD NUMBER\n         S     R3,SCONTROL_DATASPACE_FIRST_RECORD MINUS LOWEST\n         A     R3,F1                              PLUS 1\n         LAM   R4,R4,SCONTROL_DATASPACE_ALET      LOAD ALET\n         LAM   R5,R5,SCONTROL_DATASPACE_ALET      LOAD ALET\n         LAM   R6,R6,SCONTROL_DATASPACE_ALET      LOAD ALET\n         LAM   R7,R7,SCONTROL_DATASPACE_ALET      LOAD ALET\n         SAC   512                                TURN ON AR MODE\n         SR    R4,R4                              DATA STARTS AT ZERO\nI1       USING DATASPACE_INDEX,R4\nSORT0110 DS    0H\n         C     R3,F1                          DOWN TO 1 RECORD?\n         BE    SORT0140                       YES\n         LA    R5,DATASPACE_INDEX_L(,R4)\nI2       USING DATASPACE_INDEX,R5\n         LR    R15,R3                         NUMBER OF ENTRIES LEFT\n         BCTR  R15,0                          1 LOOP LESS\nSORT0120 DS    0H\n         ICM   R6,15,I1.DATASPACE_INDEX_ADDR\nD1       USING DIR_RECORD,R6\n         ICM   R7,15,I2.DATASPACE_INDEX_ADDR\nD2       USING DIR_RECORD,R7\n         EX    R0,0(R2)                       COMPARE THE TWO\n         BL    SORT0130\n         XC    0(DATASPACE_INDEX_L,R4),0(R5)\n         XC    0(DATASPACE_INDEX_L,R5),0(R4)\n         XC    0(DATASPACE_INDEX_L,R4),0(R5)\nSORT0130 DS    0H\n         LA    R5,DATASPACE_INDEX_L(,R5)\n         BCT   R15,SORT0120\n         LA    R4,DATASPACE_INDEX_L(,R4)\n         BCT   R3,SORT0110\nSORT0140 DS    0H\n         SAC   0\n         B     EXIT0000\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0010  DS    0H\n         MVI   COMM_MSG_ID+1,17               SET MESSAGE ID\n         B     ERR1000\nERR0020  DS    0H\n         MVI   COMM_MSG_ID+1,15               SET MESSAGE ID\nERR1000  DS    0H\n         L     R14,COMM_V_OSMSG\n         BALR  R14,R15                        BUILD MESSAGE\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         LAM   R0,R15,F0\n         L     R13,4(R13)                     REESTORE ADDRESS\n         LM    R14,R12,12(R13)                RESTORE REGISTERS\n         BR    R14                            RETURN\n\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nCDATE_CLC       CLC  D1.DIR_SPF_C_DATE,D2.DIR_SPF_C_DATE\nMDATE_CLC       CLC  D1.DIR_SPF_M_DATE(7),D2.DIR_SPF_M_DATE\nNAME_CLC        CLC  D1.DIR_NAME,D2.DIR_NAME\nSIZE_CLC        CLC  D1.DIR_SPF_SIZE,D2.DIR_SPF_SIZE\nTTR_CLC         CLC  D1.DIR_TTR,D2.DIR_TTR\nUSER_CLC        CLC  D1.DIR_SPF_USER,D2.DIR_SPF_USER\nSORT_DSN_CLC    CLC  0(44,R6),0(R7)\nSORT_CCHHR_CLC  CLC  I1.DATASPACE_INDEX_CCHHR,I2.DATASPACE_INDEX_CCHHR\n\n                DROP I1,I2,D1,D2\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START       DC    Q(DXDSORT)\nF0              DC    16F'0'\nF1              DC    F'1'\n\n                LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDSORT         DSECT\n                COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL        DSECT\n                SCONTROL SCONTROL\nSCONTROL_L      EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                COPY     DIR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n                COPY     REGEQU\n                END      SORT\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "STORE": {"ttr": 775, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: STORE                                                 *\n*                                                                     *\n*  STORE a record                                                     *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSTORE    CSECT\nSTORE    AMODE 31\nSTORE    RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING STORE,R15\n         B     INIT0000\nMODID    DC    CL8'STORE'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                  SAVE REGS\n         LR    R10,R15                          COPY ENTRY POINT ADDR\n         DROP  R15\n         USING STORE,R10                        DEFINE BASE\n         USING DSPCREQ,R9                       DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE             DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD            WORK AREA BASE\n         A     R15,DXD_START                    PLUS DISPLACEMENT\n         ST    R13,4(R15)                       SAVE R13\n         ST    R15,8(R13)                       CHAIN SAVE AREA\n         LR    R13,R15                          COPY WORK AREA ADDRESS\n         USING DXDSTORE,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ITRACE ID=STORE,                                              +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=(DSPCREQ_RECORD_NBR,4)\n         ITRACE ID=DATA,                                               +\n               DATA1=(DSPCREQ_RECORD_ADDR,4),                          +\n               DATA2=(DSPCREQ_RECORD_LENGTH,4)\n         SR    R6,R6                              ADDR OF CONTROL INFO\n         LAM   R6,R6,SCONTROL_DATASPACE_ALET      SET THE ALET\n         SAC   512                                TURN ON AR MODE\n         L     R5,DSPCREQ_RECORD_NBR              RECORD NBR TO STORE\n         STCM  R5,15,COMM_INFO_01\n         C     R5,SCONTROL_DATASPACE_FIRST_RECORD TOO LOW?\n         BL    ERR0040                            YES\n         S     R5,SCONTROL_DATASPACE_FIRST_RECORD CONVERT TO RELATIVE\n         MH    R5,=Y(DATASPACE_INDEX_L)           MULTIPLY BY SIZE EACH\n         LAM   R5,R5,SCONTROL_DATASPACE_ALET      SET AR\n         USING DATASPACE_INDEX,R5\n         ICM   R2,15,DATASPACE_INDEX_ADDR\n         BNZ   ERR0090                            RECORD ALREADY STORED\n         CLC   SCONTROL_DATASPACE_LAST_RECORD,DSPCREQ_RECORD_NBR\n         BH    STORE010                           NO\n         MVC   SCONTROL_DATASPACE_LAST_RECORD,DSPCREQ_RECORD_NBR\nSTORE010 DS    0H\n         L     R0,SCONTROL_DATASPACE_BYTES        BYTES STORED\n         A     R0,DSPCREQ_RECORD_LENGTH           PLUS NEW RECORD\n         ST    R0,SCONTROL_DATASPACE_BYTES        UPDATE\n         L     R2,SCONTROL_DATASPACE_LAST_ADDRESS ADDR OF LAST STORED\n         L     R3,DSPCREQ_RECORD_LENGTH           LENGTH OF NEW RECORD\n         SR    R2,R3                              COMPUTE ADDRESS\n         ST    R2,SCONTROL_DATASPACE_LAST_ADDRESS UPDATE DATA SPACE\n         LA    R1,DATASPACE_INDEX_L(,R5)          PLUS LENGTH OF INDEX\n         CR    R1,R2                              OVERLAP?\n         BNL   ERR0100                                 YES\n         ST    R2,SCONTROL_DATASPACE_LAST_ADDRESS      SAVE ADDRESS\n         ST    R2,DATASPACE_INDEX_ADDR\n         ST    R3,DATASPACE_INDEX_LENGTH\nSTORE020 DS    0H\n         TM    SESS_DATA_TYPE,$DATA_TYPE_VSAM          VSAM?\n         BO    STORE050                                YES\n         MVC   DATASPACE_INDEX_CCHHR,DSPCREQ_CCHHR\n         MVC   DATASPACE_INDEX_SEQ,DSPCREQ_SEQ\n         B     STORE060\nSTORE050 DS    0H\n         MVC   DATASPACE_INDEX_RBA,DSPCREQ_RBA\nSTORE060 DS    0H\n         LAM   R2,R2,SCONTROL_DATASPACE_ALET           SET AR\n         L     R14,DSPCREQ_RECORD_ADDR                 NEW RECORD ADDR\n         LR    R15,R3                                  COPY LENGTH\n         MVCL  R2,R14                                  COPY\n         SAC   0                                       TURN OFF AR MODE\n         ITRACE ID=NEW_LAST,                                           +\n               DATA1=(SCONTROL_DATASPACE_LAST_RECORD,4),               +\n               DATA2=(SCONTROL_DATASPACE_LAST_ADDRESS,4)\n         CLC   DSPCREQ_RECORD_LENGTH,SCONTROL_DATASPACE_LONGEST_RECORD\n         BNH   STORE070\n         MVC   SCONTROL_DATASPACE_LONGEST_RECORD,DSPCREQ_RECORD_LENGTH\n         ITRACE ID=NEW_LONG,                                           +\n               DATA1=(SCONTROL_DATASPACE_LONGEST_RECORD,4)\nSTORE070 DS    0H\n         MVI   DSPCREQ_RC,$DSPCREQ_OK                  SET RC\n         B     EXIT0000                                DONE\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0040  DS    0H\n         MVI   COMM_MSG_ID+1,4\n         B     ERR1000\nERR0080  DS    0H\n         ITRACE ID=BAD_LNTH,                                           +\n               DATA1=(DSPCREQ_RECORD_LENGTH,4)\n         MVI   COMM_MSG_ID+1,8\n         B     ERR1000\nERR0090  DS    0H\n         MVI   COMM_MSG_ID+1,9\n         B     ERR1000\nERR0100  DS    0H\n         MVI   COMM_MSG_ID+1,10\n         MVI   DSPCREQ_RC,$DSPCREQ_FULL\nERR1000  DS    0H\n         SAC   0\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         L     R15,COMM_V_OSMSG\n         BALR  R14,R15\n         CLI   DSPCREQ_RC,$DSPCREQ_FULL\n         BE    EXIT0000\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         SAC   0\n         LAM   R2,R2,F0\n         LAM   R5,R5,F0\n         LAM   R6,R6,F0\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         L     R13,4(R13)                       RESTORE R13\n         LM    R14,R12,12(R13)                  RESTORE REGISTERS\n         BR    R14                              RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START     DC    Q(DXDSTORE)\nF0            DC    F'0'\n\n              LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDSTORE      DSECT\n              COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL      DSECT\n              SCONTROL SCONTROL\nSCONTROL_L    EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n              COPY     REGEQU\n              END      STORE\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "UPDATE": {"ttr": 779, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "* ------------------------------------------------------------------- *\n*                                                                     *\n*  MODULE NAME: UPDATE                                                *\n*                                                                     *\n*  UPDATE a record                                                    *\n*                                                                     *\n* ------------------------------------------------------------------- *\nUPDATE   CSECT\nUPDATE   AMODE 31\nUPDATE   RMODE ANY\n         USING OSCOMM,R12\n         USING SESSION,R11\n         USING UPDATE,R15\n         B     INIT0000\nMODID    DC    CL8'UPDATE'\n         DC    CL8'&SYSDATE'\n         DC    CL7'&SYSTIME'\nINIT0000 DS    0H\n         STM   R14,R12,12(R13)                   SAVE REGS\n         LR    R10,R15                           COPY ENTRY POINT ADDR\n         DROP  R15\n         USING UPDATE,R10                        DEFINE BASE\n         USING DSPCREQ,R9                        DEFINE BASE\n         L     R8,DSPCREQ_DATASPACE              DATASPACE INFO ADDRESS\n         USING SCONTROL_DATASPACE,R8\n         L     R15,COMM_OSDSPACE_DXD             WORK AREA BASE\n         A     R15,DXD_START                     PLUS DISPLACEMENT\n         ST    R13,4(R15)                        SAVE R13\n         ST    R15,8(R13)                        CHAIN SAVE AREA\n         LR    R13,R15                           COPY WORK AREA ADDRESS\n         USING DXDUPDT,R13\n         MVC   DXD_CSECT,MODID\n         ITRACE ID=ENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n         ITRACE ID=UPDATE,                                             +\n               DATA1=SCONTROL_DATASPACE_NAME,                          +\n               DATA2=(DSPCREQ_RECORD_NBR,4)\n         OC    DSPCREQ_RECORD_LENGTH(2),DSPCREQ_RECORD_LENGTH\n         BNZ   ERR0080\n         SR    R6,R6                              ADDR OF CONTROL INFO\n         LAM   R6,R6,SCONTROL_DATASPACE_ALET      SET THE ALET\n         SAC   512                                TURN ON AR MODE\n         L     R5,DSPCREQ_RECORD_NBR              RECORD NUMBER\n         STCM  R5,15,COMM_INFO_01\n         C     R5,SCONTROL_DATASPACE_FIRST_RECORD TOO LOW?\n         BL    ERR0040                            YES\n         C     R5,SCONTROL_DATASPACE_LAST_RECORD  TOO HIGH?\n         BH    ERR0050                            YES\n         S     R5,SCONTROL_DATASPACE_FIRST_RECORD CONVERT TO RELATIVE\n         MH    R5,=Y(DATASPACE_INDEX_L)           MULTIPLY BY SIZE EACH\n         LAM   R5,R5,SCONTROL_DATASPACE_ALET      SET AR\n         USING DATASPACE_INDEX,R5\n         ICM   R2,15,DATASPACE_INDEX_ADDR\n         BZ    ERR0060                            RECORD NOT STORED\n         L     R3,DSPCREQ_RECORD_LENGTH           LENGTH\n         C     R3,DATASPACE_INDEX_LENGTH          SAME LENGTH?\n         BNE   ERR0110                            NO\n         LAM   R2,R2,SCONTROL_DATASPACE_ALET      SET AR\n         L     R14,DSPCREQ_RECORD_ADDR            NEW RECORD'S ADDRESS\n         LR    R15,R3                             COPY LENGTH\n         MVCL  R2,R14                             COPY TO DATA SPACE\n         B     EXIT0000                           DONE\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nERR0040  DS    0H\n         MVI   COMM_MSG_ID+1,4\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         B     ERR1000\nERR0050  DS    0H\n         MVI   COMM_MSG_ID+1,5\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         B     ERR1000\nERR0060  DS    0H\n         MVI   COMM_MSG_ID+1,6\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         B     ERR1000\nERR0080  DS    0H\n         MVI   COMM_MSG_ID+1,8\n         MVC   COMM_INFO_02,SCONTROL_DATASPACE_NAME\n         B     ERR1000\nERR0110  DS    0H\n         MVI   COMM_MSG_ID+1,11\n         STCM  R3,15,COMM_INFO_02\n         MVC   COMM_INFO_02(4),DATASPACE_INDEX_LENGTH\n         MVC   COMM_INFO_03(4),DSPCREQ_RECORD_LENGTH\nERR1000  DS    0H\n         SAC   0\n         L     R15,COMM_V_OSMSG\n         BALR  R14,R15\n         MVI   DSPCREQ_RC,$DSPCREQ_ERROR\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nEXIT0000 DS    0H\n         SAC   0\n         LAM   R2,R2,F0\n         LAM   R5,R5,F0\n         LAM   R6,R6,F0\n         ITRACE ID=EXIT,                                               +\n               DATA1=(DSPCREQ_RC,1)\n         L     R13,4(R13)                     RESTORE SAVE AREA\n         LM    R14,R12,12(R13)                RESTORE REGISTERS\n         BR    R14                            RETURN\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXD_START   DC    Q(DXDUPDT)\nF0          DC    F'0'\n\n            LTORG\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nDXDUPDT     DSECT\n            COPY      DXDPREF\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COMMON\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            SESSION  TYPE=DSECT\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            BPXYSTAT DSECT=YES,LIST=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            DSPCREQ  DSECT=YES\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\nSCONTROL    DSECT\n            SCONTROL SCONTROL\nSCONTROL_L  EQU      *-SCONTROL\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COPY     SINDEX\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COPY     TRENTRY\n* ------------------------------------------------------------------- *\n*                                                                     *\n* ------------------------------------------------------------------- *\n            COPY     REGEQU\n            END      UPDATE\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}}}}, "SCRIPTOPTIONS": {"filename": "./CBT745/CBT.V500.FILE745.PDS/SMGR.xmi", "LRECL": 80, "loglevel": 30, "outputfolder": "CBT745/CBT.V500.FILE745.PDS", "encoding": "cp1140", "unnum": true, "quiet": false, "force": false, "binary": false, "modifydate": true}}