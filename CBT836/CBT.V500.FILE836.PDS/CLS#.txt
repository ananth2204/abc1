A TSO command to clear the screen   (pds member A315B7EF)

The following TSO command was designed to clear the screen on
a 327x terminal.  It is particularly useful within CLISTs in that the
CLIST writer can control the clearing of the screen at appropriate
points.

CLS     CSECT
* THIS PROGRAM IS DESIGNED TO CLEAR THE SCREEN ON ANY MODEL 327X TSO
* TERMINAL.  THE PROGRAM SHOULD BE ASSEMBLED AND LINK-EDITED INTO A
* TSO STEPLIB OR A LINK-LISTED LIBRARY, IT MAY THEN BE INVOKED AS A
* TSO COMMAND.  THE COMMAND CAN BE ISSUED FROM A TSO 'READY' STATE
* OR, PROBABLY OF MORE USE, WITHIN A CLIST.  NO OPERANDS ARE NEEDED,
* IF ANY ARE PRESENT, THEY WILL BE IGNORED.
* ASSEMBLY SYSLIB:  SYS1.MACLIB
* LINK-EDIT SYSLIB: NONE
*           PARM:   NCAL, LET, LIST, RENT, AC(0)
         SAVE  (14,12)             SAVE REGISTERS
         LR    12,15               COPY BASE ADDRESS TO REG-12
         USING CLS,12              PROVIDE ADDRESSABILITY
         GTSIZE ,                  GET TERMINAL SIZE VALUES
         LTR   0,0                 TEST NUMBER OF LINES ON SCREEN
         BZ    NOT3270             EXIT IF NONE, NOT A DISPLAY TERM
         TPUT CLRSCRN,CLRSCRNL,FULLSCR  ELSE CLEAR THE SCREEN
NOT3270  RETURN (14,12),RC=0       RESTORE REGISTERS EXIT WITH R/C 0
CLRSCRN  DC    X'C31140403C404000' 327X DATA-STREAM
CLRSCRNL EQU   (*-CLRSCRN)
         END


Paul J Horak
SEI(USA)        1989

