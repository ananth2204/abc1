000000         CTGPL    DSECT ,
                                                                    */**********
**********************************************************/
                                         */*
                              */
              */*   MACRO NAME = IEZCTGPL
   */                                                              */*
                                                        */
                                        */*   DESCRIPTIVE NAME = CATALOG PARAMET
ER LIST                      */
             */*
  */                                                              */*   FUNCTION
 = THE CATALOG PARAMETER LIST (CTGPL) DEFINES THE      */
                                       */*              CATALOG MANAGEMENT REQUE
ST AND ITS OPTIONS, THE     */
            */*              CATALOG RECORD TO BE PROCESSED, AND THE VSAM
 */                                                              */*
  CATALOG THAT CONTAINES THE RECORD.  THE CTGPL IS    */
                                      */*              BUILT BEFORE AN OS/VS COM
PONENT ISSUES THE CATLG    */
           */*              MACRO INSTRUCTION (SVC 26) TO PROCESS A CATALOG
*/                                                              */*
 RECORD.  WHEN THE CATALOG MANAGEMENT ROUTINES       */
                                     */*              BUILD A CCA TO SUPPORT THE
 REQUEST, THE ADDRESS     */
          */*              OF THE CTGPL IS PUT INTO THE CCA (CCACPL).          *
/                                                              */*
                                                    */
                                    */*   CONTROL BLOCK STRUCTURE = THE CTGPL IS
 POINTED TO BY           */
         */*                             REGISTER 1.                          */
                                                              */*
                                                   */
                                   */*******************************************
*************************/
        */*
                                              000000         CTGOPTN1 DS    XL1
                     FIRST OPTION INDICATOR
                           00080  CTGBYPSS EQU   X'80'                    BYPASS

00040  CTGMAST  EQU   X'40'                    VERIFY MASTER PASSWORD
                                                     00020  CTGCI    EQU   X'20'
                    VERIFY CONTROL INDICATOR
                          00010  CTGUPD   EQU   X'10'                    VERIFY
UPDATE                                                                         0
0008  CTGREAD  EQU   X'08'                    VERIFY READ
                                                    00004  CTGNAME  EQU   X'04'
                   1   44 BYTE NAME OR VOLSER
                                *                                       0   ENTR
Y ID NUMBER                                                                   00
002  CTGCNAME EQU   X'02'                    1   44 BYTE NAME
                                                          *
                  0   ACB ADDRESS
                        00001  CTGGENLD EQU   X'01'                    GENERIC L
OCATE REQUEST
    *
                                          000001         CTGOPTN2 DS    XL1
                 SECOND OPTION INDICATOR
                       00080  CTGEXT   EQU   X'80'                    EXTEND(UPD
ATE)                                                                        0008
0  CTGNSVS  EQU   X'80'                    CATLG CLEANUP REQUEST
                                                 00040  CTGERASE EQU   X'40'
                ERASE(DELETE)
                      00040  CTGSMF   EQU   X'40'                    WRITE SMF(L
SPACE)                                                                     00040
  CTGREL   EQU   X'40'                    RELEASE(UPDATE)
                                                00040  CTGGTALL EQU   X'40'
               CONCAT SEARCH (LISTCAT)
                     00040  CTGGFLIC EQU   X'40'                    SRCH ONLY 1
CAT(GFL)                                                                  00020
 CTGPURG  EQU   X'20'                    PURGE (DELETE)
                                               00020  CTGVMNT  EQU   X'20'
              VOLUME MOUNT CALLER
                    00020  CTGRCATN EQU   X'20'                    RTN CAT NAME(
GLOC)                                                                    00020
CTGSWAP  EQU   X'20'                    SWAPSPACE (DEFINE)
                                              00010  CTGGTNXT EQU   X'10'
             GET NEXT (LIST CTLG)
                   00010  CTGUCRAX EQU   X'10'                    UCRA EXTEND OP
TION                                                                    00010  C
TGDELRC EQU   X'10'                    DELETE RECOVER
                                             00008  CTGDISC  EQU   X'08'
            DISCONNECT (DELETE)
                  00008  CTGRESM  EQU   X'08'                    GFL RESUME FUNC
TION                                                                   00004  CT
GOVRID EQU   X'04'                    ERASE OVERRIDE (DELETE)
                                            00004  CTGCNVTC EQU   X'04'
           CONVERT CAT (DELETE SPACE)
                 00002  CTGSCR   EQU   X'02'                    SCRATCH SPACE (D
ELETE)                                                                00002  CTG
CDI   EQU   X'02'                    DATA INDEX ARE MATCHES IF ITS
                                                  *
          CLUSTER/AIX MATCHES FILTER KEY
                00001  CTGBOTH  EQU   X'01'                    CALLER CAN ACCEPT
 ICF CATALOG                                                                *
                                    ARCHITECTURE
                                  000002         CTGOPTN3 DS    XL1
         THIRD OPTION INDICATOR
               000E0  CTGFUNC  EQU   X'E0'                    HIGH ORDER THREE B
ITS DEFINE                                                                 *
                                   FUNCTION
                                                *   LOCATE         001* ****

              00020  CTGLOC   EQU   X'20'                    LOCATE   BITS ON
                                                                          *   LS
PACE         010* ****
                                        00040  CTGLSP   EQU   X'40'
       LSPACE   BITS ON
                    *   UPDATE         011* ****
                                                                  00060  CTGUPDA
T EQU   X'60'                    UPDATE   BITS ON
                                              *   CMS FUNCTION   100* ****

            00080  CTGCMS   EQU   X'80'                    CMS FUNCTION   BITS O
N                                                                       *   GFL
FUNCTION   101* ****
                                      000A0  CTGGFL   EQU   X'A0'
     GFL FUNCTION   BITS ON
                  *
                                                                00010  CTGSUPLT
EQU   X'10'                    SUPER LOCATE
                                     00008  CTGGDGL  EQU   X'08'
    GDG LOCATE FUNCTION (CTGWAGB IN
                 *                                       CTGWA)
                                                               00004  CTGSRH   E
QU   X'04'                    0   SEARCH MASTER CAT ONLY
                                           *
   1   SEARCH OS CAT FIRST
         00002  CTGNUM   EQU   X'02'                    0   SEARCH BOTH CATALOGS
                                                                     *
                             1   SEARCH ONE CATALOG
                                   00001  CTGAM0   EQU   X'01'
  VSAM REQ VERSUS NONVSAM
               *
                                                     000003         CTGOPTN4 DS
   XL1                      FOURTH OPTION INDICATOR
                                  00080  CTGLBASE EQU   X'80'
 LOCATE GDG BASE ONLY
       00080  CTGNDISC EQU   X'80'                    DELETE CATALOG NO DISCONNE
CT                                                          00080  CTGNOCON EQU
  X'80'                    DEFINE CATALOG NO CONNECT
                                 00040  CTGDOCAT EQU   X'40'
DO NOT OPEN NEEDED CATLG
      00020  CTGNPROF EQU   X'20'                    NO (RAC) PROFILE SHOULD BE
                                                                  *
                          DEFINED OR DELETED
                                00010  CTGCOIN  EQU   X'10'                    C
ONTROLLER INTERCEPT REQUESTED
     00008  CTGBYPMT EQU   X'08'                    BYPASS SECURITY PROMPTING TO
                                                                 *
                         SYSTEM OPERATOR
                               00004  CTGTIOT  EQU   X'04'                    CA
LLER OWNS SYSZTIOT EXCLUSIVE
    00002  CTGICFC  EQU   X'02'                    REQUEST ORIENTED TO ICF CATAL
OG                                                       00001  CTGICFOR EQU   X
'01'                    ICF ONLY REQUEST
                      000004         CTGENT   DS    0A                       USE
R ENTRY ADDRESS OR POINTER
          *                                       TO VOLUME SERIAL NUMBER(LSPACE
)                                               000004         CTGFVT   DS    A
                       FVT ADDRESS (DEFINE, ALTER)
                     000008         CTGCAT   DS    0A                       CATA
LOG POINTER
         *
                                               000008         CTGCVOL  DS    A
                      CVOL PTR (SUPER LOCATE)
                                   *
                                                                         00000C
        CTGWKA   DS    A                        WORKAREA ADDRESS
                                                             *

                   000010         CTGDSORG DS    CL2                      DATA S
ET ORG (SUPER LOCATE)
       *   BITS 0 4 DEFINE ORGANIZATION
                                                     000F8  CTGOPTNS EQU   X'F8'
                    TOP 5 BITS
                                 *   DEFINE            0000 1*** **** ****
                                                                               0
0008  CTGDEFIN EQU   X'08'                    DEFINE
                                                           *   ALTER
 0001 0*** **** ****
                         00010  CTGALTER EQU   X'10'                    ALTER

     *   DELETE            0001 1*** **** ****
                                                   00018  CTGDELET EQU   X'18'
                  DELETE
                               *   LIST CATALOG      0010 0*** **** ****
                                                                             000
20  CTGLTCAT EQU   X'20'                    LIST CATALOG
                                                         *   CONVERTV          0
011 0*** **** ****
                       00030  CTGCNVTV EQU   X'30'                    CONVERTV

   *   CAS CAT OPEN      0011 1*** **** ****
                                                 00038  CTGOPEN  EQU   X'38'
                CAS CAT OPEN
                             *   CAS CAT CLOSE     0100 0*** **** ****
                                                                           00040
  CTGCLOSE EQU   X'40'                    CAS CAT CLOSE
                                                       *   CAS CAT VVDS      010
0 1*** **** ****
                     00048  CTGVVDS  EQU   X'48'                    CAS CAT VVDS
                                                                          00004
 CTGF2WKA EQU   X'04'                    FORMAT 2 WORK AREA
                                               00002  CTGVVRUP EQU   X'02'
              VVDS UPDATE ONLY
                    00001  CTGF2SEN EQU   X'01'                    CAN HANDLE 40
 2 RC                                                                    00080
CTGFVFY  EQU   X'80'                    FORCE PASSWORD VERIFICATION
                                                     *
             DO NOT CHECK FOR AUTHORIZED
                          *                                       CALLER
                                                                        00040  C
TGHDLET EQU   X'40'                    HSM HAS DELETED A MIGRATED
                                                    *
            DATA SET
                  00020  CTGHALTL EQU   X'20'                    LOCATE FROM ALT
ER                                                                     00010  CT
GHDLTL EQU   X'10'                    LISTCAT FROM DELETE
                                            00008  CTGBRCAT EQU   X'08'
           BRANCH ENTRY TO IGGOCLAH
                        *                                       RESTRICTED TO KE
Y ZERO USE AND                                                               *
                                     CMS FUNCTIONS CTGOPEN,
                                                  *
          CTGCLOSE, AND CTGVVDS.
                       *
                                                                            *
BITS 13 15 RESERVED
                                                 *

       000012         CTGTYPE  DS    CL1                      ENTRY TYPE LISTCAT
,DELETE                                                             000C1  CTGTA
LIN EQU   C'A'                     ALIEN   A
                                         000C2  CTGTGBS  EQU   C'B'
        GDG BASE   B
              000C3  CTGTCL   EQU   C'C'                     CLUSTER   C
                                                                   000C4  CTGTDA
TA EQU   C'D'                     DATA   D
                                        000C6  CTGTFREE EQU   C'F'
       FREE   F
             000C7  CTGTAIX  EQU   C'G'                     ALTERNATE INDEX   G
                                                                  000C8  CTGTGDS
  EQU   C'H'                     GDS   H
                                       000C9  CTGTINDX EQU   C'I'
      INDEX   I
            000D2  CTGTVVR  EQU   C'K'                     VSAM VOLUME RECORD
                                                                 000D4  CTGTMCAT
 EQU   C'M'                     MASTER CATALOG   M
                                      000D7  CTGTPGSP EQU   C'P'
     PAGE SPACE   P
           000D9  CTGTPATH EQU   C'R'                     PATH   R
                                                                000D9  CTGTPTH
EQU   C'R'                     PATH   R
                                     000E3  CTGTTNAM EQU   C'T'
    ICF TRUE NAME
          000E4  CTGTUCAT EQU   C'U'                     USER CATALOG   U
                                                               000E5  CTGTVOL  E
QU   C'V'                     VOLUME   V
                                    000E7  CTGTANM  EQU   C'X'
   ALIAS BASE  X
         000E8  CTGTUPG  EQU   C'Y'                     UPGRADE   Y
                                                              00001  CTGTJES3 EQ
U   X'01'                    JES3 SUPERLOCATE REQUEST
                                   000FF  CTGMULTY EQU   X'FF'
  MULTIPLE TYPES
               *
                                                     000013         CTGNOFLD DS
   XL1                      NUMBER FIELD POINTERS
                          000014         CTGDDNM  DS    0A
 DD NAME ADDRESS                                                               0
00014         CTGNEWNM DS    0A                       NEWNAME ADDRESS   ALTER
                                                    000014         CTGFILTR DS
  0A                       GFL FILTER KEY ADDRESS
                         000014         CTGPROB  DS    0XL4
PROBLEM DETERMINATION                                                         00
0014         CTGMODID DS    0CL2                     MODULE IDENTIFICATION
                                                   000014         CTGFDBK  DS
 XL2                      SUPER LOCATE FEEDBACK
                        000016         CTGFBFLG DS    0XL2                     S
UPER LOCATE FLAGS                                                            000
016         CTGREASN DS    0XL2                     ERROR REASON CODE
                                                  000016         CTGREAS1 DS
XL1                      HIGH ORDER BYTE ZERO
                               00080  CTGPAR   EQU   X'80'                    PA
RALLEL MOUNT   SUPER LOC
    00040  CTGKEEP  EQU   X'40'                    FORCED KEEP = SUPER LOCATE
                                                         00020  CTGGDGB  EQU   X
'20'                    GDG BASE LOCATED
                              00010  CTGNGDSN EQU   X'10'                    GDG
 NAME GENERATED
   00008  CTGCLV   EQU   X'08'                    CANDIDATE VOLUME LIST
                                                               *        6 8  RES
ERVED
                     000017         CTGREAS2 DS    XL1                      REAS
ON CODE LOW BYTE
         *
                                               000018         CTGJSCB  DS    0A
                      JSCB ADDRESS
                    000018         CTGPSWD  DS    A                        PASSW
ORD ADDRESS                                                              00001C
        CTGFIELD DS    A                        FIELD POINTERS   MAY BE MORE
                                                             *
                     THAN ONE


IEZCTGFV


                  000000         CTGFV    DSECT ,

      */********************************************************************/
                                                           */*
                                                */
                                */*   MACRO NAME = IEZCTGFV
                     */
     */*                                                                  */
                                                          */*   DESCRIPTIVE NAME
 = FIELD VECTOR TABLE                          */
                               */*
                    */
    */*   FUNCTION = THE "CTGFV" IS BUILT BY THE ACCESS METHOD SERVICES  */
                                                         */*              UTILIT
Y PROGRAMS AND CONTAINS ADDRESSES OF USER     */
                              */*              SUPPLIED INFORMATION FIELDS AND L
ISTS.  THE "CTGFV" */
   */*              IS BUILT WHEN THE USER ISSUES A "DEFINE" OR "ALTER" */
                                                        */*              COMMAND
.  IF THE USER IS CREATING A CLUSTER, A      */
                             */*              "CTGFV" IS BUILT FOR EACH CATALOG
RECORD THAT WILL  */
  */*              BE BUILT TO DESCRIBE THE CLUSTER: THAT IS, ACCESS   */
                                                       */*              METHOD S
ERVICES "DEFINE" PROCESSING BUILDS A        */
                            */*              "CLUSTER" CTGFV, A "DATA" CTGFV", A
ND, IF THE       */
 */*              CLUSTER IS KEY SEQUENCED, AN "INDEX" CTGFV.  THE    */
                                                      */*              "CTGFV" I
S POINTED TO BY THE "CTGPL(CTGFVT).  IF    */
                           */*              ACCESS METHOD SERVICES BUILDS MORE T
HAN ONE "CTGFV" */
*/*              THE "CLUSTER" CTGFV IS POINTED TO BY THE "CTGPL"    */
                                                     */*              (CTGFVT) A
ND THE "DATA" AND "INDEX" CTGFVS ARE      */
                          */*              POINTED TO BY THE "CLUSTER" CTGFV.
               */                                                              *
/*                                                                  */
                                                    */**************************
******************************************/
          000000         CTGFVTYP DS    C                  THE CTGFV CONTAINS IN
FORMATION USED                                                                *
                                BY THE DEFINE ROUTINES TO BUILD A
                                                   *
     CATALOG RECORD OF TYPE:
                 000C1  CTGFVALN EQU   C'A'               NON VSAM DATA SET
                                                                      000C2  CTG
FVGBS EQU   C'B'               GENERATION DATA GROUP (GDG) BASE
                                           000C3  CTGFVCL  EQU   C'C'
    CLUSTER
                000C4  CTGFVDTA EQU   C'D'               DATA SET
                                                                     000C7  CTGF
VAIX EQU   C'G'               ALTERNATE INDEX
                                          000C9  CTGFVIDX EQU   C'I'
   INDEX
               000D9  CTGFVPTH EQU   C'R'               PATH
                                                                    000E5  CTGFV
VOL EQU   C'V'               VOLUME
                                         000E7  CTGFVANM EQU   C'X'
  ALIAS NAME
      000001         CTGFVPRO DS    B                  CATALOG MANAGEMENT SERVIC
ES                                                                        *
                            PROCESSING OPTION FLAGS:
                                        00080  CTGFVAVL EQU   B'10000000'
 ALTER: ADD VOLUMES
             00040  CTGFVRVL EQU   B'01000000'        ALTER: REMOVE VOLUMES
                                                                  00020  CTGFVND
C EQU   B'00100000'        NO DEVICE TYPE CONVERSION
                                       00010  CTGFVDRC EQU   B'00010000'
DEFINE A RECOVERABLE CATALOG
            00008  CTGFVRON EQU   B'00001000'        TURN RACF INDICATOR ON
                                                                 00004  CTGFVROF
 EQU   B'00000100'        TURN RACF INDICATOR OFF
                                      00002  CTGFVBOF EQU   B'00000010'        T
URN BUSY INDICATOR OFF
                  *        EQU   B'00000001'        RESERVED
                                                        000002         CTGFVELM
DS    X                  ELEMENT NUMBER OF CMSPCATR
                             000003         CTGFVFL2 DS    B                  IC
F PROCESSING FLAGS
          00080  CTGFVSRC EQU   B'10000000'        SOURCE CATALOG NAME CHANGE
                                                               00040  CTGFVNAL E
QU   B'01000000'        DEFINE WITH NO ALLOCATION
                                    00020  CTGFVICF EQU   B'00100000'        0=V
SAM CATALOG, 1=ICF CATALOG
         00010  CTGFVRCT EQU   B'00010000'        DEFINE WITH RECATALOG
                                                              00008  CTGFVNSD EQ
U   B'00001000'        NO CATALOG SELF DESCRIBING RECORDS
                                   00004  CTGFVABS EQU   B'00000100'        SUBA
LLOCATED DATASET FOR ICF
               *                                 CONVERTCAT
                                                                    *        EQU
   B'00000011'        RESERVED
                          000004         CTGFVDCH DS    A                  ADDRE
SS OF CLUSTER'S DATA CTGFV                                                     0
00008         CTGFVICH DS    A                  ADDRESS OF CLUSTER'S INDEX CTGFV
                                                    00000C         CTGFVVCH DS
  A                  ADDRESS OF SPACE CTGFV
                         000010         CTGFVIND DS    A                  ADDRES
S OF ASSOCIATED JCL DD
             *                                 STATEMENT
                                                   000014         CTGFVENT DS
 A                  ADDRESS OF ENTRY NAME
                        000018         CTGFVSTY DS    A                  ADDRESS
 OF THE SECURITY INFORMATION
            *                                 CTGFL (PASSWORDS, CODEWORD, AND
                                                                 *
                   NUMBER OF TRIES)
                       00001C         CTGFVOWN DS    A                  ADDRESS
OF OWNER IDENTIFICATION CTGFL                                               0000
20         CTGFVEXP DS    A                  ADDRESS OF EXPIRY DATE CTGFL
                                                 000024         CTGFVCRE DS    A
                  ADDRESS OF CREATION DATE CTGFL
                      000028         CTGFVVLT DS    A                  ADDRESS O
F VOLUME SERIAL NUMBER LIST                                                00002
C         CTGFVRNG DS    A                  ADDRESS OF THE KEY RANGE LIST
                                                000030         CTGFVDVT DS    A
                 ADDRESS OF THE DEVTYPE CTGFL (FOR
                                    *                                 DEFINE NON
VSAM ONLY)                                                                000034
         CTGFVSPC DS    0A                 ADDRESS OF THE SPACE ALLOCATION
                                                              *
                INFORMATION CTGFL
                    000034         CTGFVTTR DS    A                  ADDRESS OF
THE DSCB'S TTR (FOR DEFINE
        *                                 NONVSAM ONLY)
                                              000038         CTGFVAMD DS    0A
               ADDRESS OF THE AMDSB CTGFL (FOR
                                  *                                 DEFINE CATAL
OG AND DEFINE CLUSTER
       *                                 ONLY)
                                             000038         CTGFVFSN DS    A
              ADDRESS OF THE FILE SEQUENCE NUMBER
                                 *                                 CTGFL (FOR DE
FINE NONVSAM ONLY)                                                     00003C
      CTGFVATR DS    A                  ADDRESS OF DATA SET ATTRIBUTES CTGFL
                                            000040         CTGFVBUF DS    A
             ADDRESS OF THE BUFFER SIZE CTGFL
                 000044         CTGFVLRS DS    A                  ADDRESS OF THE
 AVERAGE RECORD SIZE
     *                                 CTGFL
                                           000048         CTGFVLMT DS    0A
            ADDRESS OF THE GDG LIMIT (FOR DEFINE
                               *                                 GDG BASE ONLY)
                                                                     000048
    CTGFVEXT DS    A                  ADDRESS OF EXCEPTION EXIT PARAMETER
                                                         *
           LIST
               00004C         CTGFVGAT DS    0A                 ADDRESS OF THE G
DG ATTRIBUTES (FOR
   *                                 DEFINE GDG BASE ONLY)
                                         00004C         CTGFVUPG DS    A
          ADDRESS OF RGATTR PARAMETER LIST
              000050         CTGFVNAM DS    A                  ADDRESS OF THE TR
UE NAME CTGFL (FOR
  *                                 DEFINE ALIAS ONLY)
                                        000054         CTGFVPWD DS    0A
         ADDRESS OF THE RELATED OBJECTS
                            *                                 PASSWORD
                                                                  000054
 CTGFVCPP DS    A                  ADDRESS OF TSO COMMAND PROCESSOR
                                                      *
        PARAMETER LIST (CPPL TSO COMMAND
                           *                                 CALLERS ONLY). IF Z
ERO, DAIRFAIL
*                                 MESSAGES WILL BE WTP'S.
                                      000058         CTGFVWKA DS    0A
       ADDRESS OF THE CRA FEEDBACK AREA
           000058         CTGFVCAT DS    A                  ADDRESS OF SOURCE CA
TALOG ACB                                                       00005C         C
TGFVELT DS    A                  ADDRESS OF EXTENT INFORMATION LIST
                                     000060         CTGFVRBA DS    A
      ADDRESS OF FPL OF HURBA AND HARBA FOR
                         *                                 DATA OR INDEX COMPONE
NT DURING                                                                     *
                                CONVERTCAT
                                            00064  CTGFVLEN EQU   * CTGFV
     LENGTH OF FIELD VECTOR TABLE

                                                                      IEZCTGFL



        000000         CTGFL    DSECT ,                        */
                                                                            */**
******************************************************************/
                                                 */*
                                      */
                      */*   MACRO NAME = IEZCTGFL
           */                                                              */*
                                                                */
                                                */*   DESCRIPTIVE NAME = CATALOG
 FIELD PARAMETER LIST                */
                     */*
          */                                                              */*
FUNCTION = THE FIELD PARAMETER LIST (CTGFL) DEFINES ONE OF     */
                                               */*              THE CATALOG RECO
RD'S FIELDS OR A GROUP OF           */
                    */*              LOGICALLY RELATED FIELDS.  THE CTGFL IS BUI
LT       */                                                              */*
          BEFORE AN OS/VS COMPONENT ISSUES THE CATLG          */
                                              */*              MACRO INSTRUCTION
 (SVC 26) TO PROCESS A             */
                   */*              CATALOG RECORD.  THE CTGFL IS USED IN TWO
        */                                                              */*
         SITUATIONS:                                         */
                                             */*                (1)  IT IDENTIFI
ES CATALOG RECORD INFORMATION     */
                  */*                     TO RETRIEVE OR UPDATE.  THE CTGPL CONT
AINS   */                                                              */*
               THE ADDRESS OF EACH CTGFL USED IN THIS WAY.  */
                                            */*                (2)  IT IDENTIFIE
S CATALOG RECORD INFORMATION     */
                 */*                     TO COMPARE AGAINST CALLER SUPPLIED DATA
.     */                                                              */*
              THIS IS A "TEST" CTGFL AND IS ADDRESSED BY   */
                                           */*                     ANOTHER CTGFL
.                               */
                */*
     */                                                              */*********
***********************************************************/
                                          *

000000         CTGFLDNO DS    XL1                      NUMBER PAIRS DATA LNG/ADD
R                                                                   *

                          000001         CTGFLDCD DS    XL1
 TEST CONDITION
       00080  CTGFLDEQ EQU   X'80'                    EQUAL
                                                            00060  CTGFLDNE EQU
  X'60'                    NOT EQUAL
                                 00020  CTGFLDGT EQU   X'20'
GREATER THAN
      00040  CTGFLDLT EQU   X'40'                    LESS THAN
                                                           000A0  CTGFLDGE EQU
 X'A0'                    GREATER THAN OR EQUAL
                                000C0  CTGFLDLE EQU   X'C0'                    L
ESS THAN OR EQUAL
     00080  CTGFLDZ  EQU   X'80'                    TEST UNDER MASK FOR ZEROES
                                                          00010  CTGFLDON EQU
X'10'                    TEST UNDER MASK FOR ONES
                               00040  CTGFLDMX EQU   X'40'                    TE
ST UNDER MASK FOR MIXED
    000FF  CTGFLDGF EQU   X'FF'                    GENERIC FILTER TEST
                                                                *

                      000002         CTGFLDGC DS    XL1                      GRO
UP CODE NUMBER
          *
                                                000003         CTGFLDRE DS    XL
1                      TEST RESULT
                             00001  CTGFLDTS EQU   X'01'                    TEST
 MASK   CTGFLDRE
         *                                       = 0   SUCCESSFUL TEST,
                                                              *
                      = 1   TEST FAILED
                                   *
                                                                         000004
        CTGFLDWA DS    F                        CATALOG WORK AREA
                                                             *

                   000008         CTGFLDNM DS    A                        FIELD
NAME ADDRESS
       *
                                             00000C         CTGFLCHN DS    A
                    ADDRESS OF NEXT FIELD
                                 *

      *
                                            000010         CTGFLDAT DS    0CL8
                   PAIRS OF DATA LENGTH/ADDRESS
                 000010         CTGFLNG  DS    F                        DATA LEN
GTH                                                                   000014
     CTGFLPT  DS    A                        DATA ADDRESS
                                                          *

                               *
                                                                             000
18  CTGFLLEN EQU   * CTGFL                  LENGTH OF CTGFL


                       IEZCTGWA


                                                        ************************
***********************************************
                             *
                   *
  *  MACRO NAME = IEZCTGWA                                              *
                                                       *
                                             *
                            *  DESCRIPTIVE NAME = CATALOG WORK AREA
                  *
 *                                                                     *
                                                      *  FUNCTION = THE CTGWA IS
 BUILT BY THE CALLER OF CATALOG MANAGEMENT  *
                           *             FOR MOST REQUESTS.  THE CTGPL POINTS TO
 THE CTGWA.      *
*             THE WORK AREA HAS ONE FORMAT FOR A SUPERLOCATE          *
                                                     *             REQUEST AND A
NOTHER FORMAT FOR ALL OTHER REQUESTS.      *
                          *
                *                                                              *
**********************************************************************
                                     000000         CTGWA    DSECT ,

          000000         CTGWALNG DS    XL2                      LENGTH OF THE W
ORK AREA                                                                      *
FORMAT FOR A SUPERLOCATE REQUEST
                                    000002  00000           ORG   CTGWALNG

         000000         CTGWAVL  DS    A                  ADDRESS OF THE CTGVL (
VOLUME LIST)                                                  000004         CTG
WALV  DS    XL2                LENGTH OF THE VOLUME LIST
                                   000006         CTGWAVCT DS    XL2
    NO OF VOLSERS RETURNED IN VSL MINIMUM
        000008         CTGWAUCT DS    XL2                NO OF VOLUMES THAT MUST
 BE MOUNTED                                                                 * TH
E FOLLOWING TWO FIELDS ARE FOR A GDG BASE ONLY:
                                  00000A         CTGWAGCT DS    XL2
   NO OF GENERATIONS CATALOGED
                      *                                 CTGGDGB IN CTGPL IS SET
ON (FOR GDGS)                                               00000C         CTGWA
GB  DS    A                  ADDRESS OF 4 BYTE FIELD
                                                *
 CONTAINING GENERATION LEVEL TO BE USED
              00010  CTGWALEN EQU   * CTGWA


                                        IEZCTGVL


                                                                         *******
****************************************************************
                                              *
                                    *
                   *  MACRO NAME = IEZCTGVL
         *                                                              *
                                                              *
                                             *  DESCRIPTIVE NAME = CATALOG VOLUM
E LIST                             *
                  *
        *                                                              *  FUNCTI
ON = THE CTGVL IS BUILT BY THE ISSUER OF A LOCATE REQUEST    *
                                            *             FOR A DATA SET NAME.
CATALOG MANAGEMENT USES THE CTGVL *
                 *             TO RETURN TO THE CALLER THE VOLUME SERIAL NUMBERS
 OF    *                                                              *
    THE VOLUMES ON WHICH SPACE IS ALLOCATED TO THE DATA     *
                                           *             SET.  FOR SUPERLOCATE R
EQUESTS, THE CTGWA POINTS TO THE *
                *             CTGVL.
      *                                                              *
                                                           *
                                          **************************************
*********************************
000000         CTGVL    DSECT ,
                                                     000000         CTGVLVOL DS
   CL6                VOLUME SERIAL NUMBER
                          000006         CTGVLDEV DS    XL4                DEVIC
E TYPE                                                                         0
0000A         CTGVLSEQ DS    XL2                FILE SEQUENCE NUMBER
                                                    00000C         CTGVLLX  DS
  0X                 VOLUME LIST EXTENSION
                         00000C         CTGVLTTR DS    0XL3               FOR A
SINGLE VOL DSN, THE TTR OF ITS
             *                                 DSCB
                                                   00000C         CTGVLNXT DS
 0X                 FOR A MULTI VOLUME DATASET, A
                                       *                                 REPETIT
ION OF CTGVLVOL, CTGVLDEV, AND
            *                                 CTGVLSEQ FOR THE REST OF THE VOLUM
ES                                                        0000C  CTGVLLEN EQU
* CTGVL


    IEZCTGCV


                                     *******************************************
****************************
          *
*                                                              *  MACRO NAME = I
EZCTGCV                                              *
                                    *
                          *
         *  DESCRIPTIVE NAME = CATALOG CONTROL VOLUME LIST                     *
                                                              *
                                                    *
                                   *  FUNCTION = THE CTGCV IS BUILT BY THE ISSUE
R (PRIMARILY THE         *
        *             SCHEDULER) OF A SUPERLOCATE REQUEST BY DATA SET NAME    *
                                                             *             FOR V
OLUME INFORMATION.  CATALOG MANAGEMENT USES        *
                                  *             THE CTGCV TO RETURN TO THE CALLE
R THE NAME OF THE       *
       *             CATALOG THAT CONTAINS THE DATA SET NAME.  THE CTGPL     *
                                                            *             POINTS
 TO THE CTGCV.                                    *
                                 *
                       *
      ***********************************************************************
                                            000000         CTGCV    DSECT ,

                                *
                                                                      000000
     CTGCVVOL DS    CL6                VOLUME SERIAL NUMBER OF THE CATALOG
                                                          *
            NAMED IN CTGCVDSN. RETURNED ONLY FOR
                               *                                 GDG SINGLE REQU
ESTS.                                                                000006
    CTGCVDSN DS    CL44               NAME OF THE CATALOG IN WHICH THE DATA
                                                         *
           SET NAME WAS LOCATED, OR WHICH NEEDS
                              *                                 TO BE OPENED TO
CONTINUE THE
   *                                 SUPERLOCATE
                                         000032         CTGCVDEV DS    XL4
          CVOL DEVICE TYPE
              000036         CTGCVCC  DS    CL44               AN ALIAS OF THE C
ATALOG (CATALOG
  *                                 CONNECTOR).  RETURNED ONLY WHEN THE
                                                       *
         CATALOG IS IDENTIFIED BY THE FIRST
                            *                                 QUALIFIER OF THE D
ATASET NAME AND
 *                                 THE FIRST QUALIFIER IS AN ALIAS OF
                                                      *
        THE CATALOG NAME.

                                                                         IDAAMDS
B


                          *
                *                                                              *
 THE AMDSB CONTAINS STATISTICAL INFORMATION ABOUT RECORD PROCESSING  *
                                                    * IN THE DATASET.  IT ALSO C
ONTAINS SOME OF THE DATASET'S ATTRIBUTES  *
                         * AND SPECIFICATIONS.  THE AMDSB IS BUILT USING THE DAT
ASET OR INDEX  *                                                              *
CATALOG RECORD'S AMDSB SET OF FIELDS, WHEN THE CLUSTER IS OPENED.   *
                                                   * A COPY OF THE AMDSB IS CONT
AINED IN THE DATASET'S DATA CATALOG      *
                        * RECORD AND, IF THE DATASET IS KEY SEQUENCED, IN THE IN
DEX CATALOG   *                                                              * R
ECORD.  THE DATA OR INDEX AMB (AMBDSB) POINTS TO ITS ASSOCIATED    *
                                                  * AMDSB.
                                        *
                       *
             *                                               000000         IDAA
MDSB DSECT ,
                                          00000  AMDSB    EQU   *

       000000         AMDSBID  DS    X            AMDSB IDENTIFIER, X'60'.
                                                            000001         AMDAT
TR  DS    X            ATTRIBUTES OF THE DATASET:
                                         00080  AMDDST   EQU   B'10000000'  KEY
SEQUENCED DATASET.
              00040  AMDWCK   EQU   B'01000000'  CHECK EACH RECORD WHEN IT IS WR
ITTEN.                                                             00020  AMDSDT
   EQU   B'00100000'  SEQUENCE SET IS STORED WITH THE DATA AND IS
                                               *                           REPLI
CATED   DUPLICATED AS MANY TIMES AS
                    *                           POSSIBLE AROUND THE TRACK.
                                                                  00010  AMDREPL
  EQU   B'00010000'  ALL INDEX RECORDS ARE REPLICATED
                                              *                           DUPLIC
ATED AS MANY TIMES AS POSSIBLE AROUND
                   *                           THE TRACK.
                                                                 00008  AMDORDER
 EQU   B'00001000'  USE THE VOLUMES IN THE SAME ORDER AS IN THE
                                             *                           VOLUME
LIST.
           00004  AMDRANGE EQU   B'00000100'  THE DATASET IS DIVIDED INTO KEY RA
NGES.                                                           00002  AMDRRDS
EQU   B'00000010'  RELATIVE RECORD DATASET.
                                     00001  AMDSPAN  EQU   B'00000001'  DATASET
CONTAINS SPANNED RECORDS.
  000002         AMDLEN   DS    H            LENGTH OF AMDSB.
                                                       000004         AMDNEST  D
S    0H           NO OF ENTRIES IN THE INDEX SECTION.
                            000004         AMDAKRKP DS    H            RELATIVE
KEY POSITION OF THE ALTERNATE KEY.
 000006         AMDRKP   DS    H            RELATIVE KEY POSITION.
                                                      000008         AMDKEYLN DS
    H            KEY LENGTH.
                           00000A         AMDPCTCA DS    X            PERCENT OF
 FREE CONTROL INTERVALS IN THE
               *                           CONTROL AREA.
                                                     00000B         AMDPCTCI DS
   X            PERCENT OF FREE BYTES IN THE CONTROL
                                         *                           INTERVAL.
                                                                               0
0000C         AMDCIPCA DS    H            NUMBER OF CONTROL INTERVALS IN A CONTR
OL                                                                 *
               AREA.
                         00000E         AMDFSCA  DS    H            NUMBER OF FR
EE CONTROL INTERVALS IN A
             *                           CONTROL AREA.
                                                   000010         AMDFSCI  DS
 XL4          NUMBER OF FREE BYTES PER CONTROL INTERVAL.
                        000014         AMDCINV  DS    F            CONTROL INTER
VAL SIZE.                                                                    000
018         AMDLRECL DS    F            MAXIMUM RECORD SIZE.
                                                  00001C         AMDHLRBA DS
0F           RELATIVE BYTE ADDRESS (RBA) OF THE HIGH
                                      *                           LEVEL INDEX RE
CORD (KSDS).                                                                0000
1C         AMDNSLOT DS    F            NUMBER OF RECORD SLOTS PER CONTROL INTERV
AL                                                              *
            (RRDS).
                      000020         AMDSSRBA DS    0F           RELATIVE BYTE A
DDRESS (RBA) OF THE FIRST
          *                           SEQUENCE SET RECORD (KSDS).
                                                000020         AMDMAXRR DS    F
           MAXIMUM VALID RELATIVE RECORD NUMBER(RRDS).
                     000024         AMDPARDB DS    F            ADDRESS OF THE T
O FIRST ARDB                                                              000028
         AMDATTR3 DS    X            ATTRIBUTES:
                                                       00080  AMDUNQ   EQU   B'1
0000000'  THE DATASET HAS NONUNIQUE KEYS.
                            00040  AMDFAULT EQU   B'01000000'  THE DATASET IS ST
AGED BY CYLINDER FAULT.
 00020  AMDBIND  EQU   B'00100000'  THE DATASET IS STAGED AND BOUND.
                                                      00010  AMDWAIT  EQU   B'00
010000'  THE DATASET DESTAGING IS COMPLETED BEFORE
                                  *                           CONTROL IS RETURNE
D TO THE PROGRAM THAT
       *                           CLOSES THE DATASET.
                                                     00008  AMDLM    EQU   B'000
01000'  THE DATASET IS LOADED.
                          00004  AMDLDS   EQU   B'00000100'  LINEAR DATASET

      *        EQU   B'00000011'  RESERVED
                                            000029         AMDSTRNO DS    X
       NUMBER OF CONCURRENT REQUESTS.
                 00002A         AMDDUI   DS    CL4          RESERVEIMS DBRC USAG
E INDICATOR                                                           00002E
     AMDBFNO  DS    XL2          NUMBER OF DATA OR INDEX BUFFERS.
                                           000030         AMDSTAT  DS    0XL48
      DATASET STATISTICS:
                000030         AMDSTSP  DS    XL8          OS/VS SYSTEM TIME STA
MP.                                                                  000038
    AMDNIL   DS    H            NUMBER OF INDEX LEVELS
                                          00003A         AMDNEXT  DS    H
     NUMBER OF EXTENTS IN THE DATASET.
               00003C         AMDNLR   DS    F            NUMBER OF USER SUPPLIE
D RECORDS IN THE
   *                           DATASET.
                                         000040         AMDDELR  DS    F
    NUMBER OF DELETED RECORDS.
              000044         AMDIREC  DS    F            NUMBER OF INSERTED RECO
RDS.                                                               000048
  AMDUPR   DS    F            NUMBER OF UPDATED RECORDS.
                                        00004C         AMDRETR  DS    F
   NUMBER OF RETRIEVED RECORDS.
             000050         AMDASPA  DS    F            NUMBER OF BYTES OF FREE
SPACE IN THE
 *                           DATASET.
                                       000054         AMDNCIS  DS    F
  NUMBER OF TIMES A CONTROL INTERVAL WAS
                           *                           SPLIT.
                                                                 000058
AMDNCAS  DS    F            NUMBER OF TIMES A CONTROL AREA WAS SPLIT.
                                      00005C         AMDEXCP  DS    F
 NUMBER OF TIMES EXCP WAS ISSUED BY VSAM I/O
                          *                           ROUTINES.
                                                                        00060  A
MDSBLEN EQU   * AMDSB

