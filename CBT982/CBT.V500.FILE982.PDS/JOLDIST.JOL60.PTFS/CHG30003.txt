*CHG30003  01/04/76
*COMPANY  SHELL    STANDARD
*NAME   P.GILLIS   V.GROTH
*CHANGE PROPOSAL: ALLOW A SYMBOLIC PARAMETER TO CONTAIN THE NAME OF A
*    PROGRAM, AND IN A SUBSEQUENT IF STATEMENT, SIMPLY SUBSTITUTE
*    THE VALUE OF THE SYMBOLIC PARAMETER RATHER THAN PERFORM A
*    PREPROCESSOR EVALUATION OF THE IF STATEMENT.
*    FOR EXAMPLE:
*              PREPROCESSOR              COMPILER
*              INPUT                     INPUT
*              %X = 'IEFBR14';
*              DCL %X PROG;     ->       DCL IEFBR14 PROG;
*              RUN %X;          ->       RUN IEFBR14;
*              IF %X=0 THEN ... ->       IF IEFBR14=0 THEN...
*    CURRENTLY,THIS TYPE OF TEST WILL RESULT IN A PREPROCESSOR TIME
*    EVALUATION.
*SOLUTION: NO SOLUTION CURRENTLY AVAILABLE.
*
*COMMENT : JOL GOES TO A CONSIDERABLE AMOUNT OF TROUBLE TO DETERMINE
*    THE DIFFERENCE BETWEEN PREPROCESSOR ORIENTED IF STATEMENTS
*    AND EXECUTION TIME IF STATEMENTS.
*    THIS IS ACHIEVED BY EXAMINING ALL CHARACTERS OF EACH TOKEN
*    TO SEE IF THERE IS A %(SYMBOLIC VARIABLE). IF ONE IS FOUND,
*    THE ASSOCIATED VALUE IS SUBSTITUTED FOR THE SYMBOLIC NAME AND
*    THE PROCESS IS CONTINUED. HOWEVER, IF THE STATEMENT BEING EXAMINED
*    IS AN IF STATEMENT, AND EITHER OF THE TOKENS REPRESENTING THE
*    ARGUMENTS OF THE IF HAVE A % AS THE FIRST CHARACTER THEN IT IS
*    CONSIDERED TO BE A PREPROCESSOR ORIENTED IF AND SUBSTITUTION
*    DOES NOT TAKE PLACE. IN THIS CASE EVALUATION OF THE IF OCCURS
*    WITH THE EFFECT THAT THE 'THEN CLAUSE' TEXT IS ELIGIBLE OR NOT
*    ELIGIBLE FOR INTERPRETATION ACCORDING TO WHETHER THE RESULT WAS
*    'TRUE' OR 'FALSE'.
*
*  CURRENTLY YOU MAY OVERCOME THE PROBLEM THIS WAY:
*
*          PREPROCESSOR                   COMPILER
*          INPUT                          INPUT
*          %X='EFBR14';
*          DCL I%X PROG;       ->         DCL IEFBR14;
*          RUN I%X;            ->         RUN IEFBR14;
*          IF I%X = 0 THEN...  ->         IF IEFBR14 = 0 THEN...
*  AS THE ARGUMENT TO THE IF DOES NOT COMMENCE WITH A % THE DESIRED
*  RESULT OCCURS. HOWEVER, THIS IS NOT AN ENTIRELY SATISFACTORY SOLUTION
*
*  POSSIBLE SOLUTIONS AND RAMIFICATIONS:-
*
*    1. ONLY PERFORM THE IF IN THE PREPROCESSOR IF ONE (OR BOTH) OF THE
*          TERMS IN THE 'IF' HAVE QUOTES.
*      EG  IF '%LIST(1)' = 5 THEN ...          PREPROCESSOR IF
*      OR  IF %X=5 THEN                        EXECUTE IF
*
*      RAMIFICATIONS:- MOST MACROS AND POSSIBLY MANY JOL PROGRAMS
*          WOULD NEED ALTERATIONS.
*
*    2. HAVE TWO SEPERATE TYPES OF JOL STATEMENTS (LIKE PL1)
*      EG
*          COMPILER            PREPROCESSOR
*
*          IF                  %IF
*          STOP                %STOP
*          RUN                 %RUN  (INSTEAD OF INVOKE?)
*      ETC...
*
*       RAMIFICATIONS:- ALL MACROS AND JOL PROGRAMS WOULD REQUIRE
*          MAJOR ALTERATIONS
*
*CONCLUSIONS: CONSIDERATION WILL BE GIVEN TO PROVIDING A SATISFACTORY
*       MECHANISM IN A FUTURE RELEASE THAT WILL BE COMPATIBLE WITH
*       EXISTING VERSIONS OF JOL.
*
*SUMMARY: ENHANCE IF STATEMENT FACILITIES.
*CHANGE IF PREPROCESSOR
