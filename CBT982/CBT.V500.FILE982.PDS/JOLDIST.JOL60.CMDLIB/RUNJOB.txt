PANPLI : MACRO (%PRJCAT=,%PANLIB=,%NOPANEL,%PLIOPTS=,%LINKOPTS=,
%COPYMOD=,%SYSOUT=,%LINK);
DCL %LIB INIT '';
IF %SYSOUT = '' THEN %SYSOUT = 'A';
IF %PANLIB= '' THEN DO;
   %PANLIB = 'PAN.SRCLIB';
END;
DCL %PANMOD INIT '';
IF %LIST(1) ¬= '' THEN %PANMOD = '%LIST(1)';
IF %NOPANEL = '' THEN
PANEL ('                  JOL 3.3 PANPLI')
//('            ANY HIGHLIGHTED FIELD CAN BE CHANGED')
//('            PAN MODULE ==============>',PANMOD,12,'%PANMOD')
//('            PAN ACCESS ==============>',PANACC,5,'')
//('            SYSOUT CLASS ============>',SYSOUT,1,'%SYSOUT')
  ('            PAN LIBRARY =============>',PANLIB,44,'%PANLIB')
///('        *****************************************************');
IF %PANACC¬='' THEN %PANACC='++ACCESS %PANACC';
DCL TEMPDATA DS DSN &&PAN SYSDA 5,2 CYLS FB 80,7280;
DCL PANPRT SYSOUT %SYSOUT;
DCL PANPARM * REPLACE;
%PANACC
++WRITE WORK,%PANMOD
EOF;
PAN: DCL PAN#1   PROG
PANDD2 WRITES TEMPDATA
SYSIN READS PANPARM
SYSPUNCH WRITE 'NULLFILE'
SYSPRINT WRITES PANPRT;
RUN PAN;
OPCNTL '//PANDD1 DD DSN=%PANLIB,DISP=SHR';
IF PAN < 12 THEN DO;
PLI '&&PAN'  %LINK %PLIOPTS LINKOPTS '%LINKOPTS'
SYSOUT %SYSOUT %NOPANEL;
END;
END;
