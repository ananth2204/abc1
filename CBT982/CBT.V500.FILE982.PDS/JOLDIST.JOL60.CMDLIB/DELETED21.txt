$jolprof:macro;
/* This macro is called ONCE at Jol startup time. */

/* Alter these variables if necessary  */
    dcl %$jolvers init('60')  ext;           /* Jol version number   */
    dcl %$jolpref init('SYS2') ext;          /* High level jol index */
    dcl %SYSUID   init('') ext;              /* UserID               */

    if %system='MVS'
    then do;
      if %sysuid=''             /* Any User ID?           */
      then panel // (ctr 'Jol Start Up' )
                 // (ctr 'Information Needed')
                 // (' Userid or Sysuid ====> ',sysuid,8,'')
                 helpline ('Information for Jol Program');
    end;

    dcl %$jolincl init('%sysuid.JOL') ext;   /* Normal include lib   */
/*  dcl %$joljobs init('%sysuid.JOL.JOBS') ext;
    dcl %$jolpgms init('%sysuid.JOL.PROGRAMS') ext; */
    dcl %$joljobs init('SYS2.JOL.JOBS') ext;
    dcl %$jolpgms init('SYS2.JOL.PROGRAMS') ext;
    dcl %$joldbfs init('SYS2.JOL.DSNREPOS') ext;
    alloc f(joldsdb) da('%$joldbfs') shr;
    alloc f(joljobs) da('%$joljobs') shr;
    alloc f(jolpgms) da('%$jolpgms') shr;

    dcl %tsoclass init('*') ext;
    dcl %spool    init('JES2') ext;
    dcl %showsel  init('')     ext;    /* For SHOWDSN etc            */

 /* Work around for Printer and Dummy in the DSNREPOS data set May,01*/
    dcl printer printer a nodef;
    dcl dummy   ds dummy   nodef  nodcb;

    $$init;                            /* Get directories,           */
                                       /* set colors etc             */

if cmd¬=''                             /* Startup command specified? */
then do;                               /* Yes, do it ....            */
   %cmd;
 /*exit quit;                          /* then exit from Jol         */
end;

if %system ¬= 'SHELL'                  /* MVS etc ?                  */
then /* logon */ ;

if %panels='YES' then                  /* Under TSO, and 3270 ???    */
do;
     write 'Enter a Jol Command, or /* to end';
     panel /////////
     ('Do you wish to use the Jol Menu System?',menans,1,'y');
     if menans='Y' | menans='y' then
     menu;                             /* No command, call main menu */
     write 'Enter a Jol Command, or /* to end';
     exit;
end;
end;

