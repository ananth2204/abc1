NETWORK:MACRO(%NETID=,%ID=,%NHOLD=,%HC=,%RELEASE=,%RL=,%NORMAL=,
 %NC=,%ABNORMAL=,%AB=,%OPHOLD=,%OH=,%RELSCHCT=,%RS=,%NETREL=,%NR=) ;
 DCL %SYSNETID INIT '' EXT;
 IF %LIST(1)=''
 THEN DO;
      STOP 'NET MACRO: NO NETID | ID SUPPLIED' ;
      EXIT;
 END;
 %SYSNETID='%LIST(1)';
 ALLOC F($$JSTAT) DA('%$JOLPREF.JOLNET.STATUS(%SYSNETID)') SHR;
 ALLOC F($$JCODE) DA('%$JOLPREF.JOLNET.CODE(%SYSNETID)') SHR;
 OPEN F($$JSTAT) OUTPUT;    /* JOL ENQUES ON DATA SET */
 OPEN F($$JCODE) OUTPUT;
 /* ASSUME THAT JOLNET.STATUS EXITS */
 WRITE F($$JCODE) FROM
 ('      /*      JOL NETWORK CONTROLLER FOR NETWORK ''%SYSNETID''
    */');
 WRITE F($$JCODE) FROM('    ENQ SPFDSN/''%$JOLPREF.JOLNET.STATUS'';');
 WRITE F($$JCODE) FROM('    %%SYSNETID=''%SYSNETID'';');
 WRITE F($$JCODE) FROM(
   '    INCLUDE ''%$JOLPREF.JOLNET.STATUS(%SYSNETID)'';');
 /*
 WRITE F($$JCODE) FROM('    GETNETST %SYSNETID;');
 */
 WRITE F($$JCODE) FROM('    IF %%NETJOBÂ¬=''''');
 WRITE F($$JCODE) FROM('    THEN SET %%NETJOB=''ENDED'';');
 WRITE F($$JCODE) FROM('    OPEN FILE(TEMPNET) OUTPUT;');
 END ;
