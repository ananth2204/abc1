  MERGE:MACRO(%FIELDS=,TO,%USING=MERGPARM,%INPUT=);
   IF %FIELDS = '' & %USING = 'MERGPARM' THEN
      STOP 'NO MERGE FIELDS SUPPLIED' ;
   IF %LIST(3) = '' THEN STOP 'NO INPUT DATA SPECIFIED' ;
   IF %LIST(4) = '&' THEN  %INPUT = '%INPUT SORTIN03 READS %LIST(5)' ;
   IF %LIST(6) = '&' THEN  %INPUT = '%INPUT SORTIN04 READS %LIST(7)' ;
   IF %LIST(8) = '&' THEN  %INPUT = '%INPUT SORTIN05 READS %LIST(9)' ;
     DCL   MERGPARM * REPLACE ;
 MERGE FIELDS=%FIELDS
EOF;
     DCL   SORTLIB DS SYS1.SORTLIB ;
     DCL   SYSOUT  SYSOUT  NODCB ;
     DCL   SORT      PROG
           SORTLIB  READS  SORTLIB
           SYSOUT   WRITES SYSOUT
           SYSIN    READS  %USING
           SORTIN01 READS %LIST(1)
           SORTIN02 READS %LIST(3)
           %INPUT
           SORTOUT  WRITES %LIST(%TO+1) ;
  %SYSLABEL: RUN SORT     ;
     END ;
