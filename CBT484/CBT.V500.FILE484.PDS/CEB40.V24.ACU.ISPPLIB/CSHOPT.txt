)ATTR
 /*  (C) COPYRIGHT AMDAHL CORPORATION  1995. All Rights Reserved    */
 ? TYPE(INPUT) PAD(_) CAPS(ON)
 ! TYPE(OUTPUT) INTENS(LOW) COLOR(YELLOW) CAPS(OFF)
 | TYPE(TEXT) COLOR(RED)
 @ TYPE(TEXT) COLOR(WHITE)
 # TYPE(TEXT) COLOR(BLUE)
 ¬ TYPE(TEXT) COLOR(GREEN)
 * TYPE(TEXT) COLOR(YELLOW)
 ¢ TYPE(TEXT) COLOR(TURQ) SKIP(ON)
 / TYPE(TEXT) COLOR(PINK)
)BODY EXPAND(\\)
% \-\ Amdahl Cache Utility!VERS % Setup Options \-\
%COMMAND INPUT ===>_ZCMD                                     %SCROLL ===>_AMT +
+ \-\%Global options+\-\
  ?Z  ¢  Automatically display Ctlrs with exceptional statuses.
  ?Z  ¢  View result output from each SETCACHE cmd in a popup window.
  ?Z  ¢  Enable confirmation for each SETCACHE cmd.
  ?Z  ¢  Log all commands in userid.CACHE.LOG
  ?Z ¢   PFKey to set to 'REF' (refreshes controller and device status)
+ \-\%Line operators for Controller Panel+\-\
  ?Z¢    Display unformatted output from LISTDATA STATUS command
  ?Z¢    Display unformatted output from LISTDATA COUNTS command
  ?Z¢    Display unformatted output from LISTDATA PINNED command
  ?Z¢    Display Cache statistics (hit ratios)
  ?Z¢    Add this controller to a selection group
  ?Z¢    Display panel showing all devices connected to this controller
  ?Z¢    Issue SETCACHE DESTAGE for this controller
+ \-\%Line operators for Devices Panel+\-\
  ?Z¢    Display unformatted output from LISTDATA COUNTS command
  ?Z¢    Display unformatted output from LISTDATA PINNED command
  ?Z¢    Display unformatted output from LISTDATA STATUS command
  ?Z¢    Display panel for DUPLEX operations on the selected device.
+ \-\%Color attributes (|RED,@WHITE,#BLUE,¬GREEN,*YELLOW,¢TURQ,/PINK)+\-\
  ?ATCACH¢  Cache Status field color  ?ATCFW ¢  Cache Fast Write field color
  ?ATNVS ¢  NVS field color
)INIT
.HELP  = CSHHOPT
.CURSOR = ZCMD
.ZVARS = '(CACHXCP,CACHVW,CACHCNF,CACHLOG,CACHREF,CACHST,CACHSCNT, +
           CACHSPIN,CACHSRAT,CACHMB,CACHSDV,CACHDSTG,CACHDCNT, +
           CACHDPIN,CACHDSUB,CACHDDUP)'
 &ZCMD = ' '
 VGET (CACHVW,CACHCNF,CACHLOG,CACHREF,CACHST,CACHSCNT,CACHSPIN) PROFILE
 VGET (CACHDDUP,CACHDSUB,CACHSDV,CACHSRAT,CACHMB) PROFILE
 VGET (CACHDSTG,CACHDCNT,CACHDPIN,CACHXCP) PROFILE
 IF (&CACHXCP= ' ')
  &CACHXCP= 'YES'
 IF (&CACHVW = ' ')
  &CACHVW = 'NO'
 IF (&CACHCNF= ' ')
  &CACHCNF= 'NO'
 IF (&CACHLOG = ' ')
  &CACHLOG = 'YES'
 IF (&ATCACH  = ' ')
  &ATCACH  = 'YELLOW'
 IF (&ATCFW   = ' ')
  &ATCFW   = 'TURQ'
 IF (&ATNVS   = ' ')
  &ATNVS   = 'WHITE'
 IF (&CACHST  = ' ')
  &CACHST  = 'S'
 IF (&CACHSCNT = ' ')
  &CACHSCNT = 'C'
 IF (&CACHSPIN = ' ')
  &CACHSPIN = 'P'
 IF (&CACHSRAT = ' ')
  &CACHSRAT = 'H'
 IF (&CACHMB = ' ')
  &CACHMB = 'M'
 IF (&CACHSDV  = ' ')
  &CACHSDV  = 'D'
 IF (&CACHDSTG = ' ')
  &CACHDSTG = 'U'
 IF (&CACHDCNT = ' ')
  &CACHDCNT = 'C'
 IF (&CACHDPIN = ' ')
  &CACHDPIN = 'P'
 IF (&CACHDSUB = ' ')
  &CACHDSUB = 'S'
 IF (&CACHDDUP = ' ')
  &CACHDDUP = 'D'
)PROC
 &ZCMD = TRUNC (&ZCMD,' ')
 VER(&CACHVW,LIST,YES,NO)
 VER(&CACHCNF,LIST,YES,NO)
 VER(&CACHLOG,LIST,YES,NO)
 VER(&CACHREF,NB,RANGE,1,24)
 IF (&CACHST EQ &CACHSCNT,&CACHSPIN,&CACHSDV,&CACHDSTG,&CACHSRAT,&CACHMB)
   .MSG = CSHM011
 IF (&CACHSCNT EQ &CACHST,&CACHSPIN,&CACHSDV,&CACHDSTG,&CACHSRAT,&CACHMB)
   .MSG = CSHM011
 IF (&CACHSPIN EQ &CACHST,&CACHSCNT,&CACHSDV,&CACHDSTG,&CACHSRAT,&CACHMB)
   .MSG = CSHM011
 IF (&CACHSDV EQ &CACHST,&CACHSCNT,&CACHSPIN,&CACHDSTG,&CACHSRAT,&CACHMB)
   .MSG = CSHM011
 IF (&CACHSRAT EQ &CACHST,&CACHSCNT,&CACHSPIN,&CACHDSTG,&CACHSDV,&CACHMB)
   .MSG = CSHM011
 IF (&CACHMB EQ &CACHST,&CACHSCNT,&CACHSPIN,&CACHDSTG,&CACHSDV,&CACHSRAT)
   .MSG = CSHM011
 IF (&CACHDSTG EQ &CACHST,&CACHSCNT,&CACHSPIN,&CACHSDV,&CACHSRAT,&CACHMB)
   .MSG = CSHM011
 IF (&CACHDCNT EQ &CACHDPIN,&CACHDDUP,&CACHDSUB)
   .MSG = CSHM011
 IF (&CACHDPIN EQ &CACHDCNT,&CACHDDUP,&CACHDSUB)
   .MSG = CSHM011
 IF (&CACHDDUP EQ &CACHDCNT,&CACHDPIN,&CACHDSUB)
   .MSG = CSHM011
 IF (&CACHDSUB EQ &CACHDCNT,&CACHDPIN,&CACHDDUP)
   .MSG = CSHM011
 VER(&CACHST,NB)
 VER(&CACHSCNT,NB)
 VER(&CACHSPIN,NB)
 VER(&CACHSDV,NB)
 VER(&CACHDSTG,NB)
 VER(&CACHSRAT,NB)
 VER(&ATCACH,LIST,RED,GREEN,BLUE,WHITE,TURQ,PINK,YELLOW)
 VER(&ATCFW,LIST,RED,GREEN,BLUE,WHITE,TURQ,PINK,YELLOW)
 VER(&ATNVS,LIST,RED,GREEN,BLUE,WHITE,TURQ,PINK,YELLOW)
 VPUT (CACHST,CACHSCNT,CACHSPIN,CACHSDV,CACHDSTG,CACHDCNT) PROFILE
 VPUT (CACHDDUP,CACHVW,CACHLOG,CACHREF,ATCACH,ATCFW,ATNVS) PROFILE
 VPUT (CACHSRAT,CACHDPIN,CACHCNF,CACHDSUB,CACHXCP,CACHMB) PROFILE
)END
