)ATTR
 /*  (C) COPYRIGHT AMDAHL CORPORATION  1995. All Rights Reserved    */
 * TYPE(TEXT)   INTENS(HIGH) COLOR(YELLOW)
 ! TYPE(OUTPUT) INTENS(LOW) COLOR(YELLOW)
 # TYPE(INPUT)  INTENS(HIGH) COLOR(&ATCACH) CAPS(ON)
 @ TYPE(INPUT)  INTENS(HIGH) COLOR(&ATCFW) CAPS(ON)
 ¬ TYPE(INPUT)  INTENS(HIGH) COLOR(&ATNVS) CAPS(ON)
 $ TYPE(OUTPUT) INTENS(HIGH) COLOR(RED)
 ¢ TYPE(OUTPUT) INTENS(HIGH) COLOR(GREEN)
 ? TYPE(INPUT) PAD(_) CAPS(ON)
)BODY EXPAND(\\)
%\-\ AMDAHL CACHE UTILITY!VERS%  Save Batch JCL\-\
+
+ISPF Library:
+   PROJECT%===>_CACHPRO1+            Press%END KEY+ to exit without saving JCL
+   LIBRARY%===>_CACHLIB1+            Press%ENTER+   to save JCL in a dataset
+   TYPE   %===>_CACHTYP1+
+   MEMBER %===>_CACHMBR1+
+
+Other Partitioned or Sequential data set:
+   DATASET NAME %===>_CACHDSN
+
+
+
+
+IF MEMBER NAME SPECIFIED ALREADY EXISTS IN DATA SET IT WILL BE REPLACED
)INIT
  &A1 = ' '
  &A2 = ' '
  &A3 = ' '
  &ADSN = ' '
  VGET (CACHPRO1,CACHLIB1,CACHTYP1) PROFILE
)PROC
  &PRFX = &ZPREFIX
  &B2 = '.'
  IF (&CACHDSN = ' ')
    VER (&CACHPRO1,DSNAME)
    VER (&CACHLIB1,DSNAME)
    VER (&CACHTYP1,DSNAME)
    VER (&CACHMBR1,NAME)
    VPUT (CACHPRO1,CACHLIB1,CACHTYP1) PROFILE
    &ADSN = '&CACHPRO1..&CACHLIB1..&CACHTYP1'
 /* IF (&CACHMBR1 ¬= ' ')             */    USE THESE LINES TO ADD THE
 /*    &ADSN = '&ADSN(&CACHMBR1)'     */    MEMBER NAME TO THE DSN
  IF (&CACHDSN ¬= ' ')
      &A1 = TRUNC(&CACHDSN,1)
      IF (&A1 ¬= '''')
        &ADSN = &CACHDSN
        IF (&PRFX ¬= ' ')
            &ADSN = '&PRFX..&ADSN'
      &A2 = .TRAIL
      IF (&A1 = '''')
          &ADSN = TRUNC(&A2,'''')
      &A1 = TRUNC(&ADSN,'(')         /* REMOVE MEMBER NAME IF PRESENT */
      &A2 = .TRAIL
      &A3 = TRUNC(&A2,')')
      &ADSN = &A1
  VER (&ADSN,DSNAME,MSG=CSHM017)
  IF (&A3 = ' ')
      &CACHMBR = &CACHMBR1
  IF (&A3 ¬= ' ')
      &CACHMBR = &A3
)END
