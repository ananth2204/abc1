         MACRO
&NAME    TBSORT &TBNAM,&SRTLIST
.*DIALOG MANAGER MACRO -- DIALOG MANAGEMENT SERVICES (SC34-4021)
.*------------------------------------------------------------------
.* DIALOG MANAGER SERVICE: TBSORT        ADD A ROW TO TABLE
.*   FORMAT:   TBSORT     TABLENAME,SORTLIST
.*
.* (REQUIRED)  TABLENAME- NAME OF TABLE TO BE CREATED.
.* (REQUIRED)  SORTLIST - LIST OF SORT FIELDS (NAME, TYPE, ORDER)
.*                        EX (TBNAME,C,A)
.*--------------------------------------------------------------------
         LCLC  &SRTLBL
         LCLC  &BRANCH
         LCLC  &TBSRPRM
&SRTLBL SETC   'SORT'.'&SYSNDX'        VARIABLE NAME FOR BRANCH
&TBSRPRM SETC  'TBSRP'.'&SYSNDX'       VARIABLE NAME FOR PARMLIST
&BRANCH  SETC  'TBSR'.'&SYSNDX'        VARIABLE NAME FOR BRANCH
         AIF   ('&TBNAM' EQ '').ERR1
         AIF   ('&SRTLIST' EQ '').ERR2
&NAME    B     &BRANCH
&SRTLBL  DC    C'&SRTLIST'             LIST OF SORT FIELDS
         CNOP  0,4
&TBSRPRM DC    A(TBSORT)
         DC    A(&TBNAM)
         DC    A(&SRTLBL+X'80000000')
&BRANCH  EQU   *
         LA    R1,&TBSRPRM
         L     R15,SAVEISP
         BALR  R14,R15
         MEXIT
.ERR1    MNOTE 12,'TABLENAME IS REQUIRED -- TBSORT TBNAME,(SORTLST)'
         MEXIT
.ERR2    MNOTE 12,'SORTLIST IS REQUIRED -- TBSORT TBNAME,(SORTLST)'
         MEXIT
         MEND
