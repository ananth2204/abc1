)F REXX function - MODIFY/STOP operator command for REXX programs.

Current build: 006

Syntax

 RXOPCOMM must ce used as a function.

 r=RXOPCOMM('INIT')
   Setup control blocks
 r=RXOPCOMM('TERM')
   Release control blocks
 r=RXOPCOMM('GET'Ý,'wto-text'¨)
   Check for response, return response text.
   Max response length is 255.
   Optionally issue a WTO before check.
 r=RXOPCOMM('WTO','wto-text'Ý,H¨)
   Issue a WTO. Option H retains the text on the console.

Sample

 cc=RXOPCOMM('INIT')
 if cc<>0 then exit 20
 cc=RXOPCOMM('WTO','OPCOMM initialization complete')
 wtotext='Enter command'
 Do $main=1 to 999 until rs='STOP'
   rs=RXOPCOMM('GET',wtotext)
   Select
     when datatype(cc)='NUM' & cc<>0 then do
       say 'RXOPCOMM error rc' rs RXOPCOMM_REASON
       exit 8
     end
     when rs='' then do
       wtotext=''
       call syscalls 'ON'         /* wait  */
       address syscall 'sleep' 2  /* 2     */
       call syscalls 'OFF'        /* secs  */
     end
     when rs='something-else' then do
     end
     Otherwise cc=RXOPCOMM('WTO','OPCOMM invalid command:' rs)
   end
 end
 cc=RXOPCOMM('TERM')
 cc=RXOPCOMM('WTO','OPCOMM ended')

Members
 RXOPDOC  - this member
 RXOPCOMM - install program
 RXOPIVP* - installation verification / sample program
 RXOPMACS - assembler macros used in the program

Installation notes
 RXOPCOMM is fully reentrant so can and should be in the LPA.
 If not, it will reload itself once to remain in the LPA - you
 can disable this behaviour by changing the JPAQ option at the
 top of the source.
