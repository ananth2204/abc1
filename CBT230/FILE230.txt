1
-
-         SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRAD
          HARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE
          ARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE
          RE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE F
          E 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FA
           66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAI
          66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR
          6 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR
           SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR -
          SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR -
          ESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - S
          SSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SH
          SION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHA
          ION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHAR
          ON G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE
          N G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE
           G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 6
          G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66
          107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66
          07 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 S
          7 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SE
           - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SES
          - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESS
           ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSI
          ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSIO
          SPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION
          PF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION
          F: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G
          : TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G1
           TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G10
          TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107
          RADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107
          ADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 -
          DE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 -
          E FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - I
           FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - IS
          FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISP
          AIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF
          IR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF:
          R - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF:
           - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: T
          - SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TR
           SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRA
          SHARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRAD
          HARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE
          ARE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE
          RE 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE F
          E 66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FA
           66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAI
          66 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR
          6 SESSION G107 - ISPF: TRADE FAIR - SHARE 66 SESSION G107 - ISPF: TRADE FAIR
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 1
          JOE VEILLEUX (APC)
-         THIS DOCUMENT  HAS BEEN PREPARED  FOR DISTRIBUTION AT  SHARE 66 SESSION  G107 -
          ISPF TRADE FAIR.   THESE NOTES REFLECT MY PERSONAL EXPERIENCES WITH SOME OF THE
          MORE SUBTLE ASPECTS OF USING ISPF AND CODING ISPF DIALOGS.   THE INFORMATION IS
          NOT WARRANTED IN ANY WAY,  AND ALMOST CERTAINLY DOES NOT REPRESENT THE VIEWS OF
          AIR PRODUCTS  AND CHEMICALS OR ANY  OTHER GROUP OF SENTIENT,   RATIONAL BEINGS.
          YOUR ACTUAL MILEAGE MAY VARY, AND WILL BE LOWER IN CALIFORNIA.
0         IF YOU'VE EVER  BEEN TO AN ISPF  TRADE FAIR BEFORE,  YOU'VE  PROBABLY COME AWAY
          WITH SOME NEW IDEAS ABOUT SOME EXCITING THINGS YOU CAN DO WITH ISPF.  IF YOU'RE
          LIKE ME,  YOU START FURIOUSLY CODING CLISTS AND PANELS AS SOON AS YOU GET HOME.
          IF YOU'RE VERY MUCH LIKE ME, YOU WILL FORGET A VITAL DETAIL OF THE CONCEPT THAT
+                   ____
          WAS PRESENTED AT SHARE  (TOO MUCH BEER AT SCIDS)  AND WILL WASTE  A LOT OF TIME
          TRYING TO REMEMBER HOW TO GET THE THING TO WORK.   FOR THAT REASON,  I'VE TYPED
          UP THIS HANDOUT DESCRIBING SOME OF THE THINGS  I'VE DONE WITH ISPF.   I HOPE TO
          GET THIS STUFF ON THE CBT TAPE  SOMETIME SOON,  BUT (PLEASE!)   DON'T HOLD YOUR
          BREATH.
0         THE FIRST  IDEA ITEM  PRESENTED BELOW IS  ONE THAT HAS  BEEN PRESENTED  AT ISPF
          TRADE FAIRS BEFORE:   CUSTOMIZING THE ISPF COMMAND TABLE.   BEGINNING ON PAGE 2
          YOU WILL SEE NOTES AND PANEL LISTINGS SHOWING HOW TO DO THIS.
0         THE SECOND ITEM,  WHICH  BEGINS ON PAGE 6,  DEALS WITH THE USE  OF SMP TO APPLY
          LOCAL MODS  TO SPF.   DOING "QUICK-AND-DIRTY"  CHANGES TO SPF PANELS  AND OTHER
          COMPONENTS SEEMS EASY  (IT IS!),  BUT CAN  LEAD TO UNEXPECTED RESULTS  WHEN IBM
          RESHIPS A PANEL AS PART OF A PTF  (YES,  THEY DO OCCASIONALLY FIX THINGS).   BY
          USING SMP, YOU CAN AT LEAST MAKE SURE YOU KNOW WHEN THIS SITUATION HAS HAPPENED
          SO YOU CAN REAPPLY YOUR LOCAL CHANGES TO THE NEW PANEL.
0         THE THIRD ITEM DISCUSSES  ISPF TABLE SERVICES,  AND SHOWS A  SAMPLE OF A DIALOG
          THAT USES ISPF TABLE SERVICES.  IT IS AN ONLINE THINGS-TO-DO LIST WHICH YOU CAN
          USE TO ORGANIZE AND  PRIORITIZE EACH OF THE INDIVIDUAL DISASTERS  THAT YOU DEAL
          WITH.   IT IS DESCRIBED BEGINNING ON PAGE 8, WITH SOURCE CODE (PANEL,  MESSAGE,
          AND CLIST) LISTINGS BEGINNING ON PAGE 11.  I HAVE INCLUDED NOTES WHICH TELL YOU
          ABOUT SOME OF THE MORE SUBTLE ASPECTS OF TABLE HANDLING,  AS WELL AS SOME HINTS
          DISCUSSED AT PREVIOUS SHARE'S.
0         THIS HANDOUT WAS PREPARED BY:
0              JOE VEILLEUX
               MIS CENTRAL SOFTWARE SERVICES
               AIR PRODUCTS AND CHEMICALS
               PO BOX 538
               ALLENTOWN PA 18105
               (215) 481-4558
0              SHARE INSTALLATION CODE: APC
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 2
          JOE VEILLEUX (APC)
-         MODIFYING YOUR ISPF COMMAND TABLE
0         WERE YOU EVER WORKING ALONG IN EDIT,  USING BOTH SIDES OF THE SPF SPLIT SCREEN,
          AND GET A  TELEPHONE CALL?   IN DEALING WITH  THE PERSON ON THE  PHONE,  YOU OF
          COURSE WANT TO USE SPF TO LOOK AT  A FILE,  CREATE SOME JCL,  OR WHATEVER.   IF
          IT'S CONVENIENT,  YOU  CAN TERMINATE EDIT ON  ONE OF YOUR SCREENS  AND GO ABOUT
          YOUR BUSINESS.   BUT WHAT  IF IT'S NOT CONVENIENT?   YOU EITHER  CALL THEM BACK
          LATER,  OR  YOU RESAVE YOUR  DATASET SOMEWHERE ELSE.    DON'T YOU WISH  YOU HAD
          ANOTHER CHOICE?
0         NOW (AS OF ISPF VERSION 1),  ISPF  CONTAINS A WONDERFUL FACILITY CALLED COMMAND
+                                                                                 _______
          TABLES.   THESE ARE ISPF TABLES THAT LIST THE ISPF COMMANDS THAT CAN BE ENTERED
+         ______
          ON THE  TOP LINE  (COMMAND AREA)   OF ANY  ISPF PANEL.    THE COMMANDS  EXECUTE
          INDEPENDENTLY OF THE DIALOG  THAT WAS IN CONTROL WHEN THE  COMMAND WAS ENTERED.
          IN ISPF TERMS, THIS IS A "NESTED DIALOG".
0         YOU CAN SET UP YOUR OWN COMMAND  TABLES FOR YOUR APPLICATIONS,  AS DESCRIBED IN
          THE DIALOG  MANAGEMENT SERVICES  MANUAL.   WHAT  THAT MANUAL  DOESN'T TELL  YOU
          EXPLICITLY IS THAT SINCE  PDF ITSELF IS AN ISPF DIALOG  RUNNING UNDER ISPF,  IT
          HAS A  COMMAND TABLE THAT  YOU COULD MODIFY.   THE  APPLICATION ID FOR  ISPF IS
          "ISP", SO THE NAME OF THE PDF COMMAND TABLE IS ISPCMDS.   IT IS A MEMBER IN THE
          DISTRIBUTED ISPF TABLE LIBRARY, ISP.V*R*M*.ISPTLIB,  WHERE THE "*"S ARE NUMBERS
          CORRESPONDING TO THE ISPF RELEASE YOU'RE RUNNING (V2R1M0 IN MY CASE).
0         TO MODIFY A COMMAND TABLE,  USE THE COMMANDS OPTION (9)  FROM THE PDF UTILITIES
          (3) MENU.  YOU ENTER THE APPLICATION ID OF THE COMMAND TABLE YOU WANT TO MODIFY
          AND HIT ENTER.  PDF LISTS THE COMMAND TABLE AND LETS YOU MODIFY, DELETE, OR ADD
          COMMANDS.   WHEN YOU EXIT FROM THE COMMAND  LIST DISPLAY ISPF SAVES THE COMMAND
          TABLE IN YOUR TABLE OUTPUT LIBRARY (DDNAME ISPTABL).
0         SOUNDS SIMPLE?  IT IS, REALLY, BUT LIKE ANYTHING ELSE THERE IS ONE HITCH.   YOU
          CAN'T ENTER "ISP" ON THE 3.9 MENU IN  THE APPLICATION ID ENTRY FIELD.   THIS IS
          BECAUSE (AS THE  DIALOG MANAGEMENT SERVICES MANUAL WARNS)  YOU  CAN'T UPDATE AN
          ACTIVE APPLICATION'S COMMAND TABLE.  HOW DO YOU GET AROUND THIS?   SIMPLE: COPY
          ISPCMDS TO YOUR TABLE INPUT LIBRARY AS ANOTHER NAME (E.G.  MYCMDS).   THEN, GET
          INTO 3.9  AND ENTER  "MY" IN THE  APPLICATION ID FIELD.    HIT ENTER,   AND THE
          COMMANDS WILL BE DISPLAYED IN TABLE FORMAT (PAGE 4).
0         LIKE ANY OTHER TABLE DISPLAY PANEL, YOU SCROLL THIS USING PF7/PF8.  THE DISPLAY
          LETS YOU USE LINE COMMANDS (D, R, AND I).  ON SAMPLE SCREEN 2, I'VE SCROLLED TO
          THE BOTTOM  OF THE TABLE AND  TYPED "I3" TO  ADD THREE BLANK LINES.    SCREEN 3
          SHOWS THE  BLANK LINES.   ON  SCREEN 4 I'VE TYPED  IN THE COMMAND  NAMES "SPF",
          "APL",  AND "IOF" AND CORRESPONDING ACTIONS  IN THE APPROPRIATE FIELDS.   I HIT
          PF3 TO  EXIT THE  UTILITY AND RESAVE  MY CHANGES.    ISPF HAS  REWRITTEN MEMBER
          MYCMDS IN MY TABLE LIBRARY TO INCLUDE THE NEW COMMANDS.
0         TO TEST  YOUR IMPROVED  COMMAND TABLE,  GO  TO THE  DIALOG TEST  "INVOKE DIALOG
          FUNCTION/SELECTION  MENU" SCREEN  (PDF  OPTION 7.1).    ENTER  ISR@PRIM IN  THE
          "PANEL" FIELD, ENTER "Y" FOR "NEWAPPL", AND ENTER "MY" IN THE "ID" FIELD.   HIT
          ENTER AND YOU SHOULD  SEE A PDF PRIMARY OPTIONS MENU.    YOU ARE EXECUTING PDF,
          BUT YOU ARE UNDER  APPLICATION ID "MY",  SO THE COMMAND TABLE  THAT'S IN USE IS
          "MYCMDS", NOT ISPCMDS.
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 3
          JOE VEILLEUX (APC)
-         TO EXERCISE ONE  OF THE NEW COMMANDS,  ENTER  "APL" IN THE COMMAND  AREA OF ANY
          PANEL.   ASSUMING  YOU HAVE APL INSTALLED  ON YOUR SYSTEM,  YOUR  SCREEN SHOULD
          CLEAR AND YOU WILL ENTER APL.   WHEN YOU EXIT, YOU WILL BE RETURNED TO WHATEVER
          PANEL YOU WERE ON WHEN YOU ENTERED THE COMMAND.
0         THE SECOND COMMAND IN MY EXAMPLE,  "SPF",   IS USED TO NEST ANOTHER PDF PRIMARY
          OPTIONS MENU "IN FRONT" OF THE CURRENT  PANEL.   TYPE "SPF" IN THE COMMAND AREA
          OF ANY  PANEL.   WHEN YOU  DO,  YOUR PANEL  WILL BE  REPLACED BY A  PDF PRIMARY
          OPTIONS MENU.   YOUR PREVIOUS PANEL HAS BEEN  "STACKED" AND WILL STILL BE THERE
          WHEN YOU TERMINATE THE NEW PDF PRIMARY OPTIONS MENU.
0         IF YOU WANT TO USE YOUR IMPROVED COMMAND TABLE BY DEFAULT,  EXIT SPF AND RENAME
          MYCMDS TO  ISPCMDS IN YOUR  TABLE LIBRARY.   THEN,   WHEN YOU REENTER  PDF YOUR
          COMMAND TABLE WILL BE USED INSTEAD OF THE DISTRIBUTED ONE.  IF YOU WANT TO GIVE
          YOUR NEW COMMANDS OUT TO ALL ISPF USERS, COPY YOUR ISPCMDS MEMBER TO THE PUBLIC
          PANEL LIBRARY.    YOU SHOULD  PROBABLY USE SMP  TO DO THIS  SO THAT  FUTURE IBM
          MAINTENANCE DOESN'T REMOVE YOUR ADDITIONS WITHOUT  YOUR KNOWLEDGE (SEE PAGE 6).
          YOU WILL  THEN BE  ABLE TO  EXECUTE ANY OF  THE COMMANDS  BY SIMPLY  TYPING THE
          COMMAND NAME (ALONG WITH OPERANDS IF THAT'S APPROPRIATE) IN THE COMMAND AREA OF
          ANY SPF  PANEL.   YOUR  LOCATION WITHIN  SPF IS  "SUSPENDED" WHILE  THE COMMAND
          EXECUTES AND WILL BE RESTORED WHEN YOU EXIT.
0         YOU CAN GO ARBITRARILY DEEP WITHIN SETS  OF ISPF "NESTED DIALOGS" UNTIL YOU RUN
          OUT OF VIRTUAL STORAGE, WITH SOME RESTRICTIONS:
0           1. SOME OF THE  PDF UTILITIES ARE NOT  WRITTEN TO BE RE-ENTERABLE.    IN ISPF
               VERSION 1, THESE INCLUDE EDIT, BROWSE, 3.1, AND 3.2 (AND MAYBE OTHERS... I
               DON'T HAVE VERSION 1 ANYMORE).   IN VERSION  2.1.0 (WHICH I HAVE),  IT'S A
               PROBLEM WITH 3.1, 3.2, AND 3.4.  THIS MEANS THAT IF YOU'RE ON THE 3.2 MENU
               AND YOU ENTER  "SPF" TO NEST ANOTHER  PRIMARY MENU IN FRONT  OF YOUR FIRST
               ONE, YOU SHOULD AVOID THE 3.X MENU'S ON YOUR NEW SCREEN.   IF YOU RE-ENTER
               ONE OF THESE UTILITIES WHILE IT'S ALREADY ACTIVE ON ONE OF THE "SUSPENDED"
               SCREENS,   YOU WILL  GET AN  ISPF DIALOG  ERROR PANEL  INFORMING YOU  THAT
               "RECURSIVE USE OF A PDF FUNCTION IS  NOT ALLOWED".   SHARE HAS SUBMITTED A
               REQUIREMENT TO IBM TO FIX THIS,  BUT SO  FAR THEY HAVE ONLY FIXED EDIT AND
               BROWSE (IN ISPF  VERSION 2).   IF YOU GET THE  "RECURSIVE USE..." MESSAGE,
               HIT ENTER TO GET BACK TO YOUR ORIGINAL PDF PRIMARY OPTIONS MENU.  ALL YOUR
               "SUSPENDED" MENU'S WILL BE GONE,  BUT THAT'S  NOT USUALLY A BIG PROBLEM IF
+                                                                                      __
               YOU HAD EDIT RECOVERY  TURNED ON.   IF YOU DIDN'T,  THEN  YOU GOT WHAT YOU
+              ___ ___ ____ ________  ______ __
               DESERVED (ALL YOUR EDIT CHANGES ARE GONE).
0           2. CERTAIN TYPES OF PROGRAM ABENDS CAN ALSO CAUSE THE SUSPENDED SCREENS TO BE
               LOST... BE SURE TO USE EDIT RECOVERY TO BE SAFE.
0           3. IF YOU ARE EDITING A DATASET ON ONE LOGICAL SCREEN, WHETHER VISIBLE (SPLIT
               SCREEN MODE) OR NOT ("SUSPENDED"),  YOU WILL NOT BE ABLE TO EDIT THAT SAME
               DATASET ON ANY  OTHER SCREEN.   THAT'S THE  WAY THE EDITOR IS  SUPPOSED TO
               WORK.
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 4
          JOE VEILLEUX (APC)
-         MODIFYING ISPF COMMAND TABLES SAMPLE SCREEN 1:
+         _________ ____ _______ ______ ______ ______ _
0          COMMAND TABLE - MYCMDS -------------------------------------------- ROW 1 OF 30
           COMMAND ===> _                                                SCROLL ===> PAGE
0          INSERT, DELETE, AND CHANGE COMMAND ENTRIES.  UNDERSCORES NEED NOT BE BLANKED.
           ENTER END COMMAND TO SAVE CHANGES OR CANCEL TO END WITHOUT SAVING.
-               VERB      T  ACTION
                                DESCRIPTION
0          '''' UP        0  SETVERB
                                SCROLL UP
           '''' DOWN      0  SETVERB
                                SCROLL DOWN
           '''' LEFT      0  SETVERB
                                SCROLL LEFT
           '''' RIGHT     0  SETVERB
                                SCROLL RIGHT
           '''' RFIND     0  SETVERB
                                REPEAT FIND
           '''' RCHANGE   0  SETVERB
                                REPEAT CHANGE
           '''' END       0  SETVERB
                                END
           '''' RETURN    0  SETVERB
                                RETURN
-         MODIFYING ISPF COMMAND TABLES SAMPLE SCREEN 2:
+         _________ ____ _______ ______ ______ ______ _
0          COMMAND TABLE - MYCMDS ------------------------------------------- ROW 19 OF 21
           COMMAND ===>                                                  SCROLL ===> PAGE
0          INSERT, DELETE, AND CHANGE COMMAND ENTRIES.  UNDERSCORES NEED NOT BE BLANKED.
           ENTER END COMMAND TO SAVE CHANGES OR CANCEL TO END WITHOUT SAVING.
-               VERB      T  ACTION
                                DESCRIPTION
0          '''' PRINTLHI  0  PRINTLHI
                                PRINT LOGICAL SCREEN IMAGE (HIGH INTENSITY OVERSTRIKE)
           I3'' PRINTL    0  PRINTL
                                PRINT LOGICAL SCREEN IMAGE
           ****************************** BOTTOM OF DATA *********************************
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 5
          JOE VEILLEUX (APC)
-         MODIFYING ISPF COMMAND TABLES SAMPLE SCREEN 3:
+         _________ ____ _______ ______ ______ ______ _
0          COMMAND TABLE - MYCMDS ------------------------------------------- ROW 19 OF 22
           COMMAND ===>                                                  SCROLL ===> PAGE
0          INSERT, DELETE, AND CHANGE COMMAND ENTRIES.  UNDERSCORES NEED NOT BE BLANKED.
           ENTER END COMMAND TO SAVE CHANGES OR CANCEL TO END WITHOUT SAVING.
-               VERB      T  ACTION
                                DESCRIPTION
0          '''' PRINTLHI  0  PRINTLHI
                                PRINT LOGICAL SCREEN IMAGE (HIGH INTENSITY OVERSTRIKE)
           '''' PRINTL    0  PRINTL
                                PRINT LOGICAL SCREEN IMAGE
           '''' ________  _  __________________
                                _________________________________________________________
           '''' ________  _  __________________
                                _________________________________________________________
           '''' ________  _  __________________
                                _________________________________________________________
           ****************************** BOTTOM OF DATA *********************************
-         MODIFYING ISPF COMMAND TABLES SAMPLE SCREEN 4:
+         _________ ____ _______ ______ ______ ______ _
0          COMMAND TABLE - MYCMDS ------------------------------------------- ROW 21 OF 23
           COMMAND ===>                                                  SCROLL ===> PAGE
0          INSERT, DELETE, AND CHANGE COMMAND ENTRIES.  UNDERSCORES NEED NOT BE BLANKED.
           ENTER END COMMAND TO SAVE CHANGES OR CANCEL TO END WITHOUT SAVING.
-               VERB      T  ACTION
                                DESCRIPTION
0          '''' PRINTLHI  0  PRINTLHI
                                PRINT LOGICAL SCREEN IMAGE (HIGH INTENSITY OVERSTRIKE)
           '''' PRINTL    0  PRINTL
                                PRINT LOGICAL SCREEN IMAGE
           '''' SPF_____  0  SELECT PANEL(ISR@PRIM) OPT(&ZPARM) NEWAPPL(ISR)
                                REDISPLAY NESTED PDF PRIMARY OPTIONS MENU________________
           '''' APL_____  0  SELECT CMD(%APL)
                                INVOKE VS/APL FROM ANY PANEL_____________________________
           '''' IOF_____  0  SELECT PGM(IOFSPF) PARM(I&ZPARM) NEWAPPL(IOF)
                                INVOKE IOF FROM ANY PANEL________________________________
           ****************************** BOTTOM OF DATA *********************************
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 6
          JOE VEILLEUX (APC)
-         USING SMP TO HANDLE MODS TO SPF
+         _____ ___ __ ______ ____ __ ___
0         THE QUICK-AND-DIRTY WAY TO CUSTOMIZE SPF PANELS FOR YOUR SHOP IS TO SIMPLY PULL
          THEM INTO EDIT, MAKE YOUR CHANGES, AND RESAVE INTO THE PRODUCTION LIBRARY.   IF
          YOU'RE A  LITTLE BIT  CAREFUL,  YOU MIGHT  STAGE THEM IN  A TEST  LIBRARY FIRST
          BEFORE COPING THEM TO PRODUCTION,  OR YOU MIGHT HAVE OTHER USERS CHECK THEM OUT
          TO MAKE SURE THEY WORK.  IN ANY EVENT, THEY EVENTUALLY REPLACE THE IBM-SUPPLIED
          VERSIONS IN YOUR PRODUCTION LIBRARIES.
0         THIS  WORKS FINE  UNTIL IBM  DECIDES THAT  THE PANEL  (OR MESSAGE  OR CLIST  OR
          SKELETON, ETC.)  HAS AN ERROR THAT NEEDS TO BE FIXED.   PTF'S TO SPF COMPONENTS
          (PANELS, MESSAGE MEMBERS,  ETC.)  NEARLY ALWAYS TAKE THE FORM OF A COMPLETE RE-
          SHIP OF THE MEMBER.   IF YOU INDISCRIMINATELY  APPLY THE IBM MAINTENANCE (OR IF
          YOU'RE NOT THE PERSON WHO DOES THE  IBM MAINTENANCE),  THE NEW IBM VERSION WILL
          QUIETLY  REPLACE YOUR  MODIFIED ONE.    SMP WILL  NOT  WARN YOU  THAT THIS  HAS
          HAPPENED SINCE IT DIDN'T KNOW ABOUT YOUR MOD IN THE FIRST PLACE.
0         THE SOLUTION IS TO USE SMP TO  APPLY THE MODIFICATION TO THE PRODUCTION SYSTEM.
          AFTER HAVING MY MODS ACCIDENTALLY REMOVED A FEW TIMES,  I DECIDED IT WAS BETTER
          TO GET OVER MY SMP-PHOBIA AND FIGURE OUT  HOW TO STOP THIS FROM HAPPENING.   TO
          ME,  SMP IS A 4-LETTER WORD SO I DIDN'T UNDERTAKE THE TASK LIGHTLY.   WITH HELP
          FROM  OUR  RESIDENT  SMP  EXPERT,   WE  NOW  USE  SMP  TO  APPLY  ALL  OUR  SPF
          CUSTOMIZATIONS.
0         IN FOLLOWING TEXT, I WILL OUTLINE THE STEPS THAT I USE IN MODIFYING SPF PANELS.
          THE DISCUSSION  IS JUST  AS APPLICABLE  TO ANY  OTHER SPF  COMPONENT (MESSAGES,
          SKELETONS, TABLES, PROGRAMS, CLISTS).
0         WHEN I WANT TO MODIFY AN SPF PANEL,  I  EDIT THE MEMBER AND SAVE IT INTO A TEST
          LIBRARY.  I THEN USE A CLIST TO REALLOCATE MY ISPPLIB DDNAME TO CONCATENATE THE
          TEST LIBRARY AHEAD OF OUR PRODUCTION LIBRARY.   IF THE CHANGE CHECKS OUT OK,  I
          COPY THE CHANGED PANEL TO A LIBRARY NAMED "ISR.MODV2.ISRPLIB".  I THEN CODE AND
          RUN THE FOLLOWING SMP JOB:
0           //A0989LM  JOB (1,0000,SYSTEM,30,13-3399),'LMRECAPP-VEILLEUX',
            //  REGION=4096K,MSGCLASS=A,MSGLEVEL=(1,1),NOTIFY=A0989
            /*JOBPARM TIME=15,LINES=10
            /*ROUTE PRINT FETCH
            //*
            //* LOCAL MOD FOR SPF PANEL ISR@PRIM (LM00103)
            //LM       EXEC SMP
            //SMPPTFIN DD *
            ++USERMOD (LM00103).
            ++VER (Z038) FMID(HDV2102).
            ++MAC (ISR@PRIM) TXLIB(APRPLIB) .
            //SMPCNTL   DD *
              RECEIVE .
              APPLY   S( LM00103 ) DIS(WRITE) .
            //ISRPLIB   DD DSN=ISR.V2R1M0.ISRPLIB,DISP=OLD  <== DISTRIBUTED PANELS
            //APRPLIB   DD DSN=ISR.MODV2.ISRPLIB,DISP=SHR   <== MODIFIED PANELS
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 7
          JOE VEILLEUX (APC)
-         WHEN THIS JOB IS FINISHED,  MY MODIFIED PANEL HAS BEEN COPIED TO THE PDF TARGET
          LIBRARY.   SMP NOW KNOWS THAT THERE IS  A USER MODIFICATION (LM00103)  ON PANEL
          ISR@PRIM,  SO IF IBM WERE TO DISTRIBUTE A NEW  ONE (AS PART OF A NEW RELEASE OR
          FOR A PTF),  I WOULD  FIND OUT DURING THE SMP APPLY THAT MY  LOCAL MOD HAD BEEN
          REGRESSED.  THAT IS THE KEY FOR ME TO GO  AND REAPPLY MY CHANGE TO THE NEW IBM-
          SUPPLIED PANEL AND REAPPLY MY LOCAL MOD.
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 8
          JOE VEILLEUX (APC)
-         AT SHARE 65,  THERE  WAS A VERY POPULAR SESSION ON THE USE  OF ISPF TABLES.   A
          VERY LIVELY QUESTION-AND-ANSWER PERIOD FOLLOWED,   AT WHICH TIME SEVERAL ISSUES
          NOT MENTIONED  IN THE  IBM PRESENTATION WERE  BROUGHT UP.    SOME OF  THESE ARE
          LISTED BELOW,  ALONG  WITH OTHER HINTS ABOUT USING  TABLE SERVICES.   FOLLOWING
          THESE NOTES ARE  THE SOURCE LISTINGS OF  A SIMPLE ISPF DIALOG  WHICH USES TABLE
          SERVICES TO MAINTAIN AN ONLINE THINGS-TO-DO LIST.   FEEL FREE TO PIRATE, ALTER,
          CRITICIZE, OR OTHERWISE PLUNDER THIS APPLICATION, BUT DO SO AT YOUR OWN RISK.
0         TABLE HANDLING NOTES:
0           1.  YOU  CAN GET  YOURSELF  INTO  A LOT  OF  TROUBLE  IF YOU  DON'T  APPROACH
                TBOPEN/TBCLOSE IN A  RESPONSIBLE WAY.   ISPF TABLES  RESIDE COMPLETELY IN
                STORAGE WHILE THEY ARE OPEN,  SO TBOPEN  READS THE WHOLE TABLE FROM DISK,
                AND TBCLOSE WRITES  THE WHOLE TABLE OUT.    IT'S A GOOD IDEA  TO OPEN THE
                TABLE ONCE AT THE BEGINNING OF YOUR  APPLICATION AND CLOSE IT ONLY AT THE
                VERY END.  NOTE THAT THIS IS NOT THE WAY THE SAMPLE IN THE IBM HANDOUT AT
                SHARE 65 WAS CODED...  MAYBE THAT'S WHAT WE GET WHEN WE HAVE THE HARDWARE
                VENDOR DOING SOFTWARE PRESENTATIONS.
0           2.  IF YOU HAVE VERY RESOURCE-CONSUMPTIVE TASKS TO DO ON TABLES (LIKE SORTING
                LARGE TABLES OR  RESYNCHRONIZING THE TABLE FROM A  SEQUENTIAL FILE),  YOU
                CAN RUN SPF  IN BATCH.   YOU MUST  HAVE THE TSO COMMAND  PACKAGE OR TSO/E
                (VERSION 1 OR 2) AND ISPF VERSION 1 OR 2 TO DO THIS.   DO NOT TRY WRITING
+                                                                      __ ___
                BATCH PROGRAMS  THAT READ ISPF TABLES  DIRECTLY (THAT IS,   WITHOUT USING
                ISPF  SERVICES),  BECAUSE  IBM HAS  STATED PREVIOUSLY  THAT THE  INTERNAL
                FORMAT OF TABLES ON DISK IS SUBJECT TO CHANGE.
0           3.  USE ISPEXEC CONTROL DISPLAY SAVE/CONTROL  DISPLAY RESTORE AS DESCRIBED IN
                THE DIALOG MANAGEMENT SERVICES MANUAL.  IF YOU DON'T, THE BEST THING THAT
                WILL HAPPEN IS THAT PENDING SELECTED  TABLE LINES WILL NOT BE SELECTED...
                THE WORST THING  IS THAT YOU COULD GET  AN ABEND OR YOUR  TABLE COULD GET
                MYSTERIOUSLY GARBLED.
0           4.  THERE IS  A BUG IN  ISPF 2.1.0 THAT SOMETIMES  CAUSES TABLES THAT  ARE IN
                SORTED  ORDER  (TBSORT  USED,   AND  ORDER  KEYWORD  USED  ON  SUBSEQUENT
                TBADD/TBMOD REQUESTS) GETS OUT OF SORTED ORDER.  PEOPLE TELL ME THAT IT'S
                FIXED IN 2.2.0, BUT I'M NOT THERE YET.   I HAVEN'T BEEN ABLE TO REPRODUCE
                THE EXACT SEQUENCE OF EVENTS THAT CAUSE THE PROBLEM, EITHER.
0           5.  THE SORT  USED BY  TBSORT IS NOT  A "STABLE"  SORT.   IN  DATA STRUCTURES
                TERMINOLOGY, A STABLE SORT IS ONE WHERE TWO ROWS THAT HAVE IDENTICAL SORT
                VALUES WILL  END UP AFTER  THE SORT IN  THE SAME  ORDER THEY WERE  IN THE
                ORIGINAL.   UNDER THE TASKLIST APPLICATION,  YOU MIGHT NOTICE THAT IF YOU
                TYPE SORT REPEATEDLY, ITEMS THAT ARE EQUAL IN THE VALUES OF THE VARIABLES
                YOU ARE USING FOR  THE SORT WILL "FLIP" IN ORDER  EACH TIME.   THIS ISN'T
                REALLY AN  ERROR,  BUT IT  CAN BE CONFUSING  IF YOU DON'T  REALIZE WHAT'S
                GOING ON (IT CONFUSED ME).
0           6.  FUNNY THINGS HAPPEN TO THE CRP (CURRENT ROW POINTER)  WHEN YOU ARE TRYING
                TO  SCAN SEQUENTIALLY  THROUGH A  TABLE THAT  IS IN  SORTED ORDER.    FOR
                EXAMPLE,  SUPPOSE  YOUR TABLE  HAS 5  ROWS THAT  ARE IN  SORTED ORDER  BY
                VARIABLE K.   THE  VALUES OF K IN THE 5  ROWS ARE 1,  2,  2,   4,  AND 5.
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                          PAGE 9
          JOE VEILLEUX (APC)
-               SUPPOSE YOU WOULD LIKE TO SCAN THROUGH THE TABLE AND SET ANOTHER VARIABLE
                (CALL IT "V") TO A NULL VALUE IN EACH ROW.   YOU'D LIKE TO KEEP THE TABLE
                IN SORTED ORDER WHILE YOU DO THIS TO  AVOID THE EXPENSE OF HAVING TO SORT
                IT AGAIN,  SO YOU  USE THE ORDER KEYWORD ON YOUR  TBPUT STATEMENTS,  LIKE
                EITHER OF THE FOLLOWING:
0                 /* CASE 1: TOP-DOWN */             /* CASE 2: BOTTOM-UP */
                  PROC 0                             PROC 0
                  ISPEXEC TBOPEN T                   ISPEXEC TBOPEN T
                  ISPEXEC TBTOP T                    ISPEXEC TBBOTTOM T
                  ISPEXEC TBSKIP T                   DO WHILE &LASTCC EQ 0
                  DO WHILE &LASTCC EQ 0                SET V =
                    SET V =                            ISPEXEC TBPUT T ORDER
                    ISPEXEC TBPUT T ORDER              ISPEXEC TBSKIP T NUMBER(-1)
                    ISPEXEC TBSKIP T                   END
                    END
0               IN CASE 1,   YOU EXPECT THE CLIST TO  START AT THE FIRST LINE,   SET V TO
                NULL, AND GO ON TO THE NEXT ROW UNTIL THE BOTTOM OF THE TABLE IS REACHED.
                IN CASE  2,  YOU  EXPECT THE SAME  END RESULT TO  BE ACHIEVED  IN REVERSE
                ORDER.   EITHER  OF THESE  WILL WORK FINE  IF ALL  YOUR ROWS  HAVE UNIQUE
                VALUES FOR THE SORT VARIABLE;  HOWEVER,  IN  OUR CASE THE 2ND AND 3RD ROW
                ARE "TIED" IN TERMS OF THEIR SORT ORDER.
0               THE RESULT IS THAT IN  CASE 1,  ROW 3 GETS SKIPPED (V WILL  NOT BE SET TO
                NULL),  AND IN  CASE 2 WE GET AN  INFINITE LOOP.   BOTH OF  THESE ARE NOT
                REALLY BUGS...  ISPF REACHES A POINT WHERE  IT'S AMBIGUOUS AS TO WHERE IT
                SHOULD REINSERT AN UPDATED ROW.   AS  DOCUMENTED IN THE DIALOG MANAGEMENT
                SERVICES MANUAL,  THE  UPDATED ROW IS PUT  AFTER ALL OTHER ROWS  WITH THE
                COMMON VALUE  OF THE  SORT VARIABLE.   THUS,   IN CASE 1  ROW 2  WILL GET
                REINSERTED  AFTER ROW  3,   AND THE  TBSKIP  WILL POSITION  US  AT ROW  4
                (SKIPPING ROW 3).   IN CASE 1,  ROW 2  GETS PLACED AFTER ROW 3,  THEN THE
                TBSKIP MOVES US UP TO ROW 2,  WHICH  GETS REINSERTED AFTER ROW 3,  SO THE
                TBSKIP MOVES US UP TO ROW 2, .... (YOU GET THE IDEA).
0               THE ONLY  SOLUTION I  HAVE FOUND FOR  THIS PROBLEM IS  TO OMIT  THE ORDER
                KEYWORD INSIDE THE LOOP, AND TO USE TBSORT TO SORT THE ROWS AFTER I'M ALL
                DONE.
0           7.  IF YOU  ARE STILL  RUNNING ISPF VERSION  1,  YOU ARE  MISSING OUT  ON TWO
                IMPORTANT FEATURES:  (1)  YOU DON'T HAVE TBSORT AND THE ORDER OPERANDS ON
                TBMOD,  TBADD,   ETC.,  AND (2)  YOU  CAN'T DISPLAY AN EMPTY  TABLE USING
                TBDISPL.   UNTIL  YOU'VE ACTUALLY CODED  SOME TABLE-HANDLING  PROGRAMS IT
                DOESN'T SEEM LIKE (2)  IS A BIG DEAL,  BUT YOU HAVE TO WRITE A SURPRISING
                AMOUNT OF CODE TO HANDLE AND EMPTY TABLE AS A SPECIAL CASE.
0           8.  IF YOU USE THE  DIALOG TEST FACILITY OF PDF (OPTION 7),   THERE ARE A FEW
                NUANCES THAT  CAN BE  QUITE CONFUSING.    FOR EXAMPLE,   SUPPOSE YOU  ARE
                TESTING A DIALOG AND YOU'VE SET A BREAKPOINT AT TBPUT.  WHEN YOUR PROGRAM
                GETS TO  THE TBPUT,  IT  WILL PAUSE AND  GIVE YOU THE  BREAKPOINT PRIMARY
                OPTION MENU.   IF YOU USE OPTION 4 ("TABLES")  TO CHECK OUT THE STATUS OR
                VALUES IN A  TABLE,  YOU NEED TO BE  CAREFUL NOT TO MESS  UP YOUR DIALOG.
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 10
          JOE VEILLEUX (APC)
-               THE  TABLES PANEL  USES ISPF  SERVICES  TO PERFORM  ITS FUNCTIONS.    ONE
+                                  ____ ____  ________  __ _______  ___ _________
                POSSIBLE UNDESIRABLE  SIDE EFFECT  IS IF  YOU OVERTYPE  THE "ROW  NUMBER"
                FIELD TO DISPLAY OR MODIFY A ROW OTHER THAN THE ONE THAT WAS THE "CURRENT
                ROW".    PDF USES  ISPF  TABLE  SERVICES TO  RETRIEVE  THE  ROW YOU  HAVE
                REQUESTED,  WHICH  MIGHT RESULT  IN THE CURRENT  ROW POINTER  OR VARIABLE
                VALUES BEING UPDATED IN WAYS YOU MIGHT NOT EXPECT.
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 11
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKNDSN PANEL
+         ________ ______ ______  ________ _____
0          )ATTR
             @ TYPE(INPUT) INTENS(LOW) CAPS(OFF)
             # TYPE(INPUT) INTENS(LOW) CAPS(ON)
             + TYPE(TEXT) INTENS(LOW) SKIP(ON)
           )BODY EXPAND(//)
           %-/-/- ONLINE TASKS-LIST -/-/-
           %COMMAND ===>_ZCMD                                                             +
           %
           +SPECIFY DATASET NAME OF YOUR NOTEBOOK DATASET BELOW. IF THIS DATASET
            DOES NOT EXIST, IT WILL BE CREATED FOR YOU.
           %
             %===>#TASKNDSN                                 +
           %
           +HIT%ENTER+TO PROCEED WITH EDITING THE NOTEBOOK
           +HIT%&EPF+TO CANCEL THIS OPERATION AND RETURN TO TASKS-LIST PANEL
           )INIT
             /******************************************************************/
             /* PANELID: TASKNDSN                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 08MAR85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /* PURPOSE: ALLOW USER TO ENTER DSNAME OF NOTEBOOK DATASET        */
             /******************************************************************/
             &HPF = PFK(HELP)
             IF (&HPF = &Z)
               &HPF = 'HELP'
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
             &ZCMD = &Z
             &TASKNDSN = NOTEBOOK
           )PROC
             VER (&TASKNDSN,NB,DSNAME)
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 12
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTBD PANEL
+         ________ ______ ______  _______ _____
0          )ATTR
             # TYPE(INPUT) INTENS(LOW) CAPS(ON)
             @ TYPE(OUTPUT) INTENS(LOW) SKIP(ON)
             + TYPE(TEXT) INTENS(LOW) SKIP(ON)
           )BODY EXPAND(//)
           %-/-/- ONLINE TASKS-LIST UPDATE PANEL -/-/-
           %COMMAND ===>_ZCMD                                            %SCROLL ===>_AMT +
           %
           +CURRENT SORT ORDER: &TASKSRTF
           +DATASET NAME OF NOTEBOOK: &TASKNDSN
           +
           %               TARGET  EST
           %ACT CATEGORY P DATE    HOUR STAT TASK DESCRIPTION
           %--- -------- - ------- ---- ---- ----------------------------------------------
           )MODEL CLEAR(A)
           #A  @CATEGORY@Z@Z      @Z   @Z   @TASK
           +--- -------- - ------- ---- ---- ----------------------------------------------
           )INIT
             /******************************************************************/
             /* PANELID: TASKTBD                                               */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /*          28FEB85-JJV-1.01-CORRECT TO ALLOW SAVE COMMAND        */
             /*          08MAR85-JJV-1.02-IMPLEMENT NOTEBOOK FACILITY          */
             /* PURPOSE: THIS PANEL DISPLAYS A USER'S TASKS LIST FOR UPDATE    */
             /******************************************************************/
             .ZVARS = '(PRIORITY TARGDATE HOURS STATUS)'
             .HELP = TASKTCON
             &ZHTOP = TASKTCON
             &AMT  = PAGE
             &ZTDMARK = '=============================== BOTTOM OF TABLE +
                         ==============================='
             /* FORMAT CURRENT DATE AND SAVE IN SHARED POOL (FOR PRINTING) */
             &CURMMM = TRANS(&ZMONTH
               01,JANUARY 02,FEBRUARY 03,MARCH 04,APRIL 05,MAY 06,JUNE
               07,JULY 08,AUGUST 09,SEPTEMBER 10,OCTOBER 11,NOVEMBER 12,DECEMBER)
             &CURDATE = '&ZDAY &CURMMM 19&ZYEAR'
             VPUT (CURDATE) SHARED
           )REINIT
             IF (.MSG ¬= &Z)
               .ATTR(.CURSOR) = 'COLOR(RED)'
               .AUTOSEL = YES
               .CSRROW = &CRP
           )PROC
             &CMD = TRANS( TRUNC (&ZCMD,' ')
                      I,INPUT INP,INPUT CAN,CANCEL NB,NOTEBOOK NOTE,NOTEBOOK *,*)
             VER (&CMD,LIST,INPUT,CANCEL,NOTEBOOK,PRT,SORT,SAVE,MSG=TASK003E)
             IF (&CMD = 'SORT')
               &ZTRAIL = .TRAIL
               &SF1 = TRANS(TRUNC(&ZTRAIL,' ') CAT,CATEGORY PRIO,PRIORITY
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 13
          JOE VEILLEUX (APC)
-                       HOUR,HOURS STAT,STATUS *,*)
               VER (&SF1,LIST,CATEGORY,PRIORITY,DATE,HOURS,STATUS MSG=TASK003S)
               &ZTRAIL = .TRAIL
               &SF2 = TRANS(TRUNC(&ZTRAIL,' ') CAT,CATEGORY PRIO,PRIORITY
                        HOUR,HOURS STAT,STATUS *,*)
               VER (&SF2,LIST,CATEGORY,PRIORITY,DATE,HOURS,STATUS MSG=TASK003S)
               &ZTRAIL = .TRAIL
               &SF3 = TRANS(TRUNC(&ZTRAIL,' ') CAT,CATEGORY PRIO,PRIORITY
                        HOUR,HOURS STAT,STATUS *,*)
               VER (&SF3,LIST,CATEGORY,PRIORITY,DATE,HOURS,STATUS MSG=TASK003S)
               &ZTRAIL = .TRAIL
               &SF4 = TRANS(TRUNC(&ZTRAIL,' ') CAT,CATEGORY PRIO,PRIORITY
                        HOUR,HOURS STAT,STATUS *,*)
               VER (&SF4,LIST,CATEGORY,PRIORITY,DATE,HOURS,STATUS MSG=TASK003S)
               &ZTRAIL = .TRAIL
               &SF5 = TRANS(TRUNC(&ZTRAIL,' ') CAT,CATEGORY PRIO,PRIORITY
                        HOUR,HOURS STAT,STATUS *,*)
               VER (&SF5,LIST,CATEGORY,PRIORITY,DATE,HOURS,STATUS MSG=TASK003S)
               &ZTRAIL = .TRAIL
             IF (&CMD = 'INPUT')
               &INPN = .TRAIL
               IF (&INPN = &Z)
                 &INPN = 1
               VER (&INPN,NB,NUM)
             IF (&CMD = 'PRT')
               &PRTDEST = .TRAIL
               IF (&PRTDEST ¬= &Z)
                 &D = TRUNC(&PRTDEST,1)
                 VER (&D,LIST,U,R,MSG=TASK003D)
                 &D = .TRAIL
                 VER (&D,NB,NUM,MSG=TASK003D)
             IF (&CMD = 'NOTEBOOK')
               &NBDSN = .TRAIL
               VER (&NBDSN,DSNAME)
             IF (&ZTDSELS ¬= 0000)
               &ACT = TRUNC(&A,1)
               VER (&ACT,LIST,R,D,U,N,MSG=TASK003L)
               &N = .TRAIL
               IF (&N = &Z)
                 &N = 1
               VER (&N,NB,NUM)
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 14
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTCON PANEL
+         ________ ______ ______  ________ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %
           +USING THE%ONLINE TASKS-LIST+PROGRAM, YOU CAN MAINTAIN AN ONLINE LIST OF TASKS.
            YOU CAN SORT THE LIST IN VARIOUS WAYS, AND YOU CAN GET A HARDCOPY OF THE LIST.
0           THE SECTIONS LISTED BELOW WILL BE PRESENTED IN SEQUENCE (HIT%ENTER+TO GO ON TO
            THE NEXT SCREEN) OR YOU MAY SELECT A PARTICULAR SUBJECT BY NUMBER:
0          %  1+- GENERAL INFORMATION ABOUT THE ONLINE TASKS-LIST PROGRAM
           %  2+- ADDING, DELETING, UPDATING TASKS ON YOUR TASKS-LIST
           %  3+- PRINTING YOUR TASKS-LIST: THE PRT COMMAND
           %  4+- ADDING AND UPDATING "NOTEBOOK" ENTRIES: NOTEBOOK AND "N" COMMANDS
           %  5+- SAVING THE TASKS-LIST AND EXITING:  END, CANCEL, AND SAVE COMMANDS
0          +ENTER%&EPF+TO EXIT THE TUTORIAL AND RETURN TO THE TASKS LIST
           +HIT%ENTER+TO GO ON TO THE NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTCON                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /*          14MAR85-JJV-1.01-ADDED NOTEBOOK TUTORIAL REFERENCE    */
             /* PURPOSE: TABLE OF CONTENTS FOR TASKS-LIST UTILITY TUTORIAL     */
             /******************************************************************/
             &ZSEL = TRANS(&ZCMD
                           1,TASKTGNR
                           2,TASKTUPD
                           3,TASKTPRT
                           4,TASKTNB
                           5,TASKTEND
                           )
             &ZTRAIL = .TRAIL
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 15
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTEND PANEL
+         ________ ______ ______  ________ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %+
           %SAVING YOUR TASKS LIST AND EXITING THE UTILITY+
0           TO EXIT THE TASKS LIST AND RESAVE YOUR CHANGES, ENTER THE%END+COMMAND IN THE
            COMMAND AREA AT THE TOP OF THE SCREEN. &EPFN
-          +TO SAVE A COPY OF YOUR TASKS LIST AND CONTINUE THE TASK LIST UPDATE PROCESS,
            ENTER THE%SAVE+COMMAND IN THE COMMAND AREA AT THE TOP OF THE SCREEN.
0           TO EXIT THE TASKS LIST WITHOUT RESAVING ANY CHANGES FROM THIS SESSION, ENTER
            THE%CANCEL+COMMAND IN THE COMMAND AREA AT THE TOP OF THE SCREEN.
-          +ENTER%&EPF+TO EXIT TUTORIAL AND RETURN TO TASKS LIST
           +HIT%ENTER+TO CONTINUE ON NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
             IF (&EPF ¬= 'END')
               &EPFN = '(YOU CAN USE THE &EPF KEY INSTEAD OF      +
                        ACTUALLY KEYING THE END COMMAND)'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTEND                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /*          14MAR85-JJV-1.01-REMOVE ERRONEOUS ZCONT               */
             /* PURPOSE: ONLINE TASKS-LIST TUTORIAL: UPDATING THE TASKS LIST   */
             /******************************************************************/
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 16
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTGNR PANEL
+         ________ ______ ______  ________ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %
           %GENERAL INFORMATION+
0           THE ONLINE TASKS-LIST UTILITY IS USED TO MAINTAIN AN ONLINE TASKS LIST.
0          %PRIMARY+COMMANDS: (ENTERED IN THE COMMAND ===> AREA AT THE TOP OF THE DISPLAY)
             %INPUT +- ADD A NEW TASK TO THE LIST
             %SORT  +- SORT THE TABLE BY ONE OR MORE OF THE FIELDS
             %PRT   +- PRINT THE TASKS LIST
             %NOTEBOOK+- EDIT NOTEBOOK ENTRIES FOR TASK CATEGORIES
             %SAVE  +- SAVE THE TASKS LIST, CONTINUE UPDATES
             %CANCEL+- EXIT UTILITY, DON'T SAVE ANY CHANGES
             %END   +- &EPFN EXIT UTILITY, SAVE ANY CHANGES
0          %LINE+COMMANDS: (ENTERED IN THE "ACTION" AREA AT THE LEFT OF THE DESIRED TASK)
             %D+- DELETE TASK %U+- UPDATE TASK %R+- REPEAT TASK %N+-EDIT NOTEBOOK ENTRY
0          +ENTER%&EPF+TO EXIT TUTORIAL AND RETURN TO TASKS LIST
           +HIT%ENTER+TO CONTINUE ON NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
             IF (&EPF ¬= 'END')
               &EPFN = '(OR HIT &EPF.)'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTGNR                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /*          14MAR85-JJV-1.01-ADD NOTEBOOK AND N COMMANDS          */
             /* PURPOSE: ONLINE TASKS-LIST TUTORIAL: GENERAL INFORMATION       */
             /******************************************************************/
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 17
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTNB PANEL
+         ________ ______ ______  _______ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %
           %NOTEBOOK FACILITY+
0           TO ENTER NOTES OR OTHER TEXT PERTAINING TO A CATEGORY OF TASKS, USE THE
           %NOTEBOOK+COMMAND OR THE%N+LINE COMMAND.
0           TO UPDATE (OR CREATE) A NOTEBOOK ENTRY FOR A CATEGORY OF TASKS, ENTER%N+IN THE
            ACTION AREA OF A TASK WITH THE DESIRED CATEGORY AND HIT%ENTER.+ YOU WILL BE
            TAKEN INTO EDIT MODE ON THE NOTEBOOK DATASET MEMBER FOR THE SELECTED CATEGORY.
            ENTER YOUR CHANGES, THEN HIT%&EPF+TO RESAVE.
0           TO EDIT THE NOTEBOOK DATASET USING A MEMBER SELECTION LIST, ENTER THE%NOTEBOOK+
            COMMAND (OR%NB+FOR SHORT) IN THE COMMAND AREA. THIS WILL TAKE YOU TO A MEMBER
            SELECTION LIST FOR THE NOTEBOOK DATASET, SO YOU CAN THEN SELECT THE DESIRED
            MEMBER IN THE USUAL MANNER (ENTER%S+IN THE ACTION AREA).  NOTE THAT YOU CANNOT
            USE THIS OPTION IF THE DATASET HAS NO MEMBERS...  YOU MUST CREATE ONE OR MORE
            MEMBERS USING THE%N+LINE COMMAND FIRST (SEE ABOVE).
0          +ENTER%&EPF+TO EXIT TUTORIAL AND RETURN TO TASKS LIST
           +HIT%ENTER+TO CONTINUE ON NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTNB                                               */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 14MAR85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /* PURPOSE: ONLINE TASKS-LIST TUTORIAL: NOTEBOOK FACILITY         */
             /******************************************************************/
             &ZCONT = TASKTNB2
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 18
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTNB2 PANEL
+         ________ ______ ______  ________ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %
           %NOTEBOOK FACILITY+(CONTINUED)
0           WHEN YOU USE THE%NOTEBOOK+OR%N+COMMANDS FOR THE FIRST TIME, YOU WILL BE TAKEN
            TO A SCREEN WHERE YOU SPECIFY THE DATASET NAME OF THE PDS TO CONTAIN THE
            NOTEBOOK ENTRIES. KEY THE DATASET NAME IN THE USUAL TSO SYNTAX (OMIT THE HIGH-
            LEVEL QUALIFIER). IF THE DATASET EXISTS, IT WILL BE USED AS THE NOTEBOOK. IF IT
            DOES NOT EXIST, IT WILL BE CREATED.
0           ONCE YOU HAVE SET THE DATASET NAME, IT WILL BE DISPLAYED ON THE TASKS LIST
            PANEL, AND IS PERMANENT UNLESS YOU CHANGE IT. TO SWITCH THE NOTEBOOK TO A
            DIFFERENT DATASET NAME, USE THE%NOTEBOOK+COMMAND AND SPECIFY THE DATASET NAME
            AS AN OPERAND. EXAMPLE:
0              NOTEBOOK MY.NOTEBOOK
0          +ENTER%&EPF+TO EXIT TUTORIAL AND RETURN TO TASKS LIST
           +HIT%ENTER+TO CONTINUE ON NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTNB2                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 14MAR85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /* PURPOSE: ONLINE TASKS-LIST TUTORIAL: NOTEBOOK FACILITY (CONT'D)*/
             /******************************************************************/
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 19
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTPRT PANEL
+         ________ ______ ______  ________ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %
           %PRINTING YOUR TASKS LIST+
0           TO PRINT YOUR TASKS LIST, ENTER THE%PRT+COMMAND IN THE COMMAND AREA AT THE TOP
            OF THE SCREEN.  ALL THE INFORMATION CURRENTLY CONTAINED ON YOUR TASKS LIST WILL
            BE FORMATTED INTO A PRINTED REPORT AND WILL BE SENT FOR PRINTING.
0           TO SPECIFY A DESTINATION FOR YOUR PRINTED OUTPUT, SPECIFY THE DESIRED PRINT
            DESTINATION AS A OPERAND TO THE PRT COMMAND. FOR EXAMPLE:
0              PRT R7
-          +ENTER%&EPF+TO EXIT TUTORIAL AND RETURN TO TASKS LIST
           +HIT%ENTER+TO CONTINUE ON NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTPRT                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /* PURPOSE: ONLINE TASKS-LIST TUTORIAL: PRINTING THE TASKS LIST   */
             /******************************************************************/
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 20
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTUPD PANEL
+         ________ ______ ______  ________ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %+
           %UPDATING YOUR TASKS LIST+
0          %ADDING A NEW TASK+
            TO ADD A NEW TASK TO YOUR TASKS LIST, ENTER THE%INPUT+COMMAND IN THE COMMAND
            AREA AT THE TOP OF THE SCREEN. THIS WILL TAKE YOU TO A PANEL WHERE YOU MAY
            ENTER INFORMATION ABOUT THE NEW TASK. PRESS%ENTER+TO RETURN TO THE TASKS LIST
            AND ADD THE TASK TO THE LIST. USE THE%END+COMMAND IF YOU CHANGE YOUR MIND AND
            DON'T WANT TO ADD THE TASK.
0          %UPDATING A TASK+
            YOU CAN UPDATE ANY OF THE FIELDS FOR A TASK (E.G. TASK DESCRIPTION, STATUS,
            TARGET DATE, ETC.)  BY ENTERING%U+IN THE "ACTION" AREA (AT THE LEFT MARGIN) FOR
            THE TASK. THIS WILL TAKE YOU TO A PANEL SHOWING THE CURRENT FIELD VALUES.
            OVERTYPE ANY THAT YOU WANT TO CHANGE, THEN HIT%ENTER+TO RETURN TO THE TASKS
            LIST WITH THE TASK'S INFORMATION UPDATED. USE THE%END+COMMAND IF YOU CHANGE
            YOUR MIND AND DON'T WANT TO UPDATE THE TASK.
0          +ENTER%&EPF+TO EXIT TUTORIAL AND RETURN TO TASKS LIST
           +HIT%ENTER+TO CONTINUE ON NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTUPD                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /* PURPOSE: ONLINE TASKS-LIST TUTORIAL: UPDATING THE TASKS LIST   */
             /******************************************************************/
             &ZCONT = TASKTUP2
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 21
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKTUP2 PANEL
+         ________ ______ ______  ________ _____
0          )BODY EXPAND(//)
           %TUTORIAL-/-/- ONLINE TASKS-LIST -/-/-TUTORIAL
           %COMMAND ===>_ZCMD                                                             +
           %+
           %UPDATING YOUR TASKS LIST+(CONTINUED)
0          %REPEATING OR DELETING TASKS+
            TO ADD A NEW TASK WITH THE SAME INFORMATION AS AN EXISTING TASK, ENTER%R+IN THE
            ACTION AREA FOR THE EXISTING TASK.  YOU CAN THEN UPDATE THE TASK DESCRIPTION AS
            DESCRIBED ABOVE.  TO DELETE A TASK FROM THE LIST, ENTER%D+IN THE ACTION AREA
            FOR THE TASK.
0          %SORTING THE TASKS LIST+
            TO CHANGE THE SORT ORDER OF THE LIST, ENTER THE%SORT+COMMAND AND (OPTIONALLY)
            THE SORT FIELDS.  VALID SORT FIELDS ARE CATEGORY, PRIORITY, DATE, HOURS, AND
            STATUS.  YOU MAY ENTER AS MANY OF THE SORT FIELDS AS YOU WISH.  IF YOU ENTER NO
            SORT FIELDS, STATUS PRIORITY HOURS DATE (IN THAT ORDER) WILL BE USED. NOTE THAT
            THE CURRENT SORT ORDER IS ALWAYS SHOWN ON THE TASKS LIST PANEL, AND IS PRINTED
            IN THE HEADING WHEN YOU PRINT YOUR TASKS LIST.
0          +ENTER%&EPF+TO EXIT TUTORIAL AND RETURN TO TASKS LIST
           +HIT%ENTER+TO CONTINUE ON NEXT TUTORIAL PANEL
           )INIT
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
           )PROC
             /******************************************************************/
             /* PANELID: TASKTUP2                                              */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /*          14MAR85-JJV-1.01-CORRECT DEFAULT SORT ORDER           */
             /*          13JUN85-JJV-1.02-CHAGNE DEFAULT SORT ORDER AGAIN      */
             /* PURPOSE: ONLINE TASKS-LIST TUTORIAL: UPDATING THE TASKS LIST(2)*/
             /******************************************************************/
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 22
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASKUPD PANEL
+         ________ ______ ______  _______ _____
0          )ATTR
             @ TYPE(INPUT) INTENS(LOW) CAPS(OFF)
             # TYPE(INPUT) INTENS(LOW) CAPS(ON)
             + TYPE(TEXT) INTENS(LOW) SKIP(ON)
           )BODY EXPAND(//)
           %-/-/- ONLINE TASKS-LIST: &TTL TASK -/-/-
           %COMMAND ===>_ZCMD                                                             +
           %
           +SPECIFY OR CHANGE INFORMATION BELOW:
           %
           +  CATEGORY   %===>#CATEGORY+
           +  PRIORITY   %===>#Z+      (NUMBER 1-9, 1 IS HIGHEST)
           +  TARGET DATE%===>#Z      +(DDMMMYY)
           +  EST HOURS  %===>#Z   +   (HOURS OF EFFORT)
           +  STATUS     %===>#Z   +   (INIT,OPEN,DONE,HOLD,DROP)
           +  DESCRIPTION%===>@TASK                                          +
           %
           +HIT%ENTER+TO UPDATE THE INFORMATION FOR THIS TASK
           +HIT%&EPF+TO CANCEL THIS OPERATION AND RETURN TO TASKS-LIST PANEL
           )INIT
             /******************************************************************/
             /* PANELID: TASKUPD                                               */
             /* AUTHOR:  JOE VEILLEUX, MIS TECH SUPPORT                        */
             /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE        */
             /*          28FEB85-JJV-1.01-FIX LEN OF TASK DESCRIPTION          */
             /*          08MAR85-JJV-1.02-ADD VER FOR CATEGORY (NOTEBOOK SUPPT)*/
             /*          19MAR85-JJV-1.03-ADD STATUS=INIT                      */
             /*          25MAR85-JJV-1.04-SET DEFAULT TARGSORT IF BLANK        */
             /* PURPOSE: ALLOW USER TO UPDATE/ADD TASK                         */
             /******************************************************************/
             &HPF = PFK(HELP)
             IF (&HPF = &Z)
               &HPF = 'HELP'
             &EPF = PFK(END)
             IF (&EPF = &Z)
               &EPF = 'END'
             &D = TRUNC(&EPF,2)
             &DT = .TRAIL
             &D = TRUNC(&DT,1)
             IF (&D = '0')
               &DT = .TRAIL
               &EPF = 'PF&DT'
             .ZVARS = '(PRIORITY TARGDATE HOURS STATUS)'
             &ZCMD = &Z
             &TTL = 'UPDATE'
             IF (&CMD = 'INPUT')
               &TTL = 'ADD'
             IF (&PRIORITY = &Z)
               &PRIORITY = 5
             IF (&STATUS = &Z)
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 23
          JOE VEILLEUX (APC)
-              &STATUS = 'INIT'
           )PROC
             VER (&CATEGORY,NB,NAME)
             VER (&PRIORITY,NB,RANGE,1,9)
             &TARGSORT = '999999'
             IF (&TARGDATE ¬= &Z)
               &DD = TRUNC(&TARGDATE,2)
               VER (&DD,NB,NUM,MSG=TASK004D)
               &ZTRAIL = .TRAIL
               &MM = TRANS(TRUNC(&ZTRAIL,3)
                            JAN,01 FEB,02 MAR,03 APR,04 MAY,05 JUN,06
                            JUL,07 AUG,08 SEP,09 OCT,10 NOV,11 DEC,12
                            MSG=TASK004D)
               &YY = .TRAIL
               VER (&YY,NB,NUM,MSG=TASK004D)
               &TARGSORT = '&YY.&MM.&DD'
             VER (&STATUS,NB,LIST,INIT,OPEN,DONE,HOLD,DROP)
             VER (&TASK,NB)
           )END
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 24
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: TASK00 MESSAGE MEMBER
+         ________ ______ ______  ______ _______ ______
0          /* TASK00:  MESSAGES FOR ONLINE TASKS-LIST APPLICATION                */
           /* AUTHOR:  JOE VEILLEUX                                              */
           /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE            */
           /*          28FEB85-JJV-1.01-REWORD 002N, ADD 005S                    */
           /*          08MAR85-JJV-1.02-ADD MSGS FOR NOTEBOOK: 006*              */
0          TASK001E 'TABLE IN USE' .ALARM=YES
           'YOUR TASKS-LIST IS BEING ACCESSED BY ANOTHER USER.. CANNOT UPDATE NOW.'
           TASK001S 'CATASTROPHIC ERROR' .ALARM=YES
           'ERROR CREATING TASK-LIST TABLE. RETURN CODE WAS &RC..'
           TASK001T 'TASKS-LIST CREATED' .ALARM=YES
           'TASKS-LIST FOR &ZUSER WAS NOT FOUND AND HAS BEEN CREATED (EMPTY).'
0          TASK002C 'UPDATES NOT SAVED' .ALARM=YES
           'TASKS-LIST UTILITY ENDED THROUGH "CANCEL". UPDATES WERE NOT SAVED.'
           TASK002N 'TASK-LIST DONE'
           'TASKS-LIST ENDED NORMALLY. NO UPDATES WERE ENTERED SINCE LAST "SAVE".'
           TASK002S 'UPDATES SAVED'
           'TASKS-LIST UTILITY ENDED NORMALLY. UPDATES WERE SAVED.'
0          TASK003D 'INVALID DESTINATION' .ALARM=YES
           'INVALID PRINT DESTINATION. ENTER PRINT DEST AS U## OR R## (E.G. R14)'
           TASK003P 'PRINT COMPLETE'
           'YOUR TASKS-LIST HAS BEEN SENT FOR PRINTING.'
           TASK003S 'INVALID SORT FIELD'
           'VALID SORT FIELDS: CATEGORY, PRIORITY, DATE, HOURS, STATUS'
           TASK003E 'INVALID COMMAND' .ALARM=YES
           'ENTER A VALID COMMAND: INPUT, CANCEL, NOTEBOOK, PRT, END, HELP, SAVE'
           TASK003L 'INVALID COMMAND' .ALARM=YES
           'ENTER A VALID LINE COMMAND: D, R, U'
0          TASK004D 'INVALID DATE' .ALARM=YES
           'ENTER DATE AS "DDMMMYY" (E.G. 01JAN85) OR LEAVE BLANK'
0          TASK005S 'TASKS LIST SAVED'
           'YOUR CURRENT TASKS LIST HAS BEEN SAVED. YOU MAY CONTINUE UPDATING.'
           TASK005R 'TASKS LIST SORTED'
           'YOUR CURRENT TASKS LIST HAS BEEN SORTED USING THE SORT FIELDS SHOWN.'
0          TASK006E 'UNABLE TO ALLOC' .ALARM=YES
           'UNABLE TO ALLOCATE DATASET FOR NOTEBOOK. DSN=&TASKNDSN..'
           TASK006N 'DATA NOT SAVED'
           'NO UPDATES TO NOTEBOOK ENTRY "&CATEGORY.."'
           TASK006S 'UPDATES SAVED'
           'YOUR UPDATES TO NOTEBOOK ENTRY FOR "&CATEGORY." HAVE BEEN SAVED.'
           TASK006T 'UNABLE TO EDIT'
           'ERROR EDITING &TASKNDSN.. POSSIBLE CAUSE: NO MEMBERS.'
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 25
          JOE VEILLEUX (APC)
-         TASKLIST DIALOG SOURCE: SPTASKDR CLIST
+         ________ ______ ______  ________ _____
0          PROC 0 TEST TBLDSN(TASKLIST)                                            00010000
           /*TITLE SPTASKDR: DRIVER FOR ONLINE TASKS-LIST APPLICATION   (CSS)    */00020000
           /* AUTHOR:  JOE VEILLEUX, APCI MIS CSS                                */00030000
           /* HISTORY: 27FEB85-JJV-1.00-ORIGINAL EXPERIMENTAL RELEASE            */00040000
           /*          28FEB85-JJV-1.01-ADD ACK FOR SORT, SAVE                   */00050001
           /*          08MAR85-JJV-1.02-ADD NOTEBOOK, CHANGE DEFAULT SORT ORDER  */00060003
           /*          18MAR85-JJV-1.03-CHANGE DEFAULT SORT ORDER AGAIN          */00070003
           CONTROL MAIN END(ENDO) NOMSG                                            00080000
           IF &TEST EQ TEST THEN CONTROL LIST SYMLIST CONLIST MSG                  00090000
           ISPEXEC VGET (TASKSRTF) PROFILE                                         00100000
           IF &LASTCC EQ 8 OR &TASKSRTF EQ THEN SET &TASKSRTF = &STR(**UNKNOWN**)  00110002
           ISPEXEC VGET (TASKNDSN) PROFILE                                         00120002
           IF &LASTCC EQ 8 OR &TASKNDSN EQ THEN SET &TASKNDSN = &STR(**NOT SET**)  00130002
           ISPEXEC TBOPEN TASKLIST WRITE LIBRARY(ISPTABL) SHARE                    00140000
           IF &LASTCC EQ 8 THEN DO                                                 00150000
             ISPEXEC TBCREATE TASKLIST WRITE LIBRARY(ISPTABL) SHARE +              00160000
               NAMES(CATEGORY TASK PRIORITY TARGDATE TARGSORT HOURS STATUS)        00170000
             IF &LASTCC NE 0 THEN DO                                               00180000
               ISPEXEC SETMSG MSG(TASK001S)                                        00190000
               EXIT                                                                00200000
               ENDO                                                                00210000
             ISPEXEC SETMSG MSG(TASK001T)                                          00220000
             ISPEXEC TBSORT TASKLIST +                                             00230002
               FIELDS(STATUS,C,D PRIORITY,N,A HOURS,N,D TARGSORT,N,A)              00240003
             SET &TASKSRTF = &STR(STATUS(D) PRIORITY HOURS(D) DATE)                00250003
             ISPEXEC VPUT (TASKSRTF) PROFILE                                       00260000
             ENDO                                                                  00270000
           /* SET FLAG TO DELETE "PRINT" DATASET ON EXIT */                        00280000
           SET &PRTDEL =                                                           00290000
           SET &RC = 0                                                             00300000
           SET &ZTDTOP = 0                                                         00310000
           SET &UPDTFLAG =                                                         00320000
           /* DISPLAY THE TABLE FOR UPDATE UNTIL "END" OR "CANCEL" */              00330000
           DO WHILE 1=1                                                            00340000
             IF &RC EQ 4 THEN ISPEXEC TBDISPL TASKLIST POSITION(CRP)               00350000
             ELSE DO                                                               00360000
               /* REPOSITION THE TABLE AS THE USER LAST SAW IT */                  00370000
               ISPEXEC TBTOP   TASKLIST                                            00380000
               ISPEXEC TBSKIP  TASKLIST NUMBER(&ZTDTOP)                            00390000
               /* HONOR A PENDING SCROLL REQUEST (IF ANY) */                       00400000
               ISPEXEC VGET (ZVERB ZSCROLLN)                                       00410000
               IF &ZVERB EQ UP THEN ISPEXEC TBSKIP TASKLIST NUMBER(-&ZSCROLLN)     00420000
               ELSE IF &ZVERB EQ DOWN THEN ISPEXEC TBSKIP TASKLIST +               00430000
                 NUMBER(&ZSCROLLN)                                                 00440000
               /* NOW REDISPLAY THE TABLE */                                       00450000
               ISPEXEC TBDISPL TASKLIST PANEL(TASKTBD) POSITION(CRP)               00460000
               ENDO                                                                00470000
             SET &RC = &LASTCC                                                     00480000
             IF &CMD EQ CANCEL OR &RC GT 4 THEN GOTO LOOPEXIT /* EXIT LOOP */      00490000
             ELSE IF &CMD EQ SORT THEN DO                                          00500000
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 26
          JOE VEILLEUX (APC)
-              IF &SF1 EQ THEN DO                                                  00510000
                 SET &SF1 = STATUS                                                 00520000
                 SET &SF2 = PRIORITY                                               00530003
                 SET &SF3 = HOURS                                                  00540003
                 SET &SF4 = DATE                                                   00550003
                 SET &SF5 =                                                        00560000
                 ENDO                                                              00570000
               SET &SORTFLDS =                                                     00580000
               SET &TASKSRTF =                                                     00590000
               SET &I = 1                                                          00600000
               DO WHILE &I LT 6                                                    00610000
                 SET &SF = SF&I                                                    00620000
                 SET &S = &&&SF                                                    00630000
                 IF &S EQ CATEGORY THEN DO                                         00640000
                   SET &SORTFLDS = &STR(&SORTFLDS CATEGORY,C,A)                    00650000
                   SET &TASKSRTF = &STR(&TASKSRTF CATEGORY)                        00660000
                   ENDO                                                            00670000
                 ELSE IF &S EQ PRIORITY THEN DO                                    00680000
                   SET &SORTFLDS = &STR(&SORTFLDS PRIORITY,N,A)                    00690000
                   SET &TASKSRTF = &STR(&TASKSRTF PRIORITY)                        00700000
                   ENDO                                                            00710000
                 ELSE IF &S EQ DATE THEN DO                                        00720000
                   SET &SORTFLDS = &STR(&SORTFLDS TARGSORT,N,A)                    00730000
                   SET &TASKSRTF = &STR(&TASKSRTF DATE)                            00740000
                   ENDO                                                            00750000
                 ELSE IF &S EQ HOURS THEN DO                                       00760000
                   SET &SORTFLDS = &STR(&SORTFLDS HOURS,N,D)                       00770000
                   SET &TASKSRTF = &STR(&TASKSRTF HOURS(D))                        00780000
                   ENDO                                                            00790000
                 ELSE IF &S EQ STATUS THEN DO                                      00800000
                   SET &SORTFLDS = &STR(&SORTFLDS STATUS,C,D)                      00810000
                   SET &TASKSRTF = &STR(&TASKSRTF STATUS(D))                       00820000
                   ENDO                                                            00830000
                 SET &I = &I + 1                                                   00840000
                 ENDO                                                              00850000
               ISPEXEC VPUT (TASKSRTF) PROFILE                                     00860000
               ISPEXEC TBSORT TASKLIST FIELDS(&SORTFLDS)                           00870000
               ISPEXEC SETMSG MSG(TASK005R)                                        00880001
               ENDO                                                                00890000
             ELSE IF &CMD EQ SAVE THEN DO                                          00900000
               ISPEXEC TBSAVE TASKLIST REPLCOPY PAD(15) LIBRARY(ISPTABL)           00910000
               SET &UPDTFLAG =                                                     00920000
               ISPEXEC SETMSG MSG(TASK005S)                                        00930001
               ENDO                                                                00940000
             ELSE IF &CMD EQ INPUT THEN DO                                         00950000
               ISPEXEC CONTROL DISPLAY SAVE                                        00960000
               DO WHILE &INPN GE 1                                                 00970000
                 ISPEXEC TBVCLEAR TASKLIST                                         00980000
                 ISPEXEC DISPLAY PANEL(TASKUPD)                                    00990000
                 IF &LASTCC EQ 0 THEN DO                                           01000000
                   ISPEXEC TBADD TASKLIST ORDER                                    01010000
                   SET &UPDTFLAG = YES                                             01020000
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 27
          JOE VEILLEUX (APC)
-                  ENDO                                                            01030000
                 SET &INPN = &INPN-1                                               01040000
                 ENDO                                                              01050000
               ISPEXEC CONTROL DISPLAY RESTORE                                     01060000
               ENDO                                                                01070000
             ELSE IF &CMD EQ NOTEBOOK THEN DO                                      01080002
               ISPEXEC CONTROL DISPLAY SAVE                                        01090002
               IF &NBDSN EQ THEN DO /* EDIT NOTEBOOK DATASET */                    01100002
                 ISPEXEC VGET (TASKNDSN) PROFILE                                   01110002
                 IF &LASTCC NE 0 OR &TASKNDSN EQ THEN +                            01120002
                   ISPEXEC DISPLAY PANEL(TASKNDSN)                                 01130002
                 IF &LASTCC EQ 0 THEN DO                                           01140002
                   ISPEXEC VPUT (TASKNDSN) PROFILE                                 01150002
                   ERROR DO                                                        01160002
                     ERROR DO                                                      01170002
                       ISPEXEC SETMSG MSG(TASK006E)                                01180002
                       GOTO SKPNBALC                                               01190002
                       ENDO                                                        01200002
                     ATTR NBATTR RECFM(V B) LRECL(80) BLKSIZE(6233)                01210002
                     ALLOC F(N) DSN(&TASKNDSN($TASK$)) NEW REUSE +                 01220002
                       SP(10 10) TRACKS DIR(5) USING(NBATTR)                       01230002
                     FREE ATTR(NBATTR)                                             01240002
                     ERROR OFF                                                     01250002
                     ENDO                                                          01260002
                   ALLOC F(N) DSN(&TASKNDSN) SHR REUSE                             01270002
                   SKPNBALC: ERROR OFF                                             01280002
                   FREE F(N)                                                       01290002
                   ERROR OFF                                                       01300002
                   ISPEXEC CONTROL ERRORS RETURN                                   01310002
                   ISPEXEC EDIT DATASET(&TASKNDSN)                                 01320002
                   IF &LASTCC GT 4 THEN ISPEXEC SETMSG MSG(TASK006T)               01330002
                   ISPEXEC CONTROL ERRORS CANCEL                                   01340002
                   ENDO                                                            01350002
                 ENDO                                                              01360002
               ELSE DO                                                             01370002
                 SET &TASKNDSN = &NBDSN                                            01380002
                 ISPEXEC VPUT (TASKNDSN) PROFILE                                   01390002
                 ENDO                                                              01400002
               ISPEXEC CONTROL DISPLAY RESTORE                                     01410002
               ENDO                                                                01420002
             ELSE IF &CMD EQ PRT THEN DO                                           01430000
               ERROR DO                                                            01440000
                 ERROR OFF                                                         01450000
                 FREE ATTR(VBA)                                                    01460000
                 ATTR VBA RECFM(V B A) LRECL(137) BLKSIZE(6233) DSORG(PS)          01470000
                 ALLOC F(ISPFILE) DSN(TASKTEMP.LISTING) REUSE +                    01480000
                   USING(VBA) SP(1 1) TRACKS                                       01490000
                 SET &PRTDEL = DELETE                                              01500000
                 ENDO                                                              01510000
               ALLOC F(ISPFILE) DSN(TASKTEMP.LISTING) OLD REUSE                    01520000
               ERROR OFF                                                           01530000
               ISPEXEC SELECT PGM(X1A100)                                          01540000
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 28
          JOE VEILLEUX (APC)
-              ISPEXEC FTOPEN                                                      01550000
               ISPEXEC FTINCL TASKPRT                                              01560000
               ISPEXEC FTCLOSE                                                     01570000
               IF &PRTDEST EQ THEN +                                               01580000
                 PRINTO TASKTEMP.LISTING UCS(GO12) NOHEADING NOMSG                 01590000
               ELSE PRINTO TASKTEMP.LISTING NOHEADING NOMSG DEST(&PRTDEST)         01600000
               ISPEXEC SETMSG MSG(TASK003P)                                        01610000
               ENDO                                                                01620000
             ELSE IF &ZTDSELS GE 1 THEN DO                                         01630000
               IF &ACT EQ D THEN -                                                 01640000
                 DO WHILE &N GE 1                                                  01650000
                   ISPEXEC TBDELETE TASKLIST                                       01660000
                   ISPEXEC TBSKIP TASKLIST                                         01670000
                   /* CHECK RETURN CODE TO GUARD AGAINST DELETING TOO MANY */      01680000
                   IF &LASTCC NE 0 THEN SET &N = 0                                 01690000
                   ELSE SET &N = &N-1                                              01700000
                   SET &UPDTFLAG = YES                                             01710000
                   ENDO                                                            01720000
               ELSE IF &ACT EQ R THEN -                                            01730000
                 DO WHILE &N GE 1                                                  01740000
                   ISPEXEC TBADD TASKLIST ORDER                                    01750000
                   SET &N = &N-1                                                   01760000
                   SET &UPDTFLAG = YES                                             01770000
                   ENDO                                                            01780000
               ELSE IF &ACT EQ U THEN DO                                           01790000
                 ISPEXEC CONTROL DISPLAY SAVE                                      01800000
                 ISPEXEC DISPLAY PANEL(TASKUPD)                                    01810000
                 IF &LASTCC EQ 0 THEN DO                                           01820000
                   ISPEXEC TBPUT TASKLIST ORDER /* RESAVE ROW IN TABLE */          01830000
                   SET &UPDTFLAG = YES                                             01840000
                   ENDO                                                            01850000
                 ISPEXEC CONTROL DISPLAY RESTORE                                   01860000
                 ENDO                                                              01870000
               ELSE IF &ACT EQ N THEN DO                                           01880002
                 ISPEXEC CONTROL DISPLAY SAVE                                      01890002
                 ISPEXEC VGET (TASKNDSN) PROFILE                                   01900002
                 IF &LASTCC NE 0 OR &TASKNDSN EQ THEN -                            01910002
                   ISPEXEC DISPLAY PANEL(TASKNDSN)                                 01920002
                 IF &LASTCC EQ 0 THEN DO                                           01930002
                   ISPEXEC VPUT (TASKNDSN) PROFILE                                 01940002
                   ERROR DO                                                        01950002
                     ERROR DO                                                      01960002
                       ISPEXEC SETMSG MSG(TASK006E)                                01970002
                       GOTO SKPNALC                                                01980002
                       ENDO                                                        01990002
                     ATTR NBATTR RECFM(V B) LRECL(80) BLKSIZE(6233)                02000002
                     ALLOC F(N) DSN(&TASKNDSN) NEW REUSE +                         02010002
                       SP(10 10) TRACKS DIR(5) USING(NBATTR)                       02020002
                     FREE ATTR(NBATTR)                                             02030002
                     ERROR OFF                                                     02040002
                     ENDO                                                          02050002
                   ALLOC F(N) DSN(&TASKNDSN) SHR                                   02060002
1
0         SPF HINTS, SAMPLES, AND TRICKS - MARCH 14, 1984                         PAGE 29
          JOE VEILLEUX (APC)
-                  SKPNALC: ERROR OFF                                              02070002
                   FREE F(N)                                                       02080002
                   ERROR OFF                                                       02090002
                   ISPEXEC EDIT DATASET(&TASKNDSN(&CATEGORY))                      02100002
                   IF &LASTCC EQ 0 THEN ISPEXEC SETMSG MSG(TASK006S)               02110002
                   ELSE ISPEXEC SETMSG MSG(TASK006N)                               02120002
                   ENDO                                                            02130002
                 ISPEXEC CONTROL DISPLAY RESTORE                                   02140002
                 ENDO                                                              02150002
               ENDO                                                                02160000
             ENDO                                                                  02170000
           LOOPEXIT: -                                                             02180000
           FREE F(ISPFILE) ATTR(VBA) &PRTDEL                                       02190000
           IF &CMD EQ CANCEL THEN DO                                               02200000
             ISPEXEC TBEND TASKLIST                                                02210000
             ISPEXEC SETMSG MSG(TASK002C)                                          02220000
             ENDO                                                                  02230000
           ELSE IF &UPDTFLAG EQ THEN DO                                            02240000
             ISPEXEC TBEND TASKLIST                                                02250000
             ISPEXEC SETMSG MSG(TASK002N)                                          02260000
             ENDO                                                                  02270000
           ELSE DO                                                                 02280000
             ISPEXEC TBCLOSE TASKLIST REPLCOPY PAD(15) LIBRARY(ISPTABL)            02290000
             ISPEXEC SETMSG MSG(TASK002S)                                          02300000
             ENDO                                                                  02310000

