*
*        %GOTO DACA1;                 /* Bilingual mapping
         MACRO
         IEFZB4IC
*/* START OF SPECIFICATIONS ******************************************/
*/*01* PROPRIETARY STATEMENT=                                        */
*/***PROPRIETARY_STATEMENT********************************************/
*/*                                                                  */
*/*                                                                  */
*/* LICENSED MATERIALS - PROPERTY OF IBM                             */
*/* THIS MACRO IS "RESTRICTED MATERIALS OF IBM"                      */
*/* 5655-068 (C) COPYRIGHT IBM CORP. 1988, 1994                      */
*/* SEE COPYRIGHT INSTRUCTIONS                                       */
*/*                                                                  */
*/* STATUS= HBB5520                                                  */
*/*                                                                  */
*/***END_OF_PROPRIETARY_STATEMENT*************************************/
*/*                                                                  */
*/*01* EXTERNAL CLASSIFICATION:  NONE                                */
*/*01* END OF EXTERNAL CLASSIFICATION:                               */
*/*                                                                  */
*/*01* DESCRIPTIVE NAME - Device Allocation Communication Area       */
*/*                                                                  */
*/*02*  ACRONYM:  IEFZB4IC                                           */
*/*                                                                  */
*/*01* MACRO NAME: IEFZB4IC                                          */
*/*                                                                  */
*/*01* DSECT NAME: DACA                                              */
*/*                                                                  */
*/*01* COMPONENT:  Allocation (SC1B4)                                */
*/*                                                                  */
*/*01* EYE-CATCHER:  DACA                                            */
*/*02*  OFFSET:  0                                                   */
*/*02*  LENGTH:  4                                                   */
*/*                                                                  */
*/*01* STORAGE ATTRIBUTES:                                           */
*/*02*  SUBPOOL:  241                                                */
*/*02*  KEY:  0                                                      */
*/*02*  RESIDENCY:  Any                                              */
*/*02*  MAIN STORAGE:  No                                            */
*/*02*  AUXILIARY STORAGE:  Yes                                      */
*/*02*  VIRTUAL STORAGE:  Yes                                        */
*/*02*  DATA SPACE: No                                               */
*/*                                                                  */
*/*01* SIZE:                                                         */
*/*          156 decimal bytes                                       */
*/*                                                                  */
*/*01* CREATED BY: IEFAB4IC                                          */
*/*                                                                  */
*/*01* POINTED TO BY:  JESDACA in mapping IEFJESCT                   */
*/*                                                                  */
*/*01* SERIALIZATION: None                                           */
*/*                                                                  */
*/*01* FUNCTION:                                                     */
*/*   Provides information required by allocation as well as the     */
*/*   entry point addresses of allocation routines.  The DACA        */
*/*   control block is created at allocation initialization time     */
*/*   by IEFAB4IC which initializes the JESDACA field in the JESCT   */
*/*   to the address of this control block.                          */
*/*                                                                  */
*/*   Note: In order to use the entry point addresses of the         */
*/*         Allocation routines from PL/S, DECLARES of the           */
*/*         following form must be used:                             */
*/*                                                                  */
*/*   PL/S -                                                         */
*/*          IEFAB4C1  ENTRY BASED(DACAB4C1) VALRG(*)                */
*/*                      OPTIONS(AMODE(31),RMODE(ANY))               */
*/*                                                                  */
*/*01* METHOD OF ACCESS                                              */
*/*   PL/S - %INCLUDE SYSLIB(IEFJESCT)                               */
*/*          %INCLUDE SYSLIB(IEFZB4IC)                               */
*/*                                                                  */
*/*   BAL  -         IEFJESCT                                        */
*/*                  IEFZB4IC                                        */
*/*                  L        R10,JESDACA                            */
*/*                  USING    DACA,R10                               */
*/*                                                                  */
*/*01* DELETED BY: never deleted                                     */
*/*                                                                  */
*/*01* DEPENDENCIES:  None                                           */
*/*                                                                  */
*/*01* DISTRIBUTION LIBRARY:  AINTLIB                                */
*/*                                                                  */
*/*01* CHANGE ACTIVITY:                                              */
*/*    L0,D1,P1,L1,T1,D2,L2,L3,P2,D3,P3,T2,L4,L5  @L5C               */
*/* $L0=SMSSTG2 JBB2223 860205 PDN1: Stor Mgmt Subsys StgII Supt     */
*/* $D1=DC20060 JBB2223 871216 PDCC: Pending Performance         @D1A*/
*/* $P1=PC20505 JBB2223 880120 PDCC: Fix change activity         @P1A*/
*/* $L1=VLF     HBB3310 870306 PDCC: Virt. Lookaside Facility    @L1A*/
*/* $T1=OY26839 HBB3310 890831 PDE1: DD Limit SPE                @T1A*/
*/* $D2=DEO0085 HBB4410 881107 PDCC: TSO Operator/Performance    @D2A*/
*/* $L2=EMVS2   HBB4410 890215 PDDU: ENTERPRISE II Support       @L2A*/
*/* $L3=DIOPL   HBB4410 900122 PDAO: Dynamic I/O Configuration   @L3A*/
*/* $P2=PIV0025 HBB4410 900122 PDAO: Fix DCLs-Change PRT to PTR PTM  */
*/*                                  written against FBB4418 and     */
*/*                                  shipped 10/16/89            @P2A*/
*/* $D3=DEO0348 HBB4410 900402 PDEV: Message Build Service       @D3A*/
*/* $P3=PEO4361 HBB4410 900529 PDEV: Move DCR348 fields          @P3A*/
*/* $T2=OY37405         901116 PDEV: Comment DACAB4CC usage      @T2A*/
*/* $L4=APPC1   HBB4420 890428 PDCC: Allocation from TP profile  @L4A*/
*/* $L5=DDPERF  HBB4420 900226 PDB2: DDPERFOPENJ DD Limit        @L5A*/
*/*                                   Performance                @L5A*/
*/* $L6=SHRTP   HBB5520 940315 PDF1: Sysplex Shared Tape         @L6A*/
*/* $L7=SHRTP   HBB5520 940505 PDF1: Sysplex Shared Tape         @L7A*/
*/* $P4=PN70739 HBB5520 940602 PDF1: corrected DACALFL0          @P4A*/
*/* $01=OW02880 HBB4430 940325 PDG5: Make DACDSNNO a reserved field  */
*/*                                  now that JESDSNNO is used as    */
*/*                                  the final qualifier of          */
*/*                                  temporary data set names    @01A*/
*/* $P5=PN70666 HBB5520 940728 PDF1: SHOWHDR compliance              */
*/* $P6=PN71256 HBB5520 940728 PDF1: fix DACACONN and DACAFCON Assem */
*/*                                  fields from DS to EQU           */
*/* $P7=PN71381 HBB5520 940908 PDF1: add DACAB4FX to DACA            */
*/* END OF SPECIFICATIONS ********************************************/
*/* IEFZB4IC - A - add DACAB4FX to DACA so that callers can      @P7A*/
*/*                call IEFAB4FX without LINK/LOAD.              @P7A*/
*/* IEFZB4IC - C - Change fields DACACONN and DACAFCON from      @P6A*/
*/*                DS fields to EQU fields in the ASSEM part     @P6A*/
*/* IEFZB4IC - C - Make IEFZB4IC SHOWHDR compliant               @P5A*/
*/* IEFZB4IC - C - Replace the counter for final qualifier of    @01A*/
*/*                temporary data set name (DACDSNNO) with a     @01A*/
*/*                reserved field, as DACDSNNO has been replaced @01A*/
*/*                by the use of JESDSNNO in IEFAB452, segment   @01A*/
*/*                GENDSNAM. DACDSNNO is used by no other module @01A*/
*/*                in allocation, nor outside allocation.        @01A*/
*/*                A reserved field is used to avoid changing    @01A*/
*/*                any offsets.                                  @01A*/
*/* IEFZB4IC - C - Changed DACALOKx from fixed(31) to CHAR(8)    @L7A*/
*/* IEFZB4IC - A - Add DACACONN and DACAFCON bits to             @L6A*/
*/*                indicated state of the IEFAUTOS XES structure @L6A*/
*/*                Also added three words DACALOK1-DACALOK3 to   @L6A*/
*/*                indicate what XES IEFAUTOS locks are held.    @L6A*/
*/* IEFZB4IC - A - Add DACAB4CE for the IEFHUPD Allocation       @L5A*/
*/*                Hash Table Update Service (needed for DFP     @L5A*/
*/*                even though module is not shipped in SP4.2)   @L5A*/
*/* IEFZB4IC - C - Define DACDSNNO as a counter to be used as    @L4A*/
*/*                the final qualifier when generating temporary @L4A*/
*/*                dataset names.                                @L4A*/
*/* IEFZB4IC - C - DACAVER and DACAB4CC can not be moved or deleted
*                  without updating the GETDSAB macro.  IEFAB4CC is
*                  called by GETDSAB, but IEFZB4IC is not externally
*                  available, so GETDSAB contains hardcoded constants
*                  to access the DACA.                           @T2A*/
*/* IEFZB4IC - C - Move fields DACAB4MG and DACAB4F3 to avoid using
*                  reserved fields.                              @P3A*/
*/* IEFZB4IC - C - Added fields DACAB4MG and DACAB4F3 to point to
*                  the Allocation Message Build service (4MG) and
*                  the Allocation Message Compression service (4F3),
*                  allowing 4MG to use 4F3.                      @D3A*/
*/* IEFZB4IC - C - Fixed pointer declares                        @P2A*/
*/* IEFZB4IC - C - Updated the copyr statment                    @L3A*/
*/* IEFZB4IC - A - Added fields DACAEDTL and DACAEDTS associated     */
*/*                with the EDT latch added for dynamic I/O          */
*/*                configuration, and two reserved fields.       @L3A*/
*/* IEFZB4IC - A - Added field DACAB445 to point to Allocation       */
*/*                Default table which is mapped by IEFZB445.        */
*/*              - Added field DACAEXIT to indicate that an          */
*/*                invalid action message has been issued for        */
*/*                an allocation user exit:                          */
*/*                - Added field DACAVLEQ to indicate that the       */
*/*                  invalid action message has been issued for      */
*/*                  the volume ENQ user exit.                       */
*/*                - Added field DACAVLMT to indicate that the       */
*/*                  invalid action message has been issued for      */
*/*                  the volume mount user exit.                     */
*/*                - Added field DACAOFFL to indicate that the       */
*/*                  invalid action message has been issued for      */
*/*                  the offline device user exit.                   */
*/*                - Added field DACASPEC to indicate that the       */
*/*                  invalid action message has been issued for      */
*/*                  the specific wait user exit.                @L2A*/
*/* IEFZB4IC - C - make DACAPEND a unit to allow serialization   @D2A*/
*/*                DACAPEND must be on a doubleword boundary     @D2A*/
*/* IEFZB4IC - C - make DACAHEAD a pointer to the first Pending  @D2A*/
*/*                Device Block and DACATAIL a pointer to the    @D2A*/
*/*                last Pending Device Block                     @D2A*/
*/* IEFZB4IC - C - Add DACPPOOL for Cell Pool ID for Pending     @D2A*/
*/*                Device Blocks                                 @D2A*/
*/* IEFZB4IC - C - Removed a flag to indicate devices pending in @D2A*/
*/*                the table in the Allocation Address Space.    @D2A*/
*/* IEFZB4IC - A - Add DACAB4CC for GETDSAB service              @T1A*/
*/* IEFZB4IC - C - Add DACDDMON for DD Monitor Service           @L1A*/
*/* IEFZB4IC - C - Moved the change activity in the assembler    @P1A*/
*/*                version out of the continuation column        @P1A*/
*/* IEFZB4IC - C - Changed a word to serialize on the device     @D1A*/
*/*                pending table.                                @D1A*/
*/* IEFZB4IC - C - Added a flag to indicate devices pending in   @D1A*/
*/*                the table in the Allocation Address Space.    @D1A*/
*                                                               01S0268
DACA     DSECT
DACAID   DC    CL4'DACA'            EBCDIC control block ID
DACAVER  DC    XL1'04'              Control block version number
*                                   If moved or deleted, update
*                                   the GETDSAB macro
*   DACALWAA DACAMSGT  are extra fields introduced by Types 3 and 4.
DACAEXIT DS    X                    Allocation user exit flags
DACAVLEQ EQU   X'80'                Invalid action msg flag for
*                                   the Volume ENQ user exit
DACAVLMT EQU   X'40'                Invalid action msg flag for
*                                   the Volume Mount user exit
DACAOFFL EQU   X'20'                Invalid action msg flag for
*                                   the Offline Device user exit
DACASPEC EQU   X'10'                Invalid action msg flag for
*                                   the Specific Wait user exit
DACAXES  DS    X                    flags to indicate state of the
*                                   IEFAUTOS XES structure
DACACONN EQU   X'80'                Connected to IEFAUTOS
DACAFCON EQU   X'40'                Connection to IEFAUTOS failed
*        DS    X                    RESERVED
*                                   Alignment to next fullword
DACAUCBP DS    F                    Address of dummy UCB
DACVTUSE DS    F                    Address of default use
*                                   attributes table
DACAB4C0 DS    A                    Entry point of IEFAB4C0
DACAB4C1 DS    A                    Entry point of IEFAB4C1
DACAB4C2 DS    A                    Entry point of IEFAB4C2
DACAB4C3 DS    A                    Entry point of IEFAB4C3
DACAB4C4 DS    A                    Entry point of IEFAB4C4
DACAB4C8 DS    A                    Entry point of IEFAB4C8
DACAB4EX DS    A                    Entry point of IEFAB4EX
DACDB475 DS    A                    Entry point of IEFDB475
DACDB476 DS    A                    Entry point of IEFDB476
DACDDMON DS    A                    Entry point of IEFAB4C9
DACAB445 DS    F                    Pointer to the allocation
*                                   default table which is mapped
*                                   by IEFZB445
DACPHOLD DS    XL4                  Serialize Pending Process
DACAPEND DS    0D                   Pending Device Chain
*                                   serialization block
DACAHEAD DS    F                    Pending Device Chain Head
DACATAIL DS    F                    Pending Device Chain Tail
DACPPOOL DS    CL4                  Cell Pool ID for Pending
*                                   Device Blocks cell pool
DACARES1 DS    F                    RESERVED - available for use
*                                   in HBB4430 and above.
DACAB4CC DS    A                    Entry point of IEFAB4CC If
*                                   moved or deleted, update the
*                                   GETDSAB macro
DACTIOCT DS    F                    Maximum number of total TIOTs,
*                                   counting both normal TIOTs and
*                                   extended TIOTs (XTIOTs)
DACAB4CE DS    A                    Entry point of IEFAB4CE
DACARES2 DS    A                    RESERVED - do not use
DACAEDTL DS    A                    Pointer to the EDT latch
DACAEDTS DS    A                    Ptr to EDT latch services
DACAB4MG DS    A                    Entry point of IEFAB4MG
DACAB4F3 DS    A                    Entry point of IEFAB4F3
*   DACALWAA DACAMSGT  are extra fields introduced by Types 3 and 4.
DACALWAA DS    A                    Different, if TSO, LWA+x'10'
DACAMSGT DS    A                    IEFAMSGT Allocation Message Table
DACALOKS DS    3FL8                 IEFAUTOS generic locks array
*                                   one for each generic list, 3 arrays
         ORG   DACALOKS
DACALTCB DS    A                    TCB of XES lock holder
DACALASI DS    H                    ASID of XES lock holder
DACAFLGS DS    H                    IEFAUTOS flags
DACALRBL EQU   X'08'                rebuild is active. This lock
*                                   is no longer held
DACALFAI EQU   X'04'                UNLOCK failed for this lock
*
         ORG
DACAB4EC DS    A                    Entry point of IEFAB4EC
DACAB4FX DS    A                    Entry point of IEFAB4FX
DACARES3 DS    A
         MEND  , */
*%DACA1 : ;
*   DECLARE                                                     01S0268
*     1    DACA     BASED(JESDACA), /* Device Allocation        01S0268
*                                      Communication Area            */
*       3    DACAID   CHAR(4),      /* EBCDIC control block ID       */
*       3    DACAVER  FIXED(8),     /* Control block version number
*                                      If moved or deleted, update
*                                      the GETDSAB macro         @T2C*/
*       3    DACAEXIT BIT(8),       /* Allocation user exit flags
*                                                                @L2A*/
*         5    DACAVLEQ BIT(1),     /* Invalid action msg flag for
*                                      the Volume ENQ user exit  @L2A*/
*         5    DACAVLMT BIT(1),     /* Invalid action msg flag for
*                                      the Volume Mount user exit
*                                                                @L2A*/
*         5    DACAOFFL BIT(1),     /* Invalid action msg flag for
*                                      the Offline Device user exit
*                                                                @L2A*/
*         5    DACASPEC BIT(1),     /* Invalid action msg flag for
*                                      the Specific Wait user exit
*                                                                @L2A*/
*       3    DACAXES  CHAR(1),      /* flags to indicate state of the
*                                      IEFAUTOS XES structure    @L6A*/
*         5    DACACONN BIT(1),     /* Connected to IEFAUTOS     @L6A*/
*         5    DACAFCON BIT(1),     /* Connection to IEFAUTOS failed
*                                                                @L6A*/
*       3    *        CHAR(1),      /* Reserved                  @L6C*/
*       3    DACDUCBP PTR(31),      /* Address of dummy UCB          */
*       3    DACVTUSE PTR(31),      /* Address of default use   01S0268
*                                      attributes table              */
*       3    DACAB4C0 PTR(31),      /* Entry point of IEFAB4C0       */
*       3    DACAB4C1 PTR(31),      /* Entry point of IEFAB4C1       */
*       3    DACAB4C2 PTR(31),      /* Entry point of IEFAB4C2       */
*       3    DACAB4C3 PTR(31),      /* Entry point of IEFAB4C3       */
*       3    DACAB4C4 PTR(31),      /* Entry point of IEFAB4C4       */
*       3    DACAB4C8 PTR(31),      /* Entry point of IEFAB4C8       */
*       3    DACAB4EX PTR(31),      /* Entry point of IEFAB4EX       */
*       3    DACDB475 PTR(31),      /* Entry point of IEFDB475       */
*       3    DACDB476 PTR(31),      /* Entry point of IEFDB476       */
*       3    DACDDMON PTR(31),      /* Entry point of IEFAB4C9   @L1C*/
*       3    DACAB445 PTR(31),      /* Pointer to the allocation
*                                      default table which is mapped
*                                      by IEFZB445               @L2A*/
*       3    DACPHOLD BIT(32),      /* Serialize Pending Process @D1C*/
*       3    DACAPEND BDY(DWORD),   /* Pending Device Chain serializ-
*                                      ation block               @D2A*/
*         5    DACAHEAD PTR(31),    /* Pending Device Chain Head @D2A*/
*         5    DACATAIL PTR(31),    /* Pending Device Chain Tail @D2A*/
*       3    DACPPOOL CHAR(4),      /* Cell Pool ID for Pending 01S0268
*                                      Device Blocks cell pool   @D2A*/
*       3    *        FIXED(31),    /* Reserved - available for use
*                                      in HBB4430 and above.     @01C*/
*       3    DACAB4CC PTR(31),      /* Entry point of IEFAB4CC If
*                                      moved or deleted, update the
*                                      GETDSAB macro             @T2C*/
*       3    DACTIOCT FIXED(31),    /* Maximum number of total TIOTs,
*                                      counting both normal TIOTs and
*                                      extended TIOTs (XTIOTs)   @T1A*/
*       3    DACAB4CE PTR(31),      /* Entry point of IEFAB4CE   @L5C*/
*       3    *        PTR(31),      /* Reserved - do not use     @P3C*/
*       3    DACAEDTL PTR(31),      /* Pointer to the EDT latch  @L3A*/
*       3    DACAEDTS PTR(31),      /* Ptr to EDT latch services @L3A*/
*       3    DACAB4MG PTR(31),      /* Entry point of IEFAB4MG   @P3M*/
*       3    DACAB4F3 PTR(31),      /* Entry point of IEFAB4F3   @P3M*/
*       3    DACALOKS(0:2),         /* IEFAUTOS generic locks array
*                                      one for each generic list @L7A*/
*        4    DACALTCB PTR(31),     /* TCB of XES lock holder    @L7A*/
*        4    DACALASI FIXED(16),   /* ASID of XES lock holder   @L7A*/
*        4    DACAFLGS FIXED(16),   /* IEFAUTOS flags            @L7A*/
*         5    DACALRBL BIT(1),     /* rebuild is active. This lock
*                                      is no longer held         @L7A*/
*         5    DACALFAI BIT(1),     /* UNLOCK failed for this lock
*                                                                @L7A*/
*       3    DACAB4EC PTR(31),      /* Entry point of IEFAB4EC   @L7A*/
*       3    DACAB4FX PTR(31),      /* Entry point of IEFAB4FX   @P7A*/
*       3    *        CHAR(0);      /* End of structure          @L3A*/
*   DECLARE                                                     01S0268
*     DACAACR  CHAR(4) CONSTANT('DACA'), /* Eye catcher ID           */
*     DACAVER1 BIT(8) CONSTANT('02'X); /* Version number         @T1C*/
*                                                               01S0268
