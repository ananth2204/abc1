*PROCESS M,OPT(TIME),S,GN;
 /*
//PGMVCI JOB 'IBI','V CHERNYAK',REGION=2M,NOTIFY=PGMVC,CLASS=A,
//        MSGCLASS=A,MSGLEVEL=(1,1)
//PROCLIB  JCLLIB ORDER=PGMVYC.REASM.PLI
//        EXEC PLIXCL,PARM.LKED='LET,NCAL'
//PLI.SYSIN     DD DSN=PGMVYC.REASM.PLI(REASLST),DISP=SHR
//PLI.SYSLIB    DD DSN=PGMVYC.REASM.PLI,DISP=SHR
//LKED.SYSLMOD  DD DSN=PGMVYC.REASM.SUBLOAD(REASLST),DISP=SHR
//
 */
 REASLST: PROC REORDER;
   DCL    SYSPRINT  PRINT,
          SYS       FILE INPUT RECORD,
          LINE      CHAR(200) VAR,
          F120      BIN FIXED(31) INIT(120),
          ISPLINK   EXT ENTRY OPTIONS(ASM INTER RETCODE),
          $TR       BIT(1) INIT('0'B),
          STRING    CHAR(120) INIT('');

   CALL ISPLINK ('VDEFINE ', 'STRING ', STRING, 'CHAR ', F120 );

   CLOSE FILE(SYSPRINT);

   ON TRANSMIT(SYS) BEGIN;
      ON TRANSMIT(SYS) SYSTEM;
      $TR = '1'B; GOTO L_ESYS;
   END;

   ON ENDFILE(SYS) GOTO L_ESYS;
   OPEN  FILE(SYS) TITLE('REAPRINT');
   DO WHILE('1'B);
      READ FILE(SYS) INTO(LINE);
      STRING = LINE;
      IF STRINGÂ¬='' THEN
         CALL ISPLINK ('LIST ', 'STRING ', F120, ' ', ' ', ' ', 'CC ');
   END;

 L_ESYS:
   CLOSE FILE(SYS);
   CALL ISPLINK ('VDELETE ', 'STRING  ');

   /*
   IF $TR THEN CALL ISPLINK ('SETMSG  ', 'REAS064 ');
   ELSE        CALL ISPLINK ('SETMSG  ', 'REAS079 ');
   */

   CLOSE FILE(SYSPRINT);
   OPEN FILE(SYSPRINT) TITLE('REAPRINT') PRINT;

 END REASLST;
