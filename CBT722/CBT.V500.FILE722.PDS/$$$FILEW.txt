 FILEWIZ COMPARE

 (C) 2005 RENAISSANCE DATA SYSTEMS INC.
          3325 LORNA ROAD 2-325
          BIRMINGHAM, AL  35216
          (205) 999-9012
          SHIRLEY HUHTANEN
          SHIRLEYWHO@AOL.COM


  THIS LIBRARY IS A SELF-CONTAINED UNIT AND CONTAINS ALL OF THE
  ELEMENTS NEEDED TO SET-UP THE FILE COMPARE PROGRAM AND JOBS.

 DESCRIPTION

   FILEWIZ IS A PROGRAM (JXCU001) THAT COMPARES 2 FILES.

   BOTH FILES ARE COPIED TO VB 12154 DATASETS SO THE COMPARE PROGRAM
   DOES NOT DO ANY SPECIAL ALLOCATIONS.  IF DATASETS WITH RECORDS
   LONGER THAN 12154 NEED TO BE COPIED, THE COMPARE PROGRAM AND JCL
   SHOULD BE MODIFIED ACCORDINGLY.

   DIFFERENCES ARE SHOWN IN A DIFFERENCE REPORT.
   DIFFERENCES ARE ALSO WRITTEN TO OUTPUT FILES THAT CAN BE
   USED FOR FURTHER ANALYSIS.

   THIS FILE COMPARE CAN'T COMPARE TEXT FILES LIKE PROGRAM SOURCE,
   SO IT IS BETTER TO USE SUPERC (IBM) OR ANOTHER COMPARE UTILITY
   TO COMPARE TEXT FILES.

   PROC JXPRU001 HAS STEPS TO COPY BOTH DATASETS TO THE VB 12154 FORMAT
   AND HAS SORTS FOR BOTH FILES.  THE FILE COMPARE REQUIRES THAT THE
   2 FILES BE SORTED ON A COMMON KEY, SO THE SORTS ARE INCLUDED IN THE
   PROC.  THIS MAY SEEM LIKE UNNECESSARY PROCESSING IF THE FILES TO BE
   COMPARED ARE ALREADY SORTED (LIKE VSAM KSDS FILES) BUT THIS ENDS UP
   SIMPLIFYING THE PROCESS WHEN COMPARING MANY DIFFERENT FILES.

   THE RECORDS THAT DO NOT MATCH ARE WRITTEN TO OUTPUT FILES.  THESE
   CAN BE USED AS INPUT FILES TO THIS JOB USING DIFFERENT SORTS AND
   MASKS THAN THE FIRST RUN.  IN THIS WAY, A COMPLEX COMPARE CAN BE
   BROKEN DOWN.  THE FIRST PASS WOULD BE THE MOST STRICT AND
   WOULD NOT USE ANY MASKS.  THE SECOND PASS MIGHT USE A COUPLE MASKS.

   TRAILING SPACES AND LOW-VALUES ARE NOT CONSIDERED IN THE COMPARE.
   IF THESE NEED TO BE COMPARED, CHANGE THE SORTS TO PUT AN 'X' OR
   OTHER NON-BLANK CHARACTER AT THE END OF THE FILE OR 1 POSITION
   AFTER THE FILE.    OUTREC FIELDS=(1:1:4,5:5,200,205:C'X')

   THE SORTS CAN BE USED TO BREAK DOWN A COMPLEX COMPARE.  IF A DATASET
   HAS MULTIPLE RECORD TYPES WITH DIFFERENT RECORD LAYOUTS, EACH
   RECORD TYPE CAN BE COMPARED SEPARATELY USING INCLUDE OR OMIT.
   THE SORTS CAN ALSO BE USED TO REFORMAT ONE OR BOTH FILES TO A COMMON
   RECORD LAYOUT.

   THERE ARE 3 KINDS OF MASKS THAT CAN BE USED.
     MASK      COMPLETELY MASKS THE DATA FOR THE OFFSET AND LENGTH
                  SPECIFIED
     SIGNMASK  ALLOWS UNSIGNED NUMERIC DATA TO MATCH POSITIVE SIGNED
                  DATA FOR PACKED DECIMAL AND ZONED DECIMAL FIELDS
     NULLMASK  ALLOWS SPACES TO MATCH TO LOW-VALUES FOR FILLER AREAS

   A REALLY NICE FEATURE IS THE COMPARE SUMMARY AT THE END OF THE
   DIFFERENCE REPORT.  YOU CAN TELL AT A GLANCE WHICH FIELDS DID
   NOT MATCH.  THIS SAVES YOU FROM HAVING TO BROWSE THROUGH EVERY
   DIFFERENCE IN THE REPORT TO SEE IF THE SAME FIELD WAS
   RESPONSIBLE FOR ALL THE DIFFERENCES.


 INVENTORY

   $$$DOC     DOC       INDEX MEMBER
   $$$FILEW   DOC       INSTALL INSTRUCTIONS
   CMFILE     JCL       JCL TO EXECUTE FILE COMPARE
   COB3CMP    JCL       COMPILE JCL FOR PROGRAM JXCU001
   HEXFL1     FILE      TEST FILE FOR COMPARE
   HEXFL2     FILE      TEST FILE FOR COMPARE
   JXCU001    PROGRAM   THE FILE COMPARE PROGRAM
   JXPRU001   PROC      THE PROC EXECUTED BY JCL MEMBER CMFILE
   JXREPRO1   CARD MBR  A CARD MEMBER FOR THE IDCAMS STEPS


 INSTALL PROCEDURE

 1.  MOVE JXCU001 TO PROGRAM SOURCE LIBRARY
     FIND WORK FIELDS THAT START WITH INST- AND SET THE VALUES.
       1. MAXIMUM LINES PER PAGE
            05  INST-LINES-PER-PAGE     PIC S9(3) COMP-3 VALUE +59.

       2. SET TO 'Y' IF RUNNING LE LANGUAGE ENVIRONMENT
            05  INST-CEE-SW                PIC X(01) VALUE 'Y'.
                88  INST-CEE                         VALUE 'Y'.
       3. SET TO 'Y' IF RUNNING IN MICROFOCUS COBOL
            05  INST-MF-COBOL-SW           PIC X(01) VALUE 'N'.
                88  INST-MF-COBOL                    VALUE 'Y'.
       4. SET TO 'E' IF EBCDIC CHARACTERS
          SET TO 'A' IF ASCII  CHARACTERS
            05  INST-CODE-TABLE            PIC X(01) VALUE 'E'.
                88  INST-EBCDIC                      VALUE 'E'.
                88  INST-ASCII                       VALUE 'A'.

 2.  COMPILE PROGRAM JXCU001
       USE MEMBER COB3CMP OR COMPILE INTO SOURCE MANAGEMENT SYSTEM USING
           A COBOL 370 COMPILER.  CALLED PROGRAMS ARE DYNAMIC.


 3.  MOVE JXPRU001 TO PROC LIBRARY
       CHANGE SYMBOLIC DEFAULTS
              CNTRL=  TO POINT TO CARD LIBRARY FOR IDCAMS REPRO
              RPT=    FOR OUTPUT REPORT CLASS
              SOUT=   FOR SYSOUT CLASS
              SDUMP=  FOR DUMP CLASS
       ADD STEPLIB IF NECESSARY TO STEP080 FOR PROGRAM JXCU001

 4.  MOVE JXREPRO1 TO CARD LIBRARY

 5.  SET UP COMPARE JCL MEMBER CMFILE
       CHANGE JOBCARD AND ADD A JOBLIB IF NECESSARY
       FOLLOW SETUP INSTRUCTIONS IN THE JCL
       MEMBERS HEXFL1 AND HEXFL2 CAN BE USED TO TEST THE JOB.



