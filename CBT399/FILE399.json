{"INMR01": {"INMLRECL": 80, "INMFNODE": "N1", "INMFUID": "SBGOLOB", "INMTNODE": "A", "INMTUID": "A", "INMFTIME": "20201220011926000000", "INMNUMF": 1}, "INMR02": {"1": {"INMUTILN": "IEBCOPY", "INMSIZE": 293930, "INMDSORG": "PO", "INMTYPE": "None", "INMLRECL": 80, "INMBLKSZ": 5600, "INMRECFM": "FB", "INMDIR": 6, "INMDSNAM": "CBT.V500.FILE399.PDS", "numfile": 1}, "2": {"INMUTILN": "INMCOPY", "INMSIZE": 293930, "INMDSORG": "PS", "INMLRECL": 32756, "INMBLKSZ": 3120, "INMRECFM": "VS", "numfile": 1}}, "INMR03": {"1": {"INMSIZE": 293930, "INMDSORG": "PS", "INMLRECL": 80, "INMRECFM": "?"}}, "file": {"CBT.V500.FILE399.PDS": {"COPYR1": {"type": "PDS", "DS1DSORG": 512, "DS1BLKL": 5600, "DS1LRECL": 80, "DS1RECFM": "FB", "DS1KEYL": 0, "DS1OPTCD": 0, "DS1SMSFG": 0, "file_tape_blocksize": 3120, "DVAOPTS": 12336, "DVACLASS": 32, "DVAUNIT": 15, "DVAMAXRC": 32760, "DVACYL": 3340, "DVATRK": 15, "DVATRKLN": 58786, "DVAOVHD": 0, "num_header_records": 2, "DS1REFD": "200354", "DS1SCEXT": "b'\\x00\\x00\\x00'", "DS1SCALO": "b'\\x80\\x00\\x00\\xbe'", "DS1LSTAR": "b'\\x00\\x06\\x04'", "DS1TRBAL": "b'\\x9er'"}, "COPYR2": {"deb": "b'\\x01\\x00\\x00\\x00\\xff\\x00\\x00\\x00\\x8f\\x03\\xb0\\x00\\x04\\x9a\\xc0\\xd8'", "extents": ["b'\\x01\\x00\\x00\\x00\\xff\\x00\\x00\\x00\\x8f\\x03\\xb0\\x00\\x04\\x9a\\xc0\\xd8'", "b'X\\xf4\\xfd\\xd0\\x00\\x00\\x02\\xd7\\x00\\x06\\x02\\xd7\\x00\\x0c\\x00\\x07'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'"]}, "members": {"$$INDEX": {"ttr": 516, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "$$INDEX.....THIS MEMBER\nMANUALL.....CLISTS AND AOF TABLE FROM JIM LANE OF MANUFACTURERS LIFE\n            LIFE INSURANCE COMPANY OF TORONTO, CANADA\n", "mimetype": "text/plain", "datatype": "iso-8859-1", "extension": ".txt"}, "MANUALL": {"ttr": 518, "alias": false, "halfwords": 0, "notes": 0, "parms": "b''", "ispf": false, "text": "./       ADD   NAME=$INDEX\n  AUTOCMDS - RE-ESTABLISH JES2 AUTOMATIC COMMANDS\n  CHKFILES - FIND OUT IF DATASETS NEEDED BY ONLINE SYSTEMS ARE MISSING\n  CJ       - CANCEL, HOLD AND REQUEUE A JOB\n  CLEANUP  - INITIATE DFHSM CLEANUP OF SCRATCH PACKS.\n  DATE     - CONVERT JULIAN DATE TO NICE FORMAT.\n  DCIDMS   - REPLIES TO WTOR TO BRING DOWN A VERSION OF IDMS\n  ECHO     - WRITE OUTPUT OF OSCMD TO OPER CONSOLE\n  HKPRT    - START PRINTERS IN HONG KONG.\n  HOTSTART - SHUT DOWN AND HOTSTART JES2.\n  IEC701D  - REPLY U TO A DATE PROTECTION MESSAGE\n  IEF238D  - REPLY WAIT FOR ALLOCATION RECOVERY\n  IEF433D  - REPLY NOHOLD FOR ALLOCTION RECOVERY\n  INITD    - SET INITIATORS TO DAYTIME CONFIGURATION\n  IPLBASIC - START THINGS UP AFTER AN IPL.\n  JESCMDS  - RE-ESTABLISH JES2 AUTOMATIC COMMANDS\n  J328XPRT - RESTART JES328X SUPPORTED REMOTES\n  OMEGAON  - START OMEGAMON SESSIONS\n  OMEGATAP - SETUP OMEGAMON FOR THE TAPE OPERATORS\n  ONLINES  - BRING UP ONLINE SYSTEMS WHEN NO IPL THIS AM.\n  PCIDMS   - REPLIES TO WTOR TO BRING DOWN A VERSION OF IDMS\n  RMTMSG   - SEND A MESSAGE WHEN A REMOTE JOB STARTS PRINTING\n  RMTSET   - HANDLE THE $HASP190 MESSAGE FOR JES328X REMOTES\n  RMTSTART - RESTART A PRINTER WHEN JES328X HAS A PROBLEM\n  SHUTCICS - SHUTDOWN A CICS SYSTEM.\n  SHUTDOWN - SHUTDOWN EVERYTHING.\n  SMFDUMP  - DUMP ANY FULL SMF DATASETS.\n  SPLCLEAN - CLEAN UP THE JUNK WHEN SPOOL % > 80.\n  STRTAUTO - START AUTOA AFTER TSSO COMES UP.\n  STRT328X - START JES328X AFTER AN IPL.\n  TOOLONG  - REFLECT THE $HASP308 MESSAGE BACK TO THE SUBMITTOR\n  UNAV     - WARN OPER THAT A JOB HAS UNAVAILABLE VOLUMES.\n  USTRIDMS - SHUT DOWN AN IDMS SYSTEM.\n./       ADD   NAME=AOFTABLE\nAOFV4R2  TABSTART ID=AOFV4R2\n*\n***********************************************************************\n* REPLY 'U' TO EXPIRY DATE PROTECTION. LET ACF2 HANDLE IT.\n***********************************************************************\n*\n         TABENTRY MSG=IEC507D,ACTION=REPLY,TEXT='U'\n*\n***********************************************************************\n* HILIGHT CERTAIN IO ERROR MESSAGES\n***********************************************************************\n*\n         TABENTRY MSG=IEC512I,ACTION=HILIGHT\n         TABENTRY MSG=IOS000I,ACTION=HILIGHT,                          X\n               TEST=((S,009,02,'FA'))\n         TABENTRY MSG=IOS000I,ACTION=HILIGHT,                          X\n               TEST=((S,009,02,'BC'))\n*\n***********************************************************************\n* SUPPRESS CERTAIN MESSAGES WHICH CANNOT BE SUPPRESSED WITH MPF\n***********************************************************************\n*\n         TABENTRY MSG=$HASP317,ACTION=SUPPRESS\n         TABENTRY MSG=$HASP632,ACTION=SUPPRESS\n*        TABENTRY MSG=ACTL13I,ACTION=LOWLIGHT\n         TABENTRY MSG=ARC0120I,ACTION=SUPPRESS\n         TABENTRY MSG=IEA989I,ACTION=SUPPRESS\n         TABENTRY MSG=IEE600I,ACTION=SUPPRESS\n         TABENTRY MSG=IEE704I,ACTION=SUPPRESS\n         TABENTRY MSG=IEE727I,ACTION=SUPPRESS\n         TABENTRY MSG=IEF196I,ACTION=SUPPRESS\n         TABENTRY MSG=IKJ56644,ACTION=SUPPRESS\n         TABENTRY MSG=IST197I,ACTION=SUPPRESS\n*        TABENTRY MSG=IST440I,ACTION=SUPPRESS\n         TABENTRY MSG=IST462I,ACTION=SUPPRESS\n*\n***********************************************************************\n* EXECUTE STRTAUTO CLIST AS SOON AS TSSO IS UP. THIS WILL STRAT AUTOA *\n* WHICH WILL START ALL ONLINES ETC                                    *\n***********************************************************************\n*\n         TABENTRY MSG=TSST060I,ACTION=OSCMD,                           X\n               TEXT='#STRTAUTO'\n*\n***********************************************************************\n* HILIGHT MESSAGE ABOUT JOB HELD FOR UNAVAILABLE VOLUMES.\n***********************************************************************\n*\n         TABENTRY MSG=DTM1462I,ACTION=OSCMD,                           X\n               TEXT='#UNAV \\W    03\\'\n*\n***********************************************************************\n* CLIST TO AUTOMATICALLY START CERTAIN JES2 REMOTES.\n***********************************************************************\n*\n         TABENTRY MSG=$HASP190,ACTION=OSCMD,                           X\n               TEST=((W,5,8,'R176.PR1',' ')),                          X\n               TEXT='#RMTSET \\W    05\\'\n         TABENTRY MSG=$HASP190,ACTION=OSCMD,                           X\n               TEST=((W,5,8,'R143.PR1',' ')),                          X\n               TEXT='#RMTSET \\W    05\\'\n         TABENTRY MSG=$HASP190,ACTION=OSCMD,                           X\n               TEST=((W,5,8,'R190.PR1',' ')),                          X\n               TEXT='#RMTSET \\W    05\\'\n         TABENTRY MSG=$HASP190,ACTION=OSCMD,                           X\n               TEST=((W,5,8,'R193.PR1',' ')),                          X\n               TEXT='#RMTSET \\W    05\\'\n         TABENTRY MSG=$HASP190,ACTION=OSCMD,                           X\n               TEST=((W,5,8,'R194.PR1',' ')),                          X\n               TEXT='#RMTSET \\W    05\\'\n*\n         TABENTRY MSG=IEC701D,ACTION=OSCMD,                            X\n               TEST=((S,011,02,'FA')),                                 X\n               TEXT='#IEC701D'\n*\n***********************************************************************\n* REPLY 'WAIT' TO 'DEVICE NAME, WAIT OR CANCEL'\n***********************************************************************\n*\n         TABENTRY MSG=IEF238D,ACTION=OSCMD,TEXT='#IEF238D',            X\n               TEST=((W,4,4,'WAIT',''''))\n         TABENTRY MSG=IEF238D,ACTION=OSCMD,TEXT='#IEF238D',            X\n               TEST=((W,5,4,'WAIT',''''))\n         TABENTRY MSG=IEF238D,ACTION=OSCMD,TEXT='#IEF238D',            X\n               TEST=((W,6,4,'WAIT',''''))\n         TABENTRY MSG=IEF238D,ACTION=OSCMD,TEXT='#IEF238D',            X\n               TEST=((W,7,4,'WAIT',''''))\n*\n***********************************************************************\n* REPLY 'NOHOLD' TO 'HOLD OR NOHOLD'\n***********************************************************************\n*\n         TABENTRY MSG=IEF433D,ACTION=OSCMD,TEXT='#IEF433D'\n*\n* SUPPRESS BOGUS I/O ERROR MSGS FROM BSC RJE LINES.\n*\n         TABENTRY MSG=$HASP094,ACTION=SUPPRESS,                        X\n               TEST=((W,5,5,'LINE3',' '))\n         TABENTRY MSG=$HASP094,ACTION=SUPPRESS,                        X\n               TEST=((W,5,5,'LINE4',' '))\n         TABENTRY MSG=$HASP094,ACTION=SUPPRESS,                        X\n               TEST=((W,5,5,'LINE8',' '))\n*\n* SUPPRESS HASP MESSAGES RELATED TO REMOTES\n*\n         TABENTRY MSG=$HASP200,ACTION=SUPPRESS,                        X\n               TEST=((W,2,3,'RMT',' '))\n         TABENTRY MSG=$HASP150,ACTION=SUPPRESS,                        X\n               TEST=((W,5,1,'R',' '))\n*\n*\n* SUPPRESS SOME TSSO GENERATED MESSAGES.\n*\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((S,001,05,'# OK '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((S,001,06,'READY '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((S,001,04,'END '))\n*\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((S,001,01,'+'),(S,018,11,' ) PRINTING'))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((S,001,01,'+'),(S,018,14,' ) WAITING FOR'))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((S,001,01,'+'),(S,036,14,' INTERVENTION '))\n*\n* SUPPRESS SOME IDMS MESSAGES\n*\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC001003',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC021003',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC081001',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC081017',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC171032',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC200036',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC201006',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC203005',' '))\n         TABENTRY MSG=*,ACTION=SUPPRESS,                               X\n               TEST=((W,001,05,'+IDMS',' '),(W,2,8,'DC204002',' '))\n*\n         TABENTRY MSG=*,ACTION=OSCMD,                                  X\n               TEST=((S,001,01,'+'),(S,036,14,' RU LENGTH ERR')),      X\n               TEXT='#RMTSTART RMT(''\\P014,03\\'')'\n*\n***********************************************************************\n* SUBMIT SYSJOB TO DUMP DFHSM LOG AFTER LOG SWITCHED\n***********************************************************************\n*\n         TABENTRY MSG=ARC0027I,ACTION=OSCMD,                           X\n               TEXT='S SYSJOB,JOB=HSMLDUMP'\n*\n***********************************************************************\n* START DFHSM CDS BACKUP WHEN CONTROL DATASETS FULL THRESHOLD REACHED\n***********************************************************************\n*\n         TABENTRY MSG=ARC0909I,ACTION=OSCMD,                           X\n               TEXT='F DFHSM,BACKVOL CDS'\n*\n         TABEND\n./       ADD   NAME=AUTOCMDS\nPROC 0\n/******************************************************************/\n/*  THIS CLIST ISSUES JES2 AUTOMATIC COMMANDS WHICH ARE ISSUED    */\n/*  BASED ON TIME INTERVAL. ALL OTHER AUTOMATIC COMMANDS CAN BE   */\n/*  ISSUED USING AUTOA                                            */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* SHOULD TAKE LESS THAN 5 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 5\nSET MAXCMDOUT = 0\nOSCMD $CA,ALL\nOSPAUSE 10\nOSCMD $TA,I=0180,'$VS,''D T'''\nOSCMD $TA,I=1800,'$RALL,R=R24,D=N5R1'\nOSCMD $TA,I=0300,'$DQ,R=R0'\nOSCMD $TA,I=0900,'$OT1-9999,Q=A,CANCEL'\nOSCMD $TA,I=0900,'$DBUFDEF'\nOSCMD $TA,I=0900,'$DCONDEF'\nOSCMD $TA,I=0900,'$DJOBDEF'\nOSCMD $TA,I=0900,'$DOUTDEF'\nOSCMD $TA,I=0900,'$DSMFDEF'\nOSCMD $TA,I=0900,'$DSPOOLDEF'\nOSCMD $TA,I=0900,'$DTPDEF'\nOSCMD $TA,I=3600,'$VS,''S SYSJOB,JOB=SVCDUMP'''\n./       ADD   NAME=CHKFILES\nPROC 0 JOB('PCICS')\nIF .&JOB = . THEN GOTO -TELL\nIF &JOB = PCICS THEN DO\n                     SET DSNAME = &STR(PTS.CICS.PROD.CNTL(PRODCICS))\n                     GOTO ALLOC\n                     END\nIF &JOB = HAWAII THEN DO\n                     SET DSNAME = &STR(PTS.CICS.PROD.CNTL(HAWAII))\n                     GOTO ALLOC\n                     END\nIF &JOB = DCICS THEN DO\n                     SET DSNAME = &STR(TTS.CICS.DVLP.CNTL(DVLPCICS))\n                     GOTO ALLOC\n                     END\nIF &JOB = USCICS THEN DO\n                     SET DSNAME = &STR(TTS.CICS.ULVL.CNTL(USCICS))\n                     GOTO ALLOC\n                     END\nIF &JOB = DCANCICS THEN DO\n                     SET DSNAME = &STR(TTS.CICS.DCAN.CNTL(DCANCICS))\n                     GOTO ALLOC\n                     END\nIF &JOB = UKCICS THEN DO\n                     SET DSNAME = &STR(PTS.CICS.PROD.CNTL(UKCICS))\n                     GOTO ALLOC\n                     END\nIF &JOB = PIDMS THEN DO\n                     SET DSNAME = &STR(IDMS.CNTL(IDMSCV1))\n                     GOTO ALLOC\n                     END\nIF &JOB = DIDMS THEN DO\n                     SET DSNAME = &STR(IDMS.CNTL(IDMSCV3))\n                     GOTO ALLOC\n                     END\nIF &JOB = USIDMS THEN DO\n                     SET DSNAME = &STR(IDMS.CNTL(IDMSCV4))\n                     GOTO ALLOC\n                     END\nIF &JOB = DCIDMS THEN DO\n                     SET DSNAME = &STR(TCS.IDMS.CNTL(DCIDMS))\n                     GOTO ALLOC\n                     END\nIF &JOB = PCIDMS THEN DO\n                     SET DSNAME = &STR(TCS.IDMS.CNTL(PCIDMS))\n                     GOTO ALLOC\n                     END\nOSWTO *** INVALID JOB NAME SPECIFED ****\nEXIT CODE (4)\nALLOC: +\nFREE FI(JCLIN)\nALLOC F(JCLIN) DA('&DSNAME')\nOPENFILE JCLIN INPUT\nSET RC = 0\nERROR DO\n        GOTO EOJ\n      END\nLOOP1:+\n  GETFILE  JCLIN\n  IF &SUBSTR(3:3,&JCLIN) = &STR(*) THEN GOTO LOOP1\n  SET LEN = &LENGTH(&STR(&JCLIN))\n  SET I = 4\n/* CONTROL LIST SYMLIST CONLIST */\n  DO WHILE (&I < &LEN - 3)\n  IF &SUBSTR(&I:&I+4,&JCLIN) = &STR(DUMMY) THEN GOTO LOOP1\n  IF &SUBSTR(&I:&I+3,&JCLIN) = &STR(DSN=) AND  +\n     &SUBSTR(&I+4:&I+4,&JCLIN) \u00ac= &STR(&&) THEN +\n     DO\n        SET J = &I + 4\n        SET K = &I + 4\n        DO WHILE (&K < &LEN)\nIF &SUBSTR(&K:&K,&JCLIN) =  &STR(+) THEN GOTO LOOP1\nIF &SUBSTR(&K:&K+1,&JCLIN) = &STR((0) THEN GOTO LOOP1\nIF &SUBSTR(&K:&K,&JCLIN) = &STR(&&) THEN GOTO LOOP1\nIF &SUBSTR(&K:&K,&JCLIN) =  | &SUBSTR(&K:&K,&JCLIN) = &STR(,) THEN +\n           DO\n             SET DSN = &SUBSTR(&J:&K-1,&JCLIN)\n/*           WRITE *** &JOB ***    &DSN       */\n             STATE &DSN\n             IF &LASTCC \u00ac= 0 THEN +\n                             DO\n                             OSWTOH *** &JOB FILE NOT FOUND  &DSN ***\n                             SET RC = 4\n                             END\n             GOTO LOOP1\n           END\n        SET K = &K + 1\n     END\n     END\n  SET I = &I + 1\n  END\nGOTO LOOP1\nEOJ: +\nCLOSFILE JCLIN\nFREE FI(JCLIN)\nIF &RC = 0 THEN +\n     DO\n     OSWTOH *** CHKFILES CLIST SUCCESSFULLY COMPLETED FOR &JOB ***\n     EXIT CODE (0)\n     END\nOSWTOH *** SOME FILES NOT FOUND FOR &JOB ***\nOSWTOH *** PLEASE CHECK PREVIOUS MESSAGES FOR FILE NAMES ***\nEXIT CODE (4)\nTELL: +\nOSWTO NO DSNAME SPECIFIED\nOSWTO CORRECT FORMAT IS *** CHKFILES JOB(NAME) ***\nEXIT CODE (4)\n./       ADD   NAME=CJ\nPROC 1 JOB\nWRITE *COM1 $HJ&JOB\nWRITE *COM1 $EJ&JOB\nWRITE *COM1 $CJ&JOB\nEND\n./       ADD   NAME=CLEANUP\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED BY OPERATORS INCASE TSSO OR THE SYSTEM */\n/*  IS DOWN WHEN SCRATCH PACKS ARE NORMALLY CLEANED UP AT 4:30 PM */\n/*                                                                */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* SHOULD TAKE LESS THAN 5 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 5\nSET MAXCMDOUT = 0\nOSCMD F DFHSM,MIGRATE VOL(SCRCHA DELETEBYAGE(0)) UNIT(3380)\nOSCMD F DFHSM,MIGRATE VOL(SCRCHB DELETEBYAGE(0)) UNIT(3380)\nOSCMD F DFHSM,MIGRATE VOL(SCRCHC DELETEBYAGE(0)) UNIT(3380)\nOSCMD F DFHSM,MIGRATE VOL(SCRCHD DELETEBYAGE(0)) UNIT(3380)\n./       ADD   NAME=DATE\nPROC 0\n/******************************************************************/\n/*  THIS CLIST ISSUES D T COMMAND AND CONVERTS CYCLIC DATE TO     */\n/*  A MORE READABLE FORMAT.                                       */\n/******************************************************************/\n/* SET TO MAX TO GET ALL OUTSTANDING REPLIES                      */\nSET MAXCMDOUT = 200\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nOSCMD D T\n/* IGNORE FIRST LINE                                              */\nSET TIME = &CMDOUT2W3\nSET DATE = &CMDOUT2W6\nSET YEAR = &SUBSTR(1:2,&DATE)\nSET Y1 = &YEAR/4\nSET LEAP = &YEAR - &Y1*4\nIF &LEAP > 0 THEN SET LEAP = 0\n             ELSE SET LEAP = 1\nSET JAN = 31\nSET FEB = &JAN + 28 + &LEAP\nSET MAR = &FEB + 31\nSET APR = &MAR + 30\nSET MAY = &APR + 31\nSET JUN = &MAY + 30\nSET JUL = &JUN + 31\nSET AUG = &JUL + 31\nSET SEP = &AUG + 30\nSET OCT = &SEP + 31\nSET NOV = &OCT + 30\nSET DEC = &NOV + 31\nSET DAYS = &SUBSTR(4:6,&DATE)\nIF &DAYS <= &JAN THEN DO\n           SET DATE = &DAYS\n           SET NEWDATE = &STR(&DATE) &STR(JAN) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &FEB THEN DO\n           SET DATE = &DAYS - &JAN\n           SET NEWDATE = &STR(&DATE) &STR(FEB) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &MAR THEN DO\n           SET DATE = &DAYS - &FEB\n           SET NEWDATE = &STR(&DATE) &STR(MAR) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &APR THEN DO\n           SET DATE = &DAYS - &MAR\n           SET NEWDATE = &STR(&DATE) &STR(APR) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &MAY THEN DO\n           SET DATE = &DAYS - &APR\n           SET NEWDATE = &STR(&DATE) &STR(MAY) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &JUN THEN DO\n           SET DATE = &DAYS - &MAY\n           SET NEWDATE = &STR(&DATE) &STR(JUN) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &JUL THEN DO\n           SET DATE = &DAYS - &JUN\n           SET NEWDATE = &STR(&DATE) &STR(JUL) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &AUG THEN DO\n           SET DATE = &DAYS - &JUL\n           SET NEWDATE = &STR(&DATE) &STR(AUG) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &SEP THEN DO\n           SET DATE = &DAYS - &AUG\n           SET NEWDATE = &STR(&DATE) &STR(SEP) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &OCT THEN DO\n           SET DATE = &DAYS - &SEP\n           SET NEWDATE = &STR(&DATE) &STR(OCT) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nIF &DAYS <= &NOV THEN DO\n           SET DATE = &DAYS - &OCT\n           SET NEWDATE = &STR(&DATE) &STR(NOV) &STR(&YEAR)\n           GOTO WTRMSG\n           END\nSET DATE = &DAYS - &NOV\nSET NEWDATE = &STR(&DATE) &STR(DEC) &STR(&YEAR)\nWTRMSG: +\nOSASK PLEASE VERIFY THE DATE ** &NEWDATE ** AND REPLY 'GO',     IF +\n  THE DATE IS WRONG, PLEASE RE-IPL THE SYSTEM\nIF &SUBSTR(1:2,&REPLY) = GO THEN GOTO EXIT0\nGOTO WTRMSG\nEXIT0: +\nEXIT CODE(0)\n./       ADD   NAME=DCIDMS\nPROC 0\n/******************************************************************/\n/*  THIS CLIST AUTOMATICALLY REPLIES TO THE OUTSTANDING REPLY     */\n/*  FOR DCIDMS. NORMALLY THIS WILL BE EXECUTED BY AUTO AT         */\n/*  PREDEFINED TIME (19:00). THE PROCESSING INVOLVES ISSUEING     */\n/*  'D R,L' COMMAND AND SCANNING THE OUTPUT FOR THE DCIDMS        */\n/*  VERSION ID V12. IT THEN REPLIES 'SHUTDOWN' FOR THAT REPLY     */\n/*  ID.                                                           */\n/*  MAINTENANCE LOG                                               */\n/*  ===============                                               */\n/*  WHO      WHEN                     WHAT                        */\n/*  ---      ----                     ----                        */\n/*                                                                */\n/*  MIKEW    JAN 12/86   ADD TRIGGER FOR UCC7                     */\n/******************************************************************/\n/* SET TO MAX TO GET ALL OUTSTANDING REPLIES                      */\nSET MAXCMDOUT = 200\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nOSCMD D R,L\n/* IGNORE FIRST 4 LINES FROM D R,L                                */\nSET I = 5\n/* SCAN THRU REST OF RESPONSE LINES                               */\nDO WHILE (&I <= &CMDOUT)\n/* GET NUMBER OF WORDS IN THE REPLY                               */\nSET WORDS =  &&CMDOUT&I.W\n/* TEST FOR DCIDMS ONLY IF >= 9 WORDS                             */\nIF &WORDS >= 9  THEN +\n  DO\n/* GET VERSION NUMBER                                             */\n  SET VERSION = &&CMDOUT&I.W9\n  SET PGM     = &&CMDOUT&I.W8\n/* IS IT DCIDMS ??                                                */\n  IF &STR(&VERSION) = &STR(V12) AND &STR(&PGM) = &STR(IDMS) THEN +\n      DO\n      SET REPLYID = &&CMDOUT&I.W1\n      SET MAXCMDOUT = 0\n      OSCMD R &REPLYID,SHUTDOWN\n      OSPAUSE 60\n      OSCMD S DCIDMSTR\n      OSPAUSE 10\n      OSWTO UCC7 TRIGGER JOB DCIDMSTR HAS BEEN STARTED\n      EXIT CODE(0)\n      END\n  END\nSET I = &I + 1\nEND\nOSWTOH DCIDMS IS NOT ACTIVE\nEXIT CODE(0)\n./       ADD   NAME=ECHO\nPROC 0 CMD()\nCONTROL LIST CONLIST SYMLIST\nSET MAXCMDOUT = 5\nSET CMDWAIT   = 1\nOSCMD &CMD\nSET I = 1\nDO WHILE (&I <= &CMDOUT)\n   SET O = &&CMDOUT&I\n   OSWTO &O\n   SET I = &I + 1\nEND\nEXIT CODE(0)\n./       ADD   NAME=EXASK\n         PROC 0\n         /****************************************************/\n         /* THIS CLIST WILL PROVIDE AN EXAMPLE OF THE OSASK  */\n         /* FACILITY OF TSSO.                                */\n         /****************************************************/\n\n         /* FIRST, FIND OUT IF THE OPERATOR IS READY TO PROCEED */\n         /* SET A TIME LIMIT OF 30 SECONDS...                   */\n         SET REPLYWAIT = 30\n\n         STARTAGN: +\n         OSASK ARE YOU READY TO PROCEED\n\n         IF &REPLY = NOREPLY THEN GOTO TIMEDOUT\n         IF &REPLY = NO THEN GOTO ENDPROG\n         IF &REPLY \u00ac= YES THEN GOTO CONFUSED\n\n         OSASK GREAT ! WHAT TASK(S) ARE YOU TRYING TO PERFORM ?\n\n         /* UP TO 6 ITEMS MAY BE ENTERED ON THE RESPONSE LINE. THE */\n         /* OSASK COMMAND PARSES THE OPERATOR RESPONSE INTO CLIST  */\n         /* VARIABLES. WE WILL LOOP THROUGH, SUPPLYING THE OPERATOR*/\n         /* WITH THE NEEDED ANSWERS.                               */\n\n         IF &REPLY = NOREPLY THEN GOTO TIMEDOUT\n         SET COUNT = &REPLYW\n\n         SET I = 1\n         DO WHILE (&I <= &COUNT)\n\n           SET VAR = &&REPLYW&I       /* GET THE I'TH WORD */\n\n           IF &VAR = IPL THEN LIST 'SYS1.HELPOPER(IPL)'\n           ELSE IF &VAR = SHUTDOWN THEN LIST 'SYS1.HELPOPER(SHUTDOWN)'\n           ELSE IF &VAR = STARTNET THEN LIST 'SYS1.HELPOPER(STARTNET)'\n           /* MANY OTHER ENTRIES MAY BE PLACED HERE ...    */\n           ELSE OSWTO   THERE IS NOT HELP FOR \"&VAR\"\n\n           SET I = &I + 1\n         END\n         GOTO  ENDPROG\n\n         CONFUSED: +\n           OSWTOH ANSWER YES OR NO...\n           GOTO STARTAGN\n\n         TIMEDOUT: +\n           OSWTO HELP FACILITY TIMING OUT - REINVOKE WHEN YOU HAVE MORE\n           OSWTO TIME.\n           GOTO  ENDPROG\n\n         ENDPROG: +\n           OSWTO GOODBYE.\n           EXIT\n./       ADD   NAME=EXCHKSPL\n        PROC 0\n        /***********************************************************/\n        /* THIS CLIST WILL ISSUE A JES2 COMMAND TO DISPLAY TO      */\n        /* SPOOL UTILIZATION. IF THE SPOOL UTILIZATION IS          */\n        /* ABOVE 80%, THE CLIST WILL ISSUE A HILIGHTED MESSAGE     */\n        /* TO THE OPERATOR. OTHERWISE, IT WILL ISSUE AN ORDINARY   */\n        /* MESSAGE INDICATING HOW BUSY THE SPOOL IS. IT UTILIZES   */\n        /* THE COMMAND TRAPPING FACILITIES IN TSSO 4.2             */\n        /*                                                         */\n        /***********************************************************/\n\n        /*************************************************************/\n        /* THE FIRST STEP IS THE SETTING OF MAXCMDOUT. SINCE THE     */\n        /* EXPECTED COMMAND RESPONSE IS 3 LINES, WE SET MAXCMDOUT = 3*/\n        /*************************************************************/\n        SET MAXCMDOUT = 3\n\n\n        /*************************************************************/\n        /* NEXT, WE DECIDE HOW LONG THE CLIST SHOULD WAIT FOR THE    */\n        /* COMMAND. 1 SECOND IS PLENTY FOR THIS JES COMMAND.         */\n        /*************************************************************/\n        SET CMDWAIT = 1\n\n\n        /*************************************************************/\n        /* NOW THAT THE TWO INPUT VARIABLES ARE SET UP, WE WILL      */\n        /* ISSUE THE OSCMD COMMAND. THE RESPONSE WILL BE PLACED IN   */\n        /* CLIST VARIABLES.                                          */\n        /*************************************************************/\n           OSCMD $DSPOOL\n\n        /*************************************************************/\n        /* THE EXPECTED COMMAND RESPONSE LOOKS LIKE THIS.            */\n        /* $DSPOOL                                                   */\n        /* $HASP646 XX PERCENT SPOOL UTILIZATION.\n        /*                                                           */\n        /* NOTE THAT LINE1 IS ALWAYS AN ECHO OF THE ORIGINAL COMMAND */\n        /*************************************************************/\n\n        /*************************************************************/\n        /* IF WE DO NOT GET BACK AT LEAST 2 LINES OF RESPONSE, THEN  */\n        /* AN ERROR HAS OCCURRED. WRITE A MESSAGE TO THE OPERATOR    */\n        /* AND TERMINATE.                                            */\n        /*************************************************************/\n           IF &CMDOUT < 2 THEN +\n           DO\n             OSWTOH PROBLEM WITH THE CHKSPL COMMAND - CONTACT SUPPORT\n             EXIT CODE(12)\n           END\n\n        /*************************************************************/\n        /* ASSUMING EVERYTHING WENT OK WITH THE COMMAND, THE RESPONSE*/\n        /* IS RETURNED IN THE SECOND WORD OF THE SECOND LINE OF THE  */\n        /* MESSAGE. TSSO HAS ALREADY PARSED THE MESSAGE. WE PICK UP  */\n        /* THE UTILIZATION.                                          */\n        /*                                                           */\n        /*************************************************************/\n           SET UTIL = &CMDOUT2W2\n\n\n        /*************************************************************/\n        /* NOW, WE LOOK AT THE SPOOL UTILIZATION, AND DETERMINE IF   */\n        /* IT IS GREATER THE 80%. IF SO, SEND A HILIGHTED MESSAGE.   */\n        /*                                                           */\n        /*************************************************************/\n           IF &UTIL > 80 THEN +\n           DO\n              OSWTOH SPOOL UTILIZATION IS &UTIL - CONTACT JES2 SUPPORT\n           END\n           ELSE +\n           DO\n              OSWTO  SPOOL UTILIZATION IS &UTIL PERCENT.\n           END\n./       ADD   NAME=EXJOBS\n         PROC 1 JNAME\n        /*************************************************************/\n        /* THIS CLIST WILL DISPLAY ALL JOBS THAT START WITH A GIVEN  */\n        /* CHARACTER STRING. THE STRING IS PASSED TO THE CLIST AS A  */\n        /* PARAMETER. THE CLIST WILL ISSUE A OSCMD $DN, AND SCAN THE */\n        /* OUTPUT FOR JOBS THAT START WITH THE GIVEN STRING.         */\n        /*************************************************************/\n\n        SET MAXCMDOUT = 200\n        /*************************************************************/\n        /* WE WISH TO TRAP AS MANY LINES OF OUTPUT AS JES WOULD CARE */\n        /* TO PROVIDE, THEREFORE, SET MAXCMDOUT TO THE MAX - 200     */\n        /*************************************************************/\n\n        SET CMDWAIT = 1\n        /*************************************************************/\n        /* THE JES COMMAND SHOULD ONLY TAKE 1 SECOND OR LESS, SO     */\n        /* SET THE CMDWAIT VARIABLE TO 1.                            */\n        /*************************************************************/\n\n        OSCMD $DN,Q=XEQ\n        /*************************************************************/\n        /* ISSUE THE $DN JES COMMAND. THIS WILL POPULATE CLIST VARS  */\n        /* WITH THE OUTPUT FROM THIS COMMAND.                        */\n        /*************************************************************/\n\n        /*************************************************************/\n        /* SINCE THE OSCMD COMMAND ALWAYS RETURNS AN ECHO OF THE     */\n        /* COMMAND AS THE FIRST LINE, START WITH THE SECOND LINE.    */\n        /*************************************************************/\n        SET I = 2\n        SET COUNT = 0\n\n        /*************************************************************/\n        /* WE NEED TO LOOP BETWEEN THE SECOND LINE, AND THE \"LAST\"   */\n        /* LINE, CONVIENTLY STORED IN &CMDOUT VARIABLE.              */\n        /*************************************************************/\n        DO WHILE (&I <= &CMDOUT - 1)\n        /*************************************************************/\n        /* NOTE THAT THE $DN RESPONSE INCLUDES THE SPOOL UTILIZATION */\n        /* AS THE LAST LINE. WE WILL IGNORE IT.                      */\n        /*************************************************************/\n\n        SET LJNAME = &LENGTH(&JNAME)\n\n        /*************************************************************/\n        /* THE JOBNAME IS RETURNED IN THE SECOND WORD OF EACH LINE.  */\n        /*************************************************************/\n        SET JESJOB = &&CMDOUT&I.W2\n        SET LJ = &LENGTH(&JESJOB)\n\n\n        IF &LJ > &LJNAME THEN +\n        DO\n         IF &SUBSTR(1:&LJNAME,&JESJOB) = &JNAME THEN +\n         DO\n         /*************************************************************/\n         /* WE HAVE FOUND A JOBNAME THAT STARTS WITH THE JOB. WE WILL */\n         /* DISPLAY THE ENTIRE LINE.                                  */\n         /*************************************************************/\n            SET OUT = &STR(&&CMDOUT&I)\n            WRITE &STR(&OUT)\n            SET COUNT = &COUNT + 1\n         END\n        END\n\n        SET I = &I + 1\n        END\n\n        WRITE &COUNT JOBS FOUND.\n        EXIT CODE(0)\n./       ADD   NAME=EXSTVTAM\n            PROC 0\n        /*************************************************************/\n        /* THIS CLIST WILL START THE ADDRESS SPACES RELATING TO      */\n        /* VTAM. THESE INCLUDE NCCF, VPS AND OMEGAMON. THIS CLIST    */\n        /* IS NORMALLY KICKED OFF AT IPL TIME BY AN AOF TABLE ENTRY  */\n        /* SUCH AS THE FOLLOWING                                     */\n        /*                                                           */\n        /*  TABENTRY MSG=IST020I,ACTION=OSCMD,TEXT=#STRTVTAM         */\n        /*                                                           */\n        /* THE IST020I MESSAGE IS FOR VTAM INITIALIZATION COMPLETED. */\n        /*                                                           */\n        /*                                                           */\n        /*************************************************************/\n        /*************************************************************/\n        /* NOTE THAT WE ARE NOT INTERESTED IN GETTING THE RESPONSE   */\n        /* BACK TO ANY OF THESE MVS COMMANDS. THEREFORE, WE DO NOT   */\n        /* SET THE MAXCMDOUT OR CMDWAIT VARIABLES.                   */\n        /*************************************************************/\n            OSCMD $SLOGON1       /* START JES/VTAM CONNECT */\n\n            OSCMD START TSO      /* START TSO              */\n\n            OSCMD START NCCF     /* START NCCF             */\n\n            OSCMD S OMVTAM,PREFIX='OMEGA.V652',APPL=OMR4\n\n\n            OSCMD START GDDMPRT     /* START ADMPRT ADDRESS SPC */\n\n            OSCMD START VPS         /* AND START VPS AS WELL    */\n            OSPAUSE 5                     /* DELAY 5 SECONDS          */\n            OSCMD VARY NET,ACT,ID=VPS     /* AND VARY IN TO VTAM      */\n            OSWTOH IPL0004I NETWORKING ADDRESS SPACES HAVE BEEN\n            OSWTOH IPL0004I (CONT) STARTED.\n./       ADD   NAME=HKPRT\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS USED EVERY EVENING (19:00) TO START HK PRINTERS */\n/*  NORMALLY IT WILL BE EXCUTED BY AUOTA                          */\n/******************************************************************/\n/*  CONTROL LIST CONLIST SYMLIST     ***/\nSET MAXCMDOUT = 10\nSET CMDWAIT   = 1\nREPLY MSG(JES328X) TEXT('S GEBP')\nOSPAUSE 10\nREPLY MSG(JES328X) TEXT('S ACAP')\nOSPAUSE 10\nREPLY MSG(JES328X) TEXT('S ACAQ')\nOSPAUSE 10\nREPLY MSG(JES328X) TEXT('S HLAP')\nOSPAUSE 10\nREPLY MSG(JES328X) TEXT('S UCAP')\nOSPAUSE 10\nREPLY MSG(JES328X) TEXT('S PCAP')\nEXIT\n./       ADD   NAME=HOTSTART\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS USED EVERY MORNING TO HOT START JES2            */\n/*                                                                */\n/*  IT DOES FOLLOWING THINGS                                      */\n/*  RUNS SHUTDOWN JOB                                             */\n/*  SHUT DOWN JES328X/US328X                                      */\n/*  BRINGS DOWN JES2                                              */\n/*  RESTART JES2                                                  */\n/*  RESTART SYSLOG                                                */\n/*  START LINES (JESLNES)                                         */\n/*  START JES328X/US328X                                          */\n/******************************************************************/\n/*  CONTROL LIST CONLIST SYMLIST     ***/\nSET MAXCMDOUT = 10\nSET CMDWAIT   = 1\nOSCMD S SYSJOB,JOB=SHUTDOWN\nREPLY MSG(JES328X) REPLY('P')\nREPLY MSG(US328X) REPLY('P')\n/* WAIT FOR JES328X AND US328X TO GO DOWN         */\nSET I = 1\nDO WHILE (&I <= 180)\n  OSCMD D J,JES328X\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CHKUS8X\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH JES328X DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR HOT START\nEXIT CODE (4)\nCHKUS8X: +\nSET I = 1\nDO WHILE (&I <= 180)\n  OSCMD D J,US328X\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO ENDJES2\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH US328X DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR HOT START\nEXIT CODE (4)\nENDJES2: +\n   SET MAXCMDOUT = 0\n   OSCMD $PJES2,ABEND\n   OSPAUSE 5\n   REPLY MSG($HASP098) TEXT('EXIT')\n   SET I = 1\n   DO WHILE (&I <= 25)\n      SET MAXCMDOUT = 5\n      OSCMD D J,JES2\n      SET STATUS1 = &CMDOUT5W2\n      SET STATUS2 = &CMDOUT5W3\n      IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO STARTJES\n      OSPAUSE 5\n      SET I = &I + 1\n   END\nOSWTOH JES2 DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR HOT START\nEXIT CODE (4)\nSTARTJES: +\n  SET MAXCMDOUT = 0\n  OSCMD S JES2\n  OSPAUSE 10\n  REPLY MSG($HASP469) TEXT('END')\n  OSPAUSE 25\n  OSCMD W START\n  OSPAUSE 5\n  OSCMD S SYSJOB,JOB=JESLNES\n  OSPAUSE 5\n  OSCMD S JES328X\n  OSPAUSE 5\n  OSCMD S US328X\n  OSPAUSE 50\n  OSCMD #AUTOCMDS\n  OSWTOH *** HOTSTART CLIST SUCCESSFULLY COMPLETED ***\nEXIT CODE (0)\n./       ADD   NAME=IEC701D\nPROC 0\nOSPAUSE 15\nWRITE *COM #REPLY MESSAGE(IEC701D) TEXT('M')\nEND\n./       ADD   NAME=IEF238D\nPROC 0\nWRITE *COM3 #REPLY MESSAGE(IEF238D) TEXT('WAIT')\nEND\n./       ADD   NAME=IEF433D\nPROC 0\nWRITE *COM3 #REPLY MESSAGE(IEF433D) TEXT('NOHOLD')\nEND\n./       ADD   NAME=IPLBASIC\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED BY AUTOA RIGHT AFTER AN IPL            */\n/*                                                                */\n/*  IT FIRST CHECKS IF NET IS ACTIVE. IF SO ASKS THE OPERATOR IF  */\n/*  HE WANTS TO CONTINUE THE CLIST (SINCE NET BEING UP MAY MEAN   */\n/*  SOMEBODY STARTED THIS CLIST ACCIDENTLY).                      */\n/*  IT THEN PROMPTS THE OPERATOR TO START ANY SUBSYSTEMS REQUIRING*/\n/*  SPECIAL STARTUP PROCEDURE E.G. NET, PCICS ETC. AND THE REPLY  */\n/*  'GO'. ONCE OPERATOR REPLIES, THE CLIST STARTS REST OF THE     */\n/*  SUBSYSTEMS IF THEY ARE NOT ALREADY STARTED.                   */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST  */\n/* MAXIMUM OF 10 LINES EXPECTED FROM D J,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\n/******************************************************************/\n/*                                                                */\n/* SEE IF NET IS ACTIVE. IF SO ASK OPERATOR IF HE WANTS TO PROCEED*/\n/* BECAUSE THIS MAY MEAN ITS BEING STARTED BY MISTAKE.            */\n/*                                                                */\n/******************************************************************/\n  OSCMD D J,NET\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CONTINUE\n  ASK: +\n  OSASK NET IS ALREADY UP...DO YOU WANT TO CONTINUE AUTOMATIC +\n        STARTUP ? REPLY 'GO' TO CONTINUE 'CANCEL' TO STOP.\n  IF &REPLY = GO THEN GOTO CONT2\n  IF &REPLY = NOREPLY THEN GOTO ASK\n  IF &REPLY \u00ac= CANCEL THEN GOTO ASK\n  EXIT CODE(4)\n/******************************************************************/\n/*                                                                */\n/* NOW ASK THE OPERATOR TO START NET IF IT NEEDS SPECIAL STARTUP  */\n/*                                                                */\n/******************************************************************/\nCONTINUE: +\nOSASK REPLY 'GO' IF NO SPECIAL STARTUP PROCEDURES FOR NET ELSE FIRST +\nSTART NET AND THEN REPLY 'GO'\n  IF &REPLY = GO THEN GOTO CONT1\n  IF &REPLY = NOREPLY THEN GOTO CONTINUE\n  IF &REPLY \u00ac= CANCEL THEN GOTO CONTINUE\n  EXIT CODE(4)\n/******************************************************************/\n/*                                                                */\n/* SEE IF OPERATOR STARTED NET. IF NOT START IT.                  */\n/*                                                                */\n/******************************************************************/\nCONT1: +\n  OSCMD D J,NET\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO STARTNET\n  GOTO CONT2\n/******************************************************************/\n/*                                                                */\n/* START NET                                                      */\n/*                                                                */\n/******************************************************************/\nSTARTNET: +\nOSCMD S NET\n/******************************************************************/\n/*                                                                */\n/* NOW START REST OF THE SUBSYSTEMS IT NOT ALREADY STARTED        */\n/* FIRST WAIT FOR NET TO BE INITIALIZED                           */\n/*                                                                */\n/******************************************************************/\nCONT2: +\nOSPAUSE 60\nOSCMD D J,DFHSM\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DFHSM\nOSCMD S DFHSM\n/******************************************************************/\nDFHSM: +\nOSPAUSE 60\nOSCMD D J,UCOM\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO UCOM\nOSCMD S UCOM\n/******************************************************************/\nUCOM: +\nOSPAUSE 60\nOSCMD D J,TSO\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO TSO\nOSCMD S TSO\n/******************************************************************/\nTSO: +\nOSCMD D J,NPA\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO NPA\nOSCMD S NPA\n/******************************************************************/\nNPA: +\nOSCMD D J,UCC7\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO UCC7\nOSCMD S UCC7\n/******************************************************************/\nUCC7: +\nOSCMD D J,NCCF\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO NCCF\nOSCMD S NCCF\n/******************************************************************/\nNCCF: +\nOSCMD D J,SIM3278\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO SIM3278\nOSCMD S SIM3278\n/******************************************************************/\nSIM3278: +\nOSCMD D J,SIMCAN\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO SIMCAN\nOSCMD S SIMCAN\n/******************************************************************/\nSIMCAN: +\nOSCMD D J,TPX\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO TPX\nOSCMD S TPX\n/******************************************************************/\nTPX: +\nOSCMD D J,PHOENIX\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PHOENIX\nOSCMD S PHOENIX\n/******************************************************************/\nPHOENIX: +\nOSCMD D J,OMEGAMON\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO OMEGAMON\nOSCMD S OMEGAMON\nOMEGAMON: +\nOSWTOH *** IPLBASIC CLIST SUCCESSFULLY COMPLETED ***\nEXIT CODE(0)\n./       ADD   NAME=JESCMDS\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED BY DIFFERENT CLISTS E.G. STARTUP,      */\n/*  AND ONLINES                                                   */\n/*                                                                */\n/*  IT ISSUES JES2 AUTOMATIC COMMANDS WHICH ARE ISSUED BASED      */\n/*  ON TIME INTERVAL. ALL OTHER AUTOMATIC COMMANDS CAN BE ISSUED  */\n/*  USING AUTOA                                                   */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* SHOULD TAKE LESS THAN 5 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 5\nSET MAXCMDOUT = 0\n/* WAIT FOR PANEXEC TO INITIALIZE                                 */\nOSPAUSE 60\nOSCMD $CA,ALL\nOSCMD S VARYCONS\nOSCMD S SYSJOB,JOB=INITD\nOSPAUSE 10\n/* OSCMD S SYSJOB,JOB=JESLNES  */\n/* OSPAUSE 20                  */\nOSCMD V C01,OFFLINE\nOSCMD $TNUM,BASE=1\nOSCMD $OQ,CANCEL,Q=T,A=0\nOSCMD $OQ,CANCEL,Q=R,A=0\nOSCMD $TA,I=0180,'$VS,''D T'''\nOSCMD $TA,I=1800,'$RALL,R=R24,D=N5R1'\nOSCMD $TA,I=0300,'$DQ,R=R0'\nOSCMD $TA,I=0900,'$OT1-9999,Q=A,CANCEL'\nOSCMD $TA,I=0900,'$DBUFDEF'\nOSCMD $TA,I=0900,'$DCONDEF'\nOSCMD $TA,I=0900,'$DJOBDEF'\nOSCMD $TA,I=0900,'$DOUTDEF'\nOSCMD $TA,I=0900,'$DSMFDEF'\nOSCMD $TA,I=0900,'$DSPOOLDEF'\nOSCMD $TA,I=0900,'$DTPDEF'\nOSCMD $TA,I=3600,'$VS,''S SYSJOB,JOB=SVCDUMP'''\nOSCMD V C01,ONLINE\n./       ADD   NAME=J328XPRT\nPROC 0 RMT('DUMMY')\n/******************************************************************/\n/*  THIS CLIST STARTS THE REMOTE SPECIFIED BY REPLYING TO         */\n/*  JES328X AND US328X OUTSTANDING REPLIES                        */\n/*                                                                */\n/*  IT IS CALLED BY NCCF CLIST IST486I FOR REMOTES IN CONNECTIBLE */\n/*  STATUS .                                                      */\n/*                                                                */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\nIF .&RMT = . THEN GOTO -TELL\n     REPLY MSGID(JES328X) TEXT('S &RMT')\n     REPLY MSGID(US328X) TEXT('S &RMT')\n     OSPAUSE 7\nEXIT CODE (0)\nTELL: +\nOSWTO THE CORRECT FORMAT OF THE COMMAND IS J328XPRT RMT(XXXX)\nEXIT CODE(4)\n./       ADD   NAME=NONLINES\nPROC 0\n/******************************************************************/\n/*  SLIMMED DOWN VERSION OF ONLINES JUST TO TEST OUT ACF2 REPLY   */\n/*  TO CICS STARTUP.                                              */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 10 LINES EXPECTED FROM D J,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\n/******************************************************************/\n/*                                                                */\n/* ASK THE OPERATOR FOR PERMISSION TO PROCEED. HE MAY NOT BE      */\n/* READY TO BRING UP ONLINES.                                     */\n/*                                                                */\n/******************************************************************/\nASK: +\nOSASK REPLY 'GO' TO START ONLINES NOW ELSE REPLY 'CANCEL' ,YOU CAN +\nSTART ANY ONLINES WITH SPECIAL STARTUP BEFORE REPLYING.\n  IF &REPLY = GO THEN GOTO CONTINUE\n  IF &REPLY = NOREPLY THEN GOTO ASK\n  IF &REPLY \u00ac= CANCEL THEN GOTO ASK\n  EXIT CODE(4)\n/******************************************************************/\n/*                                                                */\n/* NOW START REST OF THE SUBSYSTEMS IT NOT ALREADY STARTED        */\n/*                                                                */\n/******************************************************************/\nCONTINUE: +\n/******************************************************************/\nOSCMD D J,PCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO FINISH\nOSCMD S PRODCICS\nOSPAUSE 10\n/* REPLY TO THE PASSWORD PROMPT                                   */\nREPLY MSG(ACFAE098) TEXT('GO')\nFINISH: +\nOSPAUSE 5\n/******************************************************************/\nOSWTOH *** ONLINES CLIST SUCCESSFULLY COMPLETED ***\nEXIT CODE(0)\n./       ADD   NAME=OMEGAON\nPROC 0\nWRITE *COM5 S OMEGAMON\nWRITE *COM1 F OMEGAMON,S CN,LROWS=96,UNIT=81D\nWRITE *COM5 V NET,INACT,ID=H01N806\nWRITE *COM5 V 806,OFFLINE\nWRITE *COM5 S DEALLOC\nWRITE *COM5 V 806,ONLINE\nWRITE *COM5 F OMEGAMON,S CN,LROWS=96,UNIT=806\nEND\n./       ADD   NAME=OMEGATAP\nPROC 0\nWRITE *COM9 V NET,INACT,ID=H01N806\nWRITE *COM9 V 806,OFFLINE\nWRITE *COM9 S DEALLOC\nWRITE *COM9 F OMEGAMON,S CN,LROWS=96,UNIT=806\nEND\n./       ADD   NAME=ONLINES\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED BY AUTOA ON WEEK DAYS AT 06:30 AND     */\n/*  AFTER AN IPL                                                  */\n/*                                                                */\n/*  FIRST IT ASKS THE OPERATOR PERMISSION TO PROCEED.             */\n/*  THEN IT STARTS THE IDMS'S AND CICS'S                          */\n/******************************************************************/\n/*  MAR 16, 19876 -->  AUTOSTART DPVCICS                          */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 10 LINES EXPECTED FROM D J,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\n/******************************************************************/\n/*                                                                */\n/* ASK THE OPERATOR FOR PERMISSION TO PROCEED. HE MAY NOT BE      */\n/* READY TO BRING UP ONLINES.                                     */\n/*                                                                */\n/******************************************************************/\nASK: +\nOSASK REPLY 'GO' TO START ONLINES NOW ELSE REPLY 'CANCEL' ,YOU CAN +\nSTART ANY ONLINES WITH SPECIAL STARTUP BEFORE REPLYING.\n  IF &REPLY = GO THEN GOTO CONTINUE\n  IF &REPLY = NOREPLY THEN GOTO ASK\n  IF &REPLY \u00ac= CANCEL THEN GOTO ASK\n  EXIT CODE(4)\n/******************************************************************/\n/*                                                                */\n/* NOW START REST OF THE SUBSYSTEMS IT NOT ALREADY STARTED        */\n/*                                                                */\n/******************************************************************/\nCONTINUE: +\nOSCMD D J,PIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PIDMS\nOSCMD S IDMS\nPIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO USIDMS\nOSCMD S STUSIDMS\nUSIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USTRIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO USTRIDMS\nOSCMD S USTRIDMS\nUSTRIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,DIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DIDMS\nOSCMD S DVLPIDMS\nDIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,DCIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DCIDMS\nOSCMD S DCIDMS\nDCIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PCIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PCIDMS\nOSCMD S PCIDMS\nPCIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PPIFMISA\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO ISA\nOSCMD S ISA\nISA: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO ULVLCICS\nOSCMD S ULVLCICS\nULVLCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USTRCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO USTRCICS\nOSCMD S USTRCICS\nUSTRCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,DCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DVLPCICS\nOSCMD S DVLPCICS\nDVLPCICS: +\nOSPAUSE 30\n/******************************************************************/\nOSCMD D J,DCANCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DCACICS\nOSCMD S DCACICS\nDCACICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PCANCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PCACICS\nOSCMD S PCACICS\nPCACICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PRODCICS\nOSCMD S PRODCICS\nPRODCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,TPVCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO TPVCICS\nOSCMD S TPVCICS\nTPVCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,DPVCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DPVCICS\nOSCMD S DPVCICS\nDPVCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,NCCF\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO NCCF\nOSCMD S NCCF\nNCCF: +\nOSWTOH *** ONLINES CLIST SUCCESSFULLY COMPLETED ***\nEXIT CODE(0)\n./       ADD   NAME=ONLINESX\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED BY AUTOA ON WEEK DAYS AT 06:30 AND     */\n/*  AFTER AN IPL                                                  */\n/*                                                                */\n/*  FIRST IT ASKS THE OPERATOR PERMISSION TO PROCEED.             */\n/*  THEN IT STARTS THE IDMS'S AND CICS'S                          */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 10 LINES EXPECTED FROM D J,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\n/******************************************************************/\n/*                                                                */\n/* ASK THE OPERATOR FOR PERMISSION TO PROCEED. HE MAY NOT BE      */\n/* READY TO BRING UP ONLINES.                                     */\n/*                                                                */\n/******************************************************************/\nASK: +\nOSASK REPLY 'GO' TO START ONLINES NOW ELSE REPLY 'CANCEL' ,YOU CAN +\nSTART ANY ONLINES WITH SPECIAL STARTUP BEFORE REPLYING.\n  IF &REPLY = GO THEN GOTO CONTINUE\n  IF &REPLY = NOREPLY THEN GOTO ASK\n  IF &REPLY \u00ac= CANCEL THEN GOTO ASK\n  EXIT CODE(4)\n/******************************************************************/\n/*                                                                */\n/* NOW START REST OF THE SUBSYSTEMS IT NOT ALREADY STARTED        */\n/*                                                                */\n/******************************************************************/\nCONTINUE: +\nOSCMD D J,PIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PIDMS\nOSCMD S IDMS\nPIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO USIDMS\nOSCMD S STUSIDMS\nUSIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USTRIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO USTRIDMS\nOSCMD S USTRIDMS\nUSTRIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,DIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DIDMS\nOSCMD S DVLPIDMS\nDIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,DCIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DCIDMS\nOSCMD S DCIDMS\nDCIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PCIDMS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PCIDMS\nOSCMD S PCIDMS\nPCIDMS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PPIFMISA\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO ISA\nOSCMD S ISA\nISA: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO ULVLCICS\nOSCMD S ULVLCICS\nULVLCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,USTRCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO USTRCICS\nOSCMD S USTRCICS\nUSTRCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,DCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DVLPCICS\nOSCMD S DVLPCICS\nDVLPCICS: +\nOSPAUSE 30\n/******************************************************************/\nOSCMD D J,DCANCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO DCACICS\nOSCMD S DCACICS\nDCACICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PCANCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PCACICS\nOSCMD S PCACICS\nPCACICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,PCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO PRODCICS\nOSCMD S PRODCICS\nPRODCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,TPVCICS\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO TPVCICS\nOSCMD S TPVCICS\nTPVCICS: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,NCCF\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO NCCF\nOSCMD S NCCF\nNCCF: +\nOSWTOH *** ONLINES CLIST SUCCESSFULLY COMPLETED ***\nEXIT CODE(0)\n./       ADD   NAME=PCIDMS\nPROC 0\n/******************************************************************/\n/*  THIS CLIST AUTOMATICALLY REPLIES TO THE OUTSTANDING REPLY     */\n/*  FOR PCIDMS. NORMALLY THIS WILL BE EXECUTED BY AUTO AT         */\n/*  PREDEFINED TIME (18:30). THE PROCESSING INVOLVES ISSUEING     */\n/*  'D R,L' COMMAND AND SCANNING THE OUTPUT FOR THE PCIDMS        */\n/*  VERSION ID V11. IT THEN REPLIES 'SHUTDOWN' FOR THAT REPLY ID. */\n/*                                                                */\n/*  MAINTENANCE LOG                                               */\n/*  ===============                                               */\n/*  WHO      WHEN                     WHAT                        */\n/*  ---      ----                     ----                        */\n/*                                                                */\n/*  MIKEW    JAN 12/86   ADD PROMPT TO CHECK FOR EXTENDED HOURS   */\n/*                       AND TRIGGER FOR UCC7                     */\n/******************************************************************/\n/* SET TO MAX TO GET ALL OUTSTANDING REPLIES                      */\nSET MAXCMDOUT = 200\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nOSCMD D R,L\n/* IGNORE FIRST 4 LINES FROM D R,L                                */\nSET I = 5\n/* SCAN THRU REST OF RESPONSE LINES                               */\nDO WHILE (&I <= &CMDOUT)\n/* GET NUMBER OF WORDS IN THE REPLY                               */\nSET WORDS =  &&CMDOUT&I.W\n/* TEST FOR PCIDMS ONLY IF >= 9 WORDS                             */\nIF &WORDS >= 9  THEN +\n  DO\n/* GET VERSION NUMBER                                             */\n  SET VERSION = &&CMDOUT&I.W9\n  SET PGM     = &&CMDOUT&I.W8\n/* IS IT PCIDMS ??                                                */\n  IF &STR(&VERSION) = &STR(V11) AND &STR(&PGM) = &STR(IDMS) THEN +\n      DO\n      SET REPLYID = &&CMDOUT&I.W1\n      SET MAXCMDOUT = 0\nASK: +\n      OSASK ARE THERE EXTENDED HOURS FOR PCIDMS TODAY? +\n        REPLY 'YES' TO KEEP UP OR 'NO' TO SHUTDOWN.\n      IF &REPLY = YES THEN +\n         DO\n         OSWTO PCIDMS IS BEING LEFT UP\n         EXIT CODE (0)\n         END\n      IF &REPLY = NOREPLY THEN GOTO ASK\n      OSCMD R &REPLYID,SHUTDOWN\n      OSPAUSE 60\n      OSCMD S PCIDMSTR\n      OSPAUSE 10\n      OSWTO UCC7 TRIGGER JOB PCIDMSTR HAS BEEN STARTED\n      EXIT CODE(0)\n      END\n  END\nSET I = &I + 1\nEND\nOSWTOH PCIDMS IS NOT ACTIVE\nEXIT CODE(0)\n./       ADD   NAME=RMTMSG\nPROC 2 JOBN DEVICE\nSET &D = &STR(&SYSDATE)\nSET &T = &STR(&SYSTIME)\nWRITE *COM SEND '&JOBN ON &DEVICE. &D AT &T',USER=(JIMLANE),LOGON\nIF &DEVICE = &STR(R176.PR1) THEN WRITE *COM $SR176.PR1\nIF &DEVICE = &STR(R143.PR1) THEN WRITE *COM $SR143.PR1\nEND\n./       ADD   NAME=RMTSET\nPROC 1 DEVICE\nIF &DEVICE = &STR(R176.PR1) THEN DO\n WRITE *COM $SR176.PR1\nEND\nIF &DEVICE = &STR(R143.PR1) THEN DO\n WRITE *COM $SR143.PR1\nEND\nIF &DEVICE = &STR(R190.PR1) THEN DO\n WRITE *COM $SR190.PR1\nEND\nIF &DEVICE = &STR(R193.PR1) THEN DO\n WRITE *COM $SR193.PR1\nEND\nIF &DEVICE = &STR(R194.PR1) THEN DO\n WRITE *COM $SR194.PR1\nEND\nEND\n./       ADD   NAME=RMTSTART\nPROC 0 RMT()\nOSPAUSE 2\nIF &RMT = &STR(176) THEN DO\n WRITE *COM #REPLY MSG(JES328X) TEXT('SRMT176')\nEND\nIF &RMT = &STR(143) THEN DO\n WRITE *COM #REPLY MSG(JES328X) TEXT('SRMT143')\nEND\nIF &RMT = &STR(190) THEN DO\n WRITE *COM #REPLY MSG(JES328X) TEXT('SRMT190')\nEND\nIF &RMT = &STR(193) THEN DO\n WRITE *COM #REPLY MSG(JES328X) TEXT('SRMT193')\nEND\nIF &RMT = &STR(194) THEN DO\n WRITE *COM #REPLY MSG(JES328X) TEXT('SRMT194')\nEND\nEND\n./       ADD   NAME=SHUTCICS\nPROC 0 VERSION('DCANCICS')\n/******************************************************************/\n/*  THIS CLIST AUTOMATICALLY SHUTS DOWN THE VERSION OF CICS       */\n/*  SPECIFIED AS PARAMETER.                                       */\n/*                                                                */\n/*  IT IS AUTOMATICALLY EXECUTED BY AUTOA AT 21:00 DAILY FOR      */\n/*  PCANCICS AND AT 22:00 FOR DCANCICS                            */\n/*                                                                */\n/*  1. CHECKS IF SPECIFIED CICS IS ACTIVE                         */\n/*  2. IF ACTIVE LOGON ON TO IT AND SHUT IT DOWN                  */\n/*                                                                */\n/*  MAINTENANCE LOG                                               */\n/*  ===============                                               */\n/*  WHO      WHEN                     WHAT                        */\n/*  ---      ----                     ----                        */\n/*                                                                */\n/*  MIKEW    JAN 12/86   ADD TRIGGER FOR UCC7                     */\n/*                                                                */\n/*  MIKEW    FEB 17/87   CHANGE LOGONID AND PASSWORD TO CICSOPER  */\n/*                                                                */\n/*  PK       APR 01/87   DECREASE WAIT TIME TO AVOID TIEING UP    */\n/*                       TSSO ADDRESS SPACE.                      */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 10 LINES EXPECTED FROM D J,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\nIF .&VERSION = . THEN GOTO TELL\nSET OPERID  = CICSOPER\nSET PWD     = CICSOPER\nIF &VERSION = DCICS THEN DO\n                     SET TRIGGER = DCICSTR\n                     GOTO SHUT\n                     END\nSHUT: +\nOSCMD D J,&VERSION\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO NOTUP\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F &VERSION,CSSF BYE\n      OSPAUSE 5\n      OSCMD F &VERSION,CSSN &OPERID\n      OSPAUSE 7\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('&PWD')\n      OSPAUSE 7\n      OSCMD F &VERSION,CEMT PER SHUT IMM\n      OSPAUSE 5\n      OSWTO &VERSION HAS BEEN SHUT DOWN\nIF .&TRIGGER = . THEN GOTO ENDJOB\n/* DONT START TRIGGER JOB IF TRIGGER HAS NOT BEEN SET             */\n      OSCMD S &TRIGGER\n      OSPAUSE 5\n      OSWTO UCC7 TRIGGER JOB &TRIGGER FOR &VERSION HAS BEEN STARTED\n      EXIT CODE(0)\n   END\nNOTUP: +\nOSWTO &VERSION IS ALREADY DOWN\nEXIT CODE(0)\nTELL: +\nOSWTO THE CORRECT FORMAT OF THE COMMAND IS SHUTCICS VERSION(XXXX)\nEXIT CODE(4)\nENDJOB: +\nEXIT CODE(0)\n./       ADD   NAME=SHUTCICX\nPROC 0 VERSION('DCANCICS')\n/******************************************************************/\n/*  THIS CLIST AUTOMATICALLY SHUTS DOWN THE VERSION OF CICS       */\n/*  SPECIFIED AS PARAMETER.                                       */\n/*                                                                */\n/*  IT IS AUTOMATICALLY EXECUTED BY AUTOA AT 21:00 DAILY FOR      */\n/*  PCANCICS AND AT 22:00 FOR DCANCICS                            */\n/*                                                                */\n/*  1. CHECKS IF SPECIFIED CICS IS ACTIVE                         */\n/*  2. IF ACTIVE LOGON ON TO IT AND SHUT IT DOWN                  */\n/*                                                                */\n/*  MAINTENANCE LOG                                               */\n/*  ===============                                               */\n/*  WHO      WHEN                     WHAT                        */\n/*  ---      ----                     ----                        */\n/*                                                                */\n/*  MIKEW    JAN 12/86   ADD TRIGGER FOR UCC7                     */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 10 LINES EXPECTED FROM D J,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\nIF .&VERSION = . THEN GOTO TELL\nIF &VERSION = PCANCICS THEN DO\n                     SET OPERID = PCANOP\n                     SET PWD    = PCANOP\n                     GOTO SHUT\n                     END\nIF &VERSION = DCANCICS THEN DO\n                     SET OPERID = DCANOP\n                     SET PWD    = DCANOP\n                     GOTO SHUT\n                     END\nIF &VERSION = PCICS THEN DO\n                     SET OPERID  = PCICS\n                     SET PWD     = PCICS\n                     SET TRIGGER = PCICSTR\n                     GOTO SHUT\n                     END\nIF &VERSION = DCICS THEN DO\n                     SET OPERID  = DCICS\n                     SET PWD     = DCICS\n                     SET TRIGGER = DCICSTR\n                     GOTO SHUT\n                     END\nIF &VERSION = USCICS THEN DO\n                     SET OPERID  = USCICS\n                     SET PWD     = USCICS\n                     GOTO SHUT\n                     END\nIF &VERSION = TPVCICS THEN DO\n                     SET OPERID  = CICSOPER\n                     SET PWD     = CICSOPER\n                     GOTO SHUT\n                     END\nSHUT: +\nOSCMD D J,&VERSION\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO NOTUP\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F &VERSION,CSSF BYE\n      OSPAUSE 5\n      OSCMD F &VERSION,CSSN &OPERID\n      OSPAUSE 10\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('&PWD')\n      OSPAUSE 10\n      OSCMD F &VERSION,CEMT PER SHUT IMM\n      OSPAUSE 60\n      OSWTO &VERSION HAS BEEN SHUT DOWN\n      OSCMD S &TRIGGER\n      OSPAUSE 10\n      OSWTO UCC7 TRIGGER JOB &TRIGGER FOR &VERSION HAS BEEN STARTED\n      EXIT CODE(0)\n   END\nNOTUP: +\nOSWTO &VERSION IS ALREADY DOWN\nEXIT CODE(0)\nTELL: +\nOSWTO THE CORRECT FORMAT OF THE COMMAND IS SHUTCICS VERSION(XXXX)\nEXIT CODE(4)\n./       ADD   NAME=SHUTDOWN\nPROC 0\n/******************************************************************/\n/*  THIS CLIST AUTOMATICALLY SHUTS DOWN MOST OF THE ACTIVE TASKS  */\n/*  IN THE SYSTEM. FOLLOWING TASKS ARE SHUT DOWN.                 */\n/*                                                                */\n/*  1. SEND SHUTDOWN MESSAGE TO TSO USERS                         */\n/*  2. STOP JES328X, US328X                                       */\n/*  3. CHECK IF ISA IS STILL UP, IF SO ASK OPERATOR TO SHUT IT    */\n/*  4. CHECK IF UCC7 IS STILL UP, IF SO ASK OPERATOR TO SHUT IT   */\n/*  5. SEND SHUTDOWN MESSAGE TO TSO USERS                         */\n/*  6. IF DCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN         */\n/*  7. IF PCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN         */\n/*  8. IF USCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN        */\n/*  9. IF DCANCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN      */\n/*  9. IF PCANCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN      */\n/* 10. SHUTDOWN SIM3278, SIMCAN, PHOENIX, TSO, NPA                */\n/* 11. GOES THRU OUTSTANDING REPLIES TO SHUTDOWN FOLLOWING        */\n/*     REPLY U TO DCICS BACKUP MESSAGE                            */\n/*     SHUT DOWN ALL VERSIONS OF IDMS                             */\n/*     SHUTDOWN NCCF                                              */\n/*     SHUTDOWN UCOM                                              */\n/* 12. S SYSJOB SHUTDOWN TO DRAIN LINES                           */\n/* 13. STOP PHOENIX AGAIN                                         */\n/* 14. CHECK IF DCICS DOWN. IF NOT WAIT FOR 8 MINUTES AND ABORT   */\n/* 15. STOP TLMSII                                                */\n/* 16. REPLY TO ANY OUTSTANDING TSO MESSAGE                       */\n/* 17. WAIT FOR 10 SEC AND REPLY TO TLMSII SHUTDOWN MESSAGE       */\n/* 18. REPLY TO ANY OUTSTANDING TSO MESSAGE                       */\n/* 19. WAIT FOR UPTP 30 MINUTES FOR JES328X AND US328X TO GO DOWN */\n/*     OTHERWISE EXIT THE CLIST WITH A MESSAGE                    */\n/* 20. SHUTDOWN NET, TM, RMF, AUTOA, OMEGAMON                     */\n/* 21. WAIT FOR UPTO 30 MINUTES FOR NET TO COME DOWN, ELSE ABORT  */\n/* 22. SHUTDOWN LLA, ACF2, AND TSSO IF THERE ARE NO JOBS RUNNING  */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 50 LINES EXPECTED FROM D R,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET MAXCMDOUT = 50\nSET CMDWAIT   = 1\n/* FIRST SEND MESSAGE TO TSO USERS SAYING SYSTEM IS DOWN....      */\nOSCMD SEND '*** SYSTEM GOING DOWN.. PLEASE LOGOFF IMMEDIATELY ***'\n/* FIRST SHUT DOWN JES328X AND US328X                             */\nOSWTO SHUTTING DOWN JES328X AND US328X\nREPLY MSG(JES328X) TEXT('P')\nREPLY MSG(US328X) TEXT('P')\n/* TEST IF ISA IS UP. IF IT IS, ASK OPERATOR TO SHUT IT DOWN      */\nOSWTO CHECKING ISA\nSET MAXCMDOUT = 10\nOSCMD D J,PPIFMISA\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &CMDOUT5W3\nIF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CHKUCC7\n   DO\n   ASK: +\n   OSASK  PLEASE BRING DOWN ISA AND REPLY 'GO' TO CONTINUE SHUTDOWN +\n          OR REPLY 'CANCEL' TO CANCEL SHUTDOWN\n      IF &REPLY = GO THEN GOTO CHKUCC7\n      IF &REPLY = NOREPLY THEN GOTO ASK\n      IF &REPLY \u00ac= CANCEL THEN GOTO ASK\n      EXIT CODE (4)\n   END\n/* NOW CHECK IF UCC7 IS UP. IF IT IS ASK OPERATOR TO SHUT IT DOWN */\nCHKUCC7: +\nOSWTO CHECKING UCC7\nOSCMD D J,UCC7\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &CMDOUT5W3\nIF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CHKDCICS\n   DO\n   ASK1: +\n   OSASK  PLEASE BRING DOWN UCC7 AND REPLY 'GO' TO CONTINUE SHUTDOWN +\n          OR REPLY 'CANCEL' TO CANCEL SHUTDOWN\n      IF &REPLY = GO THEN GOTO CHKDCICS\n      IF &REPLY = NOREPLY THEN GOTO ASK1\n      IF &REPLY \u00ac= CANCEL THEN GOTO ASK1\n      EXIT CODE (4)\n   END\n/* SEND MESSAGE TO TSO USERS SAYING SYSTEM IS DOWN....            */\nOSCMD SEND '*** SYSTEM GOING DOWN.. PLEASE LOGOFF IMMEDIATELY ***'\n/* NOW CHECK IF DCICS IS UP. IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKDCICS: +\nOSWTO CHECKING DCICS\nSET MAXCMDOUT = 10\nOSCMD D J,DCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKPCICS\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F DCICS,CSSN DCICS\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('DCICS')\n      OSPAUSE 5\n      OSCMD F DCICS,CEMT PER SHUT IMM\n      OSPAUSE 35\n   END\n/* NOW CHECK IF PCICS IS UP. IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKPCICS: +\nOSWTO CHECKING PCICS\nOSCMD D J,PCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKUCICS\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F PCICS,CSSN PCICS\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('PCICS')\n      OSPAUSE 10\n      OSCMD F PCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF USCICS IS UP. IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKUCICS: +\nOSWTO CHECKING USCICS\nSET MAXCMDOUT = 10\nOSCMD D J,USCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKTCICS\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F USCICS,CSSN USCICS\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('USCICS')\n      OSPAUSE 10\n      OSCMD F USCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF USTRCICS IS UP. IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKTCICS: +\nOSWTO CHECKING USTRCICS\nSET MAXCMDOUT = 10\nOSCMD D J,USTRCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKDCAN\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F USTRCICS,CSSN CICSOPER\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('CICSOPER')\n      OSPAUSE 10\n      OSCMD F USTRCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF DCCACICS IS UP.IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKDCAN: +\nOSWTO CHECKING DCANCICS\nSET MAXCMDOUT = 10\nOSCMD D J,DCANCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKTPV\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F DCANCICS,CSSN DCANOP\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('DCANOP')\n      OSPAUSE 10\n      OSCMD F DCANCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF TPVCICS IS UP.IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKTPV: +\nOSWTO CHECKING TPVCICS\nSET MAXCMDOUT = 10\nOSCMD D J,TPVCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKPCAN\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F TPVCICS,CSSN CICSOPER\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('CICSOPER')\n      OSPAUSE 10\n      OSCMD F TPVCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF PCANCICS IS UP.IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKPCAN: +\nOSWTO CHECKING PCANCICS\nSET MAXCMDOUT = 10\nOSCMD D J,PCANCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO SHUTSIM\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F PCANCICS,CSSN PCANOP\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('PCANOP')\n      OSPAUSE 10\n      OSCMD F PCANCICS,CEMT PER SHUT IMM\n   END\n/* NOW SHUTDOWN SIM3278 AND SIMCAN                                */\nSHUTSIM: +\nOSWTO SHUTTING SIM3278 AND SIMCAN\nOSCMD F SIM3278,HALT,IMMED\nOSCMD F SIMCAN,HALT,IMMED\n/* NOW SHUTDOWN TSO AND NPDA AND PHOENIX                          */\nOSCMD P PHOENIX\nOSCMD P DFHSM\nOSCMD P TSO\nOSCMD P NPA\nOSPAUSE 10\n/* NOW GO THRU OUTSTANDING REPLIES TO SHUTDOWN                    */\n/* IDMS, NCCF, UCOM, AND DCICS                                    */\nOSWTO REPLYING TO IDMS, NCCF, UCOM DCICS\nSET MAXCMDOUT = 50\nOSCMD D R,L\nSET I = 5\nDO WHILE (&I <= &CMDOUT)\nSET WORDS =  &&CMDOUT&I.W\nIF &WORDS >= 4  THEN +\n   DO\n/* GET APPLICATION NAME                                           */\n     SET APPL  = &&CMDOUT&I.W4\n/* IS IT DCICS BACKUP MESSAGE ?                                   */\n     IF &STR(&APPL) = &STR(DCICS) THEN +\n        DO\n           SET REPLYID = &&CMDOUT&I.W1\n           SET MAXCMDOUT = 0\n           OSCMD R &REPLYID,Y\n        END\n/* IS IT IDMS ??                                                  */\n     IF &STR(&APPL) = &STR(REPLY) THEN +\n        DO\n           SET REPLYID = &&CMDOUT&I.W1\n           SET MAXCMDOUT = 0\n           OSCMD R &REPLYID,SHUTDOWN\n        END\n/* IS IT NCCF  ??                                                 */\n     IF &STR(&APPL) = &STR(DSI802A) THEN +\n        DO\n          SET REPLYID = &&CMDOUT&I.W1\n          SET MAXCMDOUT = 0\n          OSCMD R &REPLYID,CLOSE\n        END\n/* IS IT UCOM  ??                                                 */\n     IF &STR(&APPL) = &STR(UCC7.574) THEN +\n        DO\n          SET REPLYID = &&CMDOUT&I.W1\n          SET MAXCMDOUT = 0\n          OSCMD R &REPLYID,STOP\n        END\n  END\nSET I = &I + 1\nEND\n/* SUBMIT JES2 COMMANDS DRAIN LINES AND PRINTERS                  */\nOSWTO RUNNING SHUTDOWN JOB\nOSCMD S SYSJOB,JOB=SHUTDOWN\nOSPAUSE 5\nOSCMD P PHOENIX\nOSCMD C JMXWTR\n/* NOW CHECK IF DCICS IS DOWN                                     */\nSET I = 1\nDO WHILE (&I <= 100)\n  SET MAXCMDOUT = 10\n  OSCMD D J,DCICS\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &STR(&CMDOUT5W3)\n  IF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO STOPTLMS\n  OSPAUSE 5\n  SET I = &I + 1\nEND\nOSWTOH DCICS DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\n/* NOW O M S MESSAGES, IF ANY                                     */\nSTOPTLMS: +\nREPLY MSG(CADO011D) TEXT('P TLMSII')\nREPLY MSG(IKT010D) TEXT('FSTOP')\nOSPAUSE 10\nREPLY MSG(CADO017D) TEXT('X')\n/* NOW REPLY TO TSO MESSAGE                                       */\nREPLY MSG(IKT012D) TEXT('U')\n/* NOW SHUTDOWN NET IF JES328X AND US328X IS DOWN                 */\nSET I = 1\nDO WHILE (&I <= 180)\n  SET MAXCMDOUT = 10\n  OSCMD D J,JES328X\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CHKUS8X\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH JES328X DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\nCHKUS8X: +\nSET I = 1\nDO WHILE (&I <= 180)\n  OSCMD D J,US328X\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO STOPNET\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH US328X DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\nSTOPNET: +\nOSWTO SHUTTING DOWN NET\nOSCMD Z NET\n/* NOW SHUTDOWN TM, RMF, AUTOA, OMEGAMON                          */\nOSWTO SHUTTING DOWN TM ETC\nOSCMD P TM\nOSCMD P RMF.RMF\nOSCMD P AUTOA.A\nOSCMD P OMEGAMON\n/* NOW SHUTDOWN LLA AND ACF2 IF NET IS DOWN                       */\nSET I = 1\nDO WHILE (&I <= 120)\n  SET MAXCMDOUT = 10\n  OSCMD D J,NET\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO STOPACF2\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH NET DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\n/* NOW SHUTDOWN  LLA, ACF2 AND TSSO IF THERE ARE NO ACTIVE JOBS  */\nSTOPACF2: +\n    OSCMD D J,L\n    SET NUMOFJOB = &CMDOUT4W1\n    IF &NUMOFJOB \u00ac= 0 THEN +\n    DO\n       OSWTOH SOME JOBS ARE STILL RUNNING\n       OSWTOH PLEASE STOP ACF2 AND LLA AFTER ALL JOBS ARE FINISHED\n       EXIT CODE (4)\n    END\nOSWTO SHUTTTING DOWN LLA AND ACF2\nOSCMD P LLA\nOSCMD P ACF2\nOSWTOH *** SHUTDOWN SUCCESSFULLY COMPLETED ***\nOSPAUSE 5\nOSCMD #.P\nEXIT CODE(0)\n./       ADD   NAME=SHUTDOWX\nPROC 0\n/******************************************************************/\n/*  THIS CLIST AUTOMATICALLY SHUTS DOWN MOST OF THE ACTIVE TASKS  */\n/*  IN THE SYSTEM. FOLLOWING TASKS ARE SHUT DOWN.                 */\n/*                                                                */\n/*  1. SEND SHUTDOWN MESSAGE TO TSO USERS                         */\n/*  2. STOP JES328X, US328X                                       */\n/*  3. CHECK IF ISA IS STILL UP, IF SO ASK OPERATOR TO SHUT IT    */\n/*  4. CHECK IF UCC7 IS STILL UP, IF SO ASK OPERATOR TO SHUT IT   */\n/*  5. SEND SHUTDOWN MESSAGE TO TSO USERS                         */\n/*  6. IF DCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN         */\n/*  7. IF PCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN         */\n/*  8. IF USCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN        */\n/*  9. IF DCANCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN      */\n/*  9. IF PCANCICS IS ACTIVE LOGON ON TO IT AND SHUT IT DOWN      */\n/* 10. SHUTDOWN SIM3278, SIMCAN, PHOENIX, TSO, NPA                */\n/* 11. GOES THRU OUTSTANDING REPLIES TO SHUTDOWN FOLLOWING        */\n/*     REPLY U TO DCICS BACKUP MESSAGE                            */\n/*     SHUT DOWN ALL VERSIONS OF IDMS                             */\n/*     SHUTDOWN NCCF                                              */\n/*     SHUTDOWN UCOM                                              */\n/* 12. S SYSJOB SHUTDOWN TO DRAIN LINES                           */\n/* 13. STOP PHOENIX AGAIN                                         */\n/* 14. CHECK IF DCICS DOWN. IF NOT WAIT FOR 8 MINUTES AND ABORT   */\n/* 15. STOP TLMSII                                                */\n/* 16. REPLY TO ANY OUTSTANDING TSO MESSAGE                       */\n/* 17. WAIT FOR 10 SEC AND REPLY TO TLMSII SHUTDOWN MESSAGE       */\n/* 18. REPLY TO ANY OUTSTANDING TSO MESSAGE                       */\n/* 19. WAIT FOR UPTP 30 MINUTES FOR JES328X AND US328X TO GO DOWN */\n/*     OTHERWISE EXIT THE CLIST WITH A MESSAGE                    */\n/* 20. SHUTDOWN NET, TM, RMF, AUTOA, OMEGAMON                     */\n/* 21. WAIT FOR UPTO 30 MINUTES FOR NET TO COME DOWN, ELSE ABORT  */\n/* 22. SHUTDOWN LLA, ACF2, AND TSSO IF THERE ARE NO JOBS RUNNING  */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 50 LINES EXPECTED FROM D R,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET MAXCMDOUT = 50\nSET CMDWAIT   = 1\n/* FIRST SEND MESSAGE TO TSO USERS SAYING SYSTEM IS DOWN....      */\nOSCMD SEND '*** SYSTEM GOING DOWN.. PLEASE LOGOFF IMMEDIATELY ***'\n/* FIRST SHUT DOWN JES328X AND US328X                             */\nOSWTO SHUTTING DOWN JES328X AND US328X\nREPLY MSG(JES328X) TEXT('P')\nREPLY MSG(US328X) TEXT('P')\n/* TEST IF ISA IS UP. IF IT IS, ASK OPERATOR TO SHUT IT DOWN      */\nOSWTO CHECKING ISA\nSET MAXCMDOUT = 10\nOSCMD D J,PPIFMISA\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &CMDOUT5W3\nIF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CHKUCC7\n   DO\n   ASK: +\n   OSASK  PLEASE BRING DOWN ISA AND REPLY 'GO' TO CONTINUE SHUTDOWN +\n          OR REPLY 'CANCEL' TO CANCEL SHUTDOWN\n      IF &REPLY = GO THEN GOTO CHKUCC7\n      IF &REPLY = NOREPLY THEN GOTO ASK\n      IF &REPLY \u00ac= CANCEL THEN GOTO ASK\n      EXIT CODE (4)\n   END\n/* NOW CHECK IF UCC7 IS UP. IF IT IS ASK OPERATOR TO SHUT IT DOWN */\nCHKUCC7: +\nOSWTO CHECKING UCC7\nOSCMD D J,UCC7\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &CMDOUT5W3\nIF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CHKDCICS\n   DO\n   ASK1: +\n   OSASK  PLEASE BRING DOWN UCC7 AND REPLY 'GO' TO CONTINUE SHUTDOWN +\n          OR REPLY 'CANCEL' TO CANCEL SHUTDOWN\n      IF &REPLY = GO THEN GOTO CHKDCICS\n      IF &REPLY = NOREPLY THEN GOTO ASK1\n      IF &REPLY \u00ac= CANCEL THEN GOTO ASK1\n      EXIT CODE (4)\n   END\n/* SEND MESSAGE TO TSO USERS SAYING SYSTEM IS DOWN....            */\nOSCMD SEND '*** SYSTEM GOING DOWN.. PLEASE LOGOFF IMMEDIATELY ***'\n/* NOW CHECK IF DCICS IS UP. IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKDCICS: +\nOSWTO CHECKING DCICS\nSET MAXCMDOUT = 10\nOSCMD D J,DCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKPCICS\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F DCICS,CSSN DCICS\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('DCICS')\n      OSPAUSE 5\n      OSCMD F DCICS,CEMT PER SHUT IMM\n      OSPAUSE 35\n   END\n/* NOW CHECK IF PCICS IS UP. IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKPCICS: +\nOSWTO CHECKING PCICS\nOSCMD D J,PCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKUCICS\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F PCICS,CSSN PCICS\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('PCICS')\n      OSPAUSE 10\n      OSCMD F PCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF USCICS IS UP. IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKUCICS: +\nOSWTO CHECKING USCICS\nSET MAXCMDOUT = 10\nOSCMD D J,USCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKDCAN\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F USCICS,CSSN USCICS\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('USCICS')\n      OSPAUSE 10\n      OSCMD F USCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF DCCACICS IS UP.IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKDCAN: +\nOSWTO CHECKING DCANCICS\nSET MAXCMDOUT = 10\nOSCMD D J,DCANCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKTPV\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F DCANCICS,CSSN DCANOP\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('DCANOP')\n      OSPAUSE 10\n      OSCMD F DCANCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF TPVCICS IS UP.IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKTPV: +\nOSWTO CHECKING TPVCICS\nSET MAXCMDOUT = 10\nOSCMD D J,TPVCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO CHKPCAN\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F TPVCICS,CSSN CICSOPER\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('CICSOPER')\n      OSPAUSE 10\n      OSCMD F TPVCICS,CEMT PER SHUT IMM\n   END\n/* NOW CHECK IF PCANCICS IS UP.IF SO SIGN ON TO IT AND SHUT IT DOWN */\nCHKPCAN: +\nOSWTO CHECKING PCANCICS\nSET MAXCMDOUT = 10\nOSCMD D J,PCANCICS\nSET STATUS1 = &CMDOUT5W2\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO SHUTSIM\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD F PCANCICS,CSSN PCANOP\n      OSPAUSE 5\n/* REPLY TO THE PASSWORD PROMPT                                   */\n      REPLY MSG(ACFAE138) TEXT('PCANOP')\n      OSPAUSE 10\n      OSCMD F PCANCICS,CEMT PER SHUT IMM\n   END\n/* NOW SHUTDOWN SIM3278 AND SIMCAN                                */\nSHUTSIM: +\nOSWTO SHUTTING SIM3278 AND SIMCAN\nOSCMD F SIM3278,HALT,IMMED\nOSCMD F SIMCAN,HALT,IMMED\n/* NOW SHUTDOWN TSO AND NPDA AND PHOENIX                          */\nOSCMD P PHOENIX\nOSCMD P DFHSM\nOSCMD P TSO\nOSCMD P NPA\nOSPAUSE 10\n/* NOW GO THRU OUTSTANDING REPLIES TO SHUTDOWN                    */\n/* IDMS, NCCF, UCOM, AND DCICS                                    */\nOSWTO REPLYING TO IDMS, NCCF, UCOM DCICS\nSET MAXCMDOUT = 50\nOSCMD D R,L\nSET I = 5\nDO WHILE (&I <= &CMDOUT)\nSET WORDS =  &&CMDOUT&I.W\nIF &WORDS >= 4  THEN +\n   DO\n/* GET APPLICATION NAME                                           */\n     SET APPL  = &&CMDOUT&I.W4\n/* IS IT DCICS BACKUP MESSAGE ?                                   */\n     IF &STR(&APPL) = &STR(DCICS) THEN +\n        DO\n           SET REPLYID = &&CMDOUT&I.W1\n           SET MAXCMDOUT = 0\n           OSCMD R &REPLYID,Y\n        END\n/* IS IT IDMS ??                                                  */\n     IF &STR(&APPL) = &STR(REPLY) THEN +\n        DO\n           SET REPLYID = &&CMDOUT&I.W1\n           SET MAXCMDOUT = 0\n           OSCMD R &REPLYID,SHUTDOWN\n        END\n/* IS IT NCCF  ??                                                 */\n     IF &STR(&APPL) = &STR(DSI802A) THEN +\n        DO\n          SET REPLYID = &&CMDOUT&I.W1\n          SET MAXCMDOUT = 0\n          OSCMD R &REPLYID,CLOSE\n        END\n/* IS IT UCOM  ??                                                 */\n     IF &STR(&APPL) = &STR(UCC7.574) THEN +\n        DO\n          SET REPLYID = &&CMDOUT&I.W1\n          SET MAXCMDOUT = 0\n          OSCMD R &REPLYID,STOP\n        END\n  END\nSET I = &I + 1\nEND\n/* SUBMIT JES2 COMMANDS DRAIN LINES AND PRINTERS                  */\nOSWTO RUNNING SHUTDOWN JOB\nOSCMD S SYSJOB,JOB=SHUTDOWN\nOSPAUSE 5\nOSCMD P PHOENIX\nOSCMD C JMXWTR\n/* NOW CHECK IF DCICS IS DOWN                                     */\nSET I = 1\nDO WHILE (&I <= 100)\n  SET MAXCMDOUT = 10\n  OSCMD D J,DCICS\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &STR(&CMDOUT5W3)\n  IF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO STOPTLMS\n  OSPAUSE 5\n  SET I = &I + 1\nEND\nOSWTOH DCICS DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\n/* NOW O M S MESSAGES, IF ANY                                     */\nSTOPTLMS: +\nREPLY MSG(CADO011D) TEXT('P TLMSII')\nREPLY MSG(IKT010D) TEXT('FSTOP')\nOSPAUSE 10\nREPLY MSG(CADO017D) TEXT('X')\n/* NOW REPLY TO TSO MESSAGE                                       */\nREPLY MSG(IKT012D) TEXT('U')\n/* NOW SHUTDOWN NET IF JES328X AND US328X IS DOWN                 */\nSET I = 1\nDO WHILE (&I <= 180)\n  SET MAXCMDOUT = 10\n  OSCMD D J,JES328X\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO CHKUS8X\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH JES328X DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\nCHKUS8X: +\nSET I = 1\nDO WHILE (&I <= 180)\n  OSCMD D J,US328X\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO STOPNET\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH US328X DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\nSTOPNET: +\nOSWTO SHUTTING DOWN NET\nOSCMD Z NET\n/* NOW SHUTDOWN TM, RMF, AUTOA, OMEGAMON                          */\nOSWTO SHUTTING DOWN TM ETC\nOSCMD P TM\nOSCMD P RMF.RMF\nOSCMD P AUTOA.A\nOSCMD P OMEGAMON\n/* NOW SHUTDOWN LLA AND ACF2 IF NET IS DOWN                       */\nSET I = 1\nDO WHILE (&I <= 120)\n  SET MAXCMDOUT = 10\n  OSCMD D J,NET\n  SET STATUS1 = &CMDOUT5W2\n  SET STATUS2 = &CMDOUT5W3\n  IF &STATUS1 = NOT AND &STATUS2 = FOUND THEN GOTO STOPACF2\n  OSPAUSE 10\n  SET I = &I + 1\nEND\nOSWTOH NET DID NOT COME DOWN IN EXPECTED TIME\nOSWTOH FOLLOW MANUAL PROCEDURE FOR REST OF THE SHUTDOWN\nEXIT CODE (4)\n/* NOW SHUTDOWN  LLA, ACF2 AND TSSO IF THERE ARE NO ACTIVE JOBS  */\nSTOPACF2: +\n    OSCMD D J,L\n    SET NUMOFJOB = &CMDOUT4W1\n    IF &NUMOFJOB \u00ac= 0 THEN +\n    DO\n       OSWTOH SOME JOBS ARE STILL RUNNING\n       OSWTOH PLEASE STOP ACF2 AND LLA AFTER ALL JOBS ARE FINISHED\n       EXIT CODE (4)\n    END\nOSWTO SHUTTTING DOWN LLA AND ACF2\nOSCMD P LLA\nOSCMD P ACF2\nOSWTOH *** SHUTDOWN SUCCESSFULLY COMPLETED ***\nOSPAUSE 5\nOSCMD #.P\nEXIT CODE(0)\n./       ADD   NAME=SMFDUMP\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS USED DUMP SMF                                   */\n/*                                                                */\n/*  IT DOES FOLLOWING THINGS                                      */\n/*  1. $OQ,CANCEL,Q=R,A=0  (PURGE STC OUTPUT)                     */\n/*  2. D SMF                                                      */\n/*  3. IF MAN1 IS ACTIVE AND MAN2 IS ALTERNATE                    */\n/*         SWITCH SMF AND WAIT FOR UPTO 20 MINUTES, START SMFDUMP */\n/*     IF MAN1 IS ACTIVE AND MAN2 IS DUMP REQUIRED                */\n/*         START SMFDUMP2 (WHICH DUMPS MAN2 FIRST, ASKS THE       */\n/*         OPERATOR TO SWITCH, DUMPS MAN1, ASKS FOR SWITCH, DUMPS */\n/*         MAN2 AGAIN)                                            */\n/*     IF MAN1 IS NOT ACTIVE                                      */\n/*         START SMFDUMP TO DUMP MAN1 AND THEN MAN2               */\n/******************************************************************/\n/* SET TO MAX TO GET ALL OUTSTANDING REPLIES                      */\n/*  CONTROL LIST CONLIST SYMLIST     ***/\nSET MAXCMDOUT = 0\nSET CMDWAIT   = 1\n/*  OSCMD F ACF2,BACKUP */\nOSCMD $OQ,CANCEL,Q=R,A=0\nOSPAUSE 20\nSET MAXCMDOUT = 10\nOSCMD D SMF\nSET MAN1 = &&CMDOUT4W5\nSET MAN2 = &&CMDOUT5W5\nIF &MAN1 = ACTIVE  AND &MAN2 = ALTERNATE THEN +\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD I SMF\n      OSPAUSE 30\n      SET MAXCMDOUT = 10\n      SET I = 1\n      DO WHILE (&I < 80)\n         OSCMD D SMF\n         SET MAN11 = &&CMDOUT4W5\n         SET MAN12 = &&CMDOUT4W6\n         IF &MAN11 = DUMP  AND &MAN12 = REQUIRED THEN +\n         DO\n           OSCMD S SMFDUMP\n           EXIT CODE (0)\n         END\n         OSPAUSE 30\n         SET I = &I + 1\n      END\n      OSWTOH SWITCH SMF TOOK LONGER THAN EXPECTED\n      OSWTOH CLIST ABORTED, FOLLOW MANUAL PROCEDURE\n      EXIT CODE (4)\n   END\nIF &MAN1 = ACTIVE  AND &MAN2 \u00ac= ALTERNATE THEN +\n   DO\n      OSWTOH MAN2 IS NOT EMPTY. STARTING SMFDUMP2 TO DUMP MAN2 FIRST\n      OSCMD S SMFDUMP2\n      EXIT CODE (0)\n   END\nIF &MAN1 \u00ac= ACTIVE  THEN +\n   DO\n      SET MAXCMDOUT = 0\n      OSCMD S SMFDUMP\n      EXIT CODE (0)\n   END\n./       ADD   NAME=SPLCLEAN\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED WHEN THE SPOOL REACHES 80%. IT         */\n/*  DELETES CLASS A , T AND R OUTPUT.                             */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* SHOULD TAKE LESS THAN 5 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 5\nSET MAXCMDOUT = 0\nOSCMD $OQ,CANCEL,Q=T,A=0\nOSCMD $OQ,CANCEL,Q=R,A=0\nOSCMD $OT1-9999,Q=A,CANCEL\n./       ADD   NAME=STRTAUTO\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED WHEN TSSO HAS BEEN INITIALIZED         */\n/*  (TRIGGERED BY MSG TSST060I)                                   */\n/*                                                                */\n/*  IT STARTS AUTOA IF IT IS NOT ALREADY ACTIVE USING             */\n/*  PARM=STARTUP.                                                 */\n/*                                                                */\n/*  AUTOA WILL IN TURN EXECUTE TSSO CLIST STARTUP ON WEEK DAYS    */\n/*  TO START ALL ONLINES ETC.                                     */\n/*                                                                */\n/*  THIS CLIST WILL ALSO EXECUTE DATE CLIST TO DISPLAY IPL DATE   */\n/******************************************************************/\n/* SET TO MAX TO GET ALL OUTSTANDING REPLIES                      */\n/*  CONTROL LIST CONLIST SYMLIST     ***/\nSET MAXCMDOUT = 50\nSET CMDWAIT   = 1\nOSCMD #DATE\nOSCMD D J,AUTOA\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 = NOT AND &STR(&STATUS2) = FOUND THEN GOTO START\n      OSWTO ** AUTOA IS ALREADY ACTIVE ***\n      EXIT CODE(0)\n   END\nSTART: +\nOSCMD S AUTOA.A,PARM=STARTUP\nEXIT CODE(0)\n./       ADD   NAME=STRT328X\nPROC 0\n/******************************************************************/\n/*  THIS CLIST IS EXECUTED BY AUTOA RIGHT AFTER AN IPL            */\n/*                                                                */\n/*  IT STARTS JES328X AND US328X                                  */\n/******************************************************************/\n/* CONTROL LIST CONLIST SYMLIST                                   */\n/* MAXIMUM OF 10 LINES EXPECTED FROM D J,L                        */\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nSET MAXCMDOUT = 10\nOSCMD S SYSJOB,JOB=JESLNES\nOSPAUSE 180\n/******************************************************************/\nOSCMD D J,JES328X\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO JES328X\nOSCMD S JES328X\nJES328X: +\nOSPAUSE 5\n/******************************************************************/\nOSCMD D J,US328X\nSET STATUS1 = &STR(&CMDOUT5W2)\nSET STATUS2 = &STR(&CMDOUT5W3)\nIF &STATUS1 \u00ac= NOT AND &STR(&STATUS2) \u00ac= FOUND THEN GOTO US328X\nOSCMD S US328X\nUS328X: +\nEXIT CODE(0)\n./       ADD   NAME=TEMP\nPROC 0\nSET MAXCMDOUT = 200\nSET CMDWAIT   = 1\nOSWTO TESTING....\nEXIT CODE(0)\n./       ADD   NAME=TOOLONG\nPROC 0 MSG()\n\n  /****************************************************************/\n  /*  THIS CLIST IS EXECUTED IN RESPONSE TO MESSAGE $HASP308      */\n  /* WHICH IS TO THE EFFECT THAT A JOB IS EXCEEDING ITS RUNTIME   */\n  /* ESTIMATE. THE CLIST WRITES A THREATENING MESSAGE INTO THE    */\n  /* OFFENDERS JOBLOG AND REFLECTS THE ORIGINAL MESSAGE TO THE    */\n  /* TSO SESSION OF THE SUBMITTOR, IF HE SHE OR IT CAN BE         */\n  /* IDENTIFIED.                                                  */\n  /****************************************************************/\n\nSET JOBN = &SUBSTR(10:17,&STR(&MSG))\nSET LEN = &LENGTH(&JOBN)\nIF &SUBSTR(1:1,&JOBN) = &STR(P) THEN DO\n IF &LEN = 8 THEN GOTO EXIT\nEND\nSET MAXCMDOUT = 10\nSET CMDWAIT = 1\nOSCMD $D'&JOBN',L=Z\nIF &CMDOUT > 2 THEN DO\n   SET &I = 3\n   DO WHILE (&I <= &CMDOUT)\n      SET &E = &&CMDOUT&I.W4\n      IF &STR(&E) = &STR(EXECUTING) THEN DO\n         SET &JN = &&CMDOUT&I.W2\n         OSCMD $DMJ&JN,' '\n         OSCMD $DMJ&JN,' ===> PLEASE USE A LONGER TIME ESTIMATE'\n         OSCMD $DMJ&JN,' '\n         SET &I = &&CMDOUT\n      END\n      SET &I = &I + 1\n   END\nEND\nSET UID = &SUBSTR(1:&LEN-1,&JOBN)\nSET MAXCMDOUT = 5\nSET CMDWAIT = 1\nOSCMD D TS,&UID\nSET NF = &STR(&CMDOUT5W2 &CMDOUT5W3)\nIF &STR(&NF) = &STR(NOT FOUND) THEN GOTO EXIT\nOSCMD SEND '&MSG',USER=(&UID),LOGON\nGOTO EXIT\nEXIT:+\nEND\n./       ADD   NAME=UNAV\nPROC 1 JOB\n\n  /****************************************************************/\n  /*  THIS CLIST IS EXECUTED IN RESPONSE TO MESSAGE DTM1462I      */\n  /* WHICH IS TO THE EFFECT THAT A JOB WOULD REQUEST VOLUMES THAT */\n  /* ARE NOT AVAILABLE. A NO-ROLL MESSAGE IS WRITTEN TO THE       */\n  /* CONSOLE WITH THE JOBNAME.                                    */\n  /*  THIS CLIST IS USED IN CONNECTION WITH THE CROWNTEK PRODUCT  */\n  /* THRUPUT MANAGER.                                             */\n  /****************************************************************/\n\n WRITE *HI &JOB HELD DUE TO UNAVAILABLE VOLUMES.\n WRITE *HI USE COMMAND \"F TM,D JNNNN UNAV\" TO IDENTIFY THE VOLUME.\nEND\n./       ADD   NAME=USTRIDMS\nPROC 0\n/******************************************************************/\n/*  THIS CLIST AUTOMATICALLY REPLIES TO THE OUTSTANDING REPLY     */\n/*  FOR USTRIDMS. NORMALLY THIS WILL BE EXECUTED BY AUTO AT       */\n/*  PREDEFINED TIME (21:00). THE PROCESSING INVOLVES ISSUEING     */\n/*  'D R,L' COMMAND AND SCANNING THE OUTPUT FOR THE DCIDMS        */\n/*  VERSION ID CV2. IT THEN REPLIES 'SHUTDOWN' FOR THAT REPLY     */\n/*  ID.                                                           */\n/*  MAINTENANCE LOG                                               */\n/*  ===============                                               */\n/*  WHO      WHEN                     WHAT                        */\n/*  ---      ----                     ----                        */\n/*                                                                */\n/******************************************************************/\n/* SET TO MAX TO GET ALL OUTSTANDING REPLIES                      */\nSET MAXCMDOUT = 200\n/* SHOULD TAKE LESS THAN 1 SEC FOR OS CMDS                        */\nSET CMDWAIT   = 1\nOSCMD D R,L\n/* IGNORE FIRST 4 LINES FROM D R,L                                */\nSET I = 5\n/* SCAN THRU REST OF RESPONSE LINES                               */\nDO WHILE (&I <= &CMDOUT)\n/* GET NUMBER OF WORDS IN THE REPLY                               */\nSET WORDS =  &&CMDOUT&I.W\n/* TEST FOR DCIDMS ONLY IF >= 9 WORDS                             */\nIF &WORDS >= 9  THEN +\n  DO\n/* GET VERSION NUMBER                                             */\n  SET VERSION = &&CMDOUT&I.W9\n  SET PGM     = &&CMDOUT&I.W8\n/* IS IT DCIDMS ??                                                */\n  IF &STR(&VERSION) = &STR(V2) AND &STR(&PGM) = &STR(IDMS) THEN +\n      DO\n      SET REPLYID = &&CMDOUT&I.W1\n      SET MAXCMDOUT = 0\n      OSCMD R &REPLYID,SHUTDOWN\n      OSPAUSE 10\n      OSWTO USTRIDMS HAS BEEN SHUTDOWN\n      EXIT CODE(0)\n      END\n  END\nSET I = &I + 1\nEND\nOSWTOH USTRIDMS IS NOT ACTIVE\nEXIT CODE(0)\n", "mimetype": "text/plain", "datatype": "ebcdic", "extension": ".txt"}}}}, "SCRIPTOPTIONS": {"filename": "./CBT399/FILE399.XMI", "LRECL": 80, "loglevel": 30, "outputfolder": "CBT399", "encoding": "cp1140", "unnum": true, "quiet": false, "force": false, "binary": false, "modifydate": true}}