/* REXX */
/*  TRACE R */
 arg message

 /* Just write record             */

 E0016 = 'E0017' DATE('S') TIME('N') 1
 SAVEVPUT('E0016')

EXIT
/*******************************************************************/
SAVEVGET:

 ARG VAL1
 STAT = MSG("OFF")
 DSN = 'SYSX.OPSAUTO.SAVEVAR.'VAL1
 "FREE F(SAVEVAR)"
 "ALLOC F(SAVEVAR) DA('"DSN"') SHR"
 IF RC > 0 THEN
  RETURN 8
 "EXECIO * DISKR SAVEVAR (STEM SAVEVGET. FINIS"
  "FREE F(SAVEVAR)"
  INTERPRET VAL1 '= SAVEVGET.1'
  STAT = MSG("ON")
 RETURN 0

SAVEVPUT:

 ARG VAL1
 STAT = MSG("OFF")
 DSN = 'SYSX.OPSAUTO.SAVEVAR.'VAL1
 "FREE F(SAVEVAR)"
"ALLOC F(SAVEVAR) DA('"DSN"') SHR"
 IF RC > 0 THEN
  DO
"ALLOC F(SAVEVAR) DA('"DSN"') SPA(1 1)",
   "TRACKS RECFM(V B) LRECL(255) BLKSIZE(27920)",
   "VOL(OSPSYS) REUS"
   IF RC > 0 THEN
   DO
    SAY 'UNABLE TO CREATE SAVEVAR DATASET ' DSN
    STAT = MSG("ON")
    RETURN 8
   END
 END
  QUEUE VALUE(VAL1)
  QUEUE ''
  "EXECIO * DISKW SAVEVAR (FINIS"
  "FREE F(SAVEVAR)"
  STAT = MSG("ON")
  RETURN 0
