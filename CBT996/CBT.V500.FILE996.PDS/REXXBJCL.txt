./ ADD NAME=$$LIB    0101-19004-19004-0948-00001-00001-00000-APLKS   49
     USERID().BATCH.REXXJCL
./ ADD NAME=AVGLRECL 0123-16192-18186-1609-00075-00262-00000-APLKS   22
//APLKS    JOB ,'AVG LRECL',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* Set Variables
//  SET FSHLQ=RFIL            FILE SET HLQ
//  SET FILENM=%filenm
//* SET SORTIN=&FSHLQ..SAOLV.&FILENM                   /*dsorg=vsam*/
//* SET SORTIN=PFIL.TSBCV.TSLOGT.MERGED                /*dsorg=vsam*/
//* SET SORTIN=DFIL.TSOLV.TSLOGT.P090216               /*dsorg=vsam*/
//* SET SORTIN=DFIL.TSOLV.TSLOG01.P051618              /*dsorg=vsam*/
//* SET SORTIN=&FSHLQ..AMBCS.AMACTC1..DAM31001.S31I    /*dsorg=ps*/
//* SET SORTIN=PFIL.IMOLV.IMEPAM
//* SET SORTIN=PFIL.IMOLV.IMEPBM
//* SET SORTIN=PFIL.IMOLV.IMEPIM
//  SET SORTOUT=&SYSUID..&FILENM..LRECL.SEQ
//  SET XEQHLQ=APLKS
//  SET XEQDSN=&XEQHLQ..BATCH.REXXLIB             REXX LIBRARY
//* SET XEQDSN=&XEQHLQ..MYTSO.EXEC                REXX LIBRARY
//* SET XEQDSN=&XEQHLQ..WORK.REXXLIB              REXX LIBRARY
//  SET OUT=*                 SYSOUT PRINT CLASS
//  SET DOUT=*                DUMP PRINT CLASS
//  SET WORK=SYSDA
//*
//* Establish LOADLIB search path (place after JCLLIB card)
//JOBLIB   DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//*
//* DELETE SEQ data set
//STEP010  EXEC PGM=IEFBR14   DELETE TARGET DATASET(S)
//OUTDD1   DD  DSN=&SORTOUT,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=20,BLKSIZE=0),
//             DISP=(MOD,DELETE,DELETE)
//*
//* Use SORT to build LRECL statistics file for RECFM=V or VSAM input
//STEP020  EXEC PGM=SORT,
//  PARM='MSGPRT=ALL,DYNALLOC=(&WORK,4)'
//SYSIN    DD  *
    SORT FIELDS=(5,4,BI,A)
    INREC BUILD=(1,4,1,4,9:X'00000001',SEQNUM,4,BI)
    SUM FIELDS=(9,4,BI)
    OUTFIL FNAMES=LRECLSEQ,VTOF,BUILD=(5,4,9,4,13,4,8Z)
    OPTION EQUALS
    END
/*
//SORTIN   DD  DISP=SHR,DSN=&SORTIN
//LRECLSEQ DD  DSN=&SORTOUT,
//             UNIT=&WORK,SPACE=(CYL,(1,1),RLSE),
//             DCB=(RECFM=FB,LRECL=20,BLKSIZE=0),
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=&OUT
//SORTMSG  DD  SYSOUT=&OUT
//SYSUDUMP DD  SYSOUT=&DOUT
//*
//* Write out batch REXX command for TSO
//STEP030  EXEC PGM=ASUP2DSB,
// PARM=('\','%AVGLRECL &SORTOUT\')
//SYSUT2   DD  DSN=&&BCTLCRD,
//             UNIT=&WORK,SPACE=(4000,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4000),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=&OUT
//*
//* Invoke TSO batch environment
//STEP040  EXEC PGM=IKJEFT01,DYNAMNBR=20
//* PGM=IKJEFT1A | PGM=IKJEFT1B better return codes
//* ,PARM='cmd100' | ,PARMDD=
//SYSTSIN  DD  DISP=(OLD,PASS),DSN=&&BCTLCRD      TSO COMMANDS
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//SYSTSPRT DD  SYSOUT=&OUT        TERMINAL OUTPUT
//
./ ADD NAME=BISPF    0123-14135-16181-1137-00023-00011-00000-APLKS   06
//BISPF    JOB ,'BATCH ISPF',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* PROC LIBS AND INCLUDE LIBS (PLACE AFTER THE JOB CARD)
//  JCLLIB   ORDER=(APLKS.MYTSO.INCLIB,
//             APLKS.MYTSO.PROCLIB,
//             PLIB.PROD.PROCLIB)
//*
//* CHANGE '%mbr' TO MEMBER ALL
//* SET JCL VARIABLES
//  SET CTLHLQ=&SYSUID
//  SET CTLMBR=%mbr
//  SET CTLDSN=&CTLHLQ..WORK.DATALIB(&CTLMBR)    TSO COMMANDS
//  SET XEQHLQ=&SYSUID
//  SET XEQDSN=&XEQHLQ..MYTSO.EXEC               REXX LIBRARY
//* SET XEQDSN=&XEQHLQ..WORK.REXXLIB             REXX LIBRARY
//*
//* INVOKE TSO/ISPF BATCH ENVIRONMENT
//STEP020  EXEC BISPF,
//             REXXLIB=&XEQDSN
//SYSTSIN  DD  DISP=SHR,DSN=&CTLDSN         TSO COMMANDS
//
./ ADD NAME=BLDRACF  0107-16049-18186-1609-00044-00023-00000-APLKS   34
//APLKS    JOB ,'BATCH TSO',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* SET JCL VARIABLES
//  SET DSFLTR=SYS1.**
//  SET CLASS=
//  SET TGTDSN=&SYSUID..BLDRACF.CARDS
//  SET XEQHLQ=&SYSUID
//  SET XEQDSN=&XEQHLQ..BATCH.REXXLIB   REXX LIBRARY
//  SET WORK=SYSDA
//*
//* DELETE DATA SET(S)
//STEP010  EXEC PGM=IEFBR14
//OUTDD1   DD  DSN=&TGTDSN,
//             UNIT=&WORK,SPACE=(TRK,(1)),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=0),
//             DISP=(MOD,DELETE,DELETE)
//*
//* WRITE OUT TSO CTL STMTS
//STEP020  EXEC PGM=ASUP2DSB,
//  PARM=('\','%BLDRACF &DSFLTR &CLASS\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&&BCTLCRD,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=0),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* INVOKE TSO BATCH ENVIRONMENT
//STEP030  EXEC PGM=IKJEFT01,DYNAMNBR=20
//SYSTSIN  DD  DSN=&&BCTLCRD,      TSO COMMANDS
//             DISP=(OLD,DELETE)
//SYSTSPRT DD  SYSOUT=*            TERMINAL OUTPUT
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//DDOUT    DD  DSN=&TGTDSN,
//             UNIT=&WORK,SPACE=(TRK,(5,5)),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=0),
//             DISP=(NEW,CATLG,DELETE)
//
./ ADD NAME=BREXX    0104-18182-18193-1030-00028-00029-00000-APLKS   03
//APLKS    JOB ,'BATCH REXX',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* SET JCL VARIABLES
//  SET XEQDSN=&SYSUID..MYTSO.EXEC     REXX LIBRARY
//*
//* INVOKE REXX BATCH ENVIRONMENT
//STEP010  EXEC PGM=IRXJCL,PARM='BULK'
//SYSTSIN  DD  DUMMY
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN
//*
//         DD  DISP=SHR,DSN=IDI.SIDIEXEC
//         DD  DISP=SHR,DSN=FMN.SFMNEXEC
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=EOY.SEOYCLIB
//         DD  DISP=SHR,DSN=EOX.SEPHCLB1
//         DD  DISP=SHR,DSN=SYS1.SEDGEXE1
//         DD  DISP=SHR,DSN=GLD.SGLDEXEC
//         DD  DISP=SHR,DSN=SYS1.SBPXEXEC
//         DD  DISP=SHR,DSN=AOP.SAOPEXEC
//         DD  DISP=SHR,DSN=FFST.V120ESA.SEPWSRC1
//         DD  DISP=SHR,DSN=IOE.SIOEEXEC
//         DD  DISP=SHR,DSN=ISF.SISFEXEC
//         DD  DISP=SHR,DSN=EUVF.SEUVFEXC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//         DD  DISP=SHR,DSN=SYSMGT.APPDEV.SYSEXEC
./ ADD NAME=BSDSF    0101-14358-14358-0940-00022-00022-00000-APLKS   10
//APLKS    JOB ,'BATCH TSO/SDSF',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* CHANGE '%mbr' TO MEMBER ALL
//* SET JCL VARIABLES
//  SET CTLHLQ=&SYSUID
//  SET CTLMBR=%mbr
//  SET CTLDSN=&CTLHLQ..WORK.DATALIB(&CTLMBR)     TSO COMMANDS
//  SET XEQHLQ=&SYSUID
//  SET XEQDSN=&XEQHLQ..MYTSO.EXEC                REXX LIBRARY
//*
//* INVOKE TSO BATCH ENVIRONMENT
//STEP020  EXEC PGM=IKJEFT01,DYNAMNBR=50
//SYSTSIN  DD  DISP=SHR,DSN=&CTLDSN               TSO COMMANDS
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//
./ ADD NAME=BTSO     0106-14182-16160-1224-00026-00034-00000-APLKS   53
//APLKS    JOB ,'BATCH TSO',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* CHANGE '%mbr' TO MEMBER ALL
//* SET JCL VARIABLES
//  SET CTLHLQ=&SYSUID
//  SET CTLMBR=%mbr
//  SET CTLDSN=&CTLHLQ..WORK.DATALIB(&CTLMBR)     TSO COMMANDS
//  SET XEQHLQ=&SYSUID
//  SET XEQDSN=&XEQHLQ..BATCH.REXXLIB             REXX LIBRARY
//* SET XEQDSN=&XEQHLQ..MYTSO.EXEC                REXX LIBRARY
//* SET XEQDSN=&XEQHLQ..WORK.REXXLIB              REXX LIBRARY
//*
//* INVOKE TSO BATCH ENVIRONMENT
//STEP020  EXEC PGM=IKJEFT01,DYNAMNBR=20
//* PGM=IKJEFT1A | PGM=IKJEFT1B better return codes
//* ,PARM='cmd100' | ,PARMDD=
//SYSTSIN  DD  DISP=SHR,DSN=&CTLDSN               TSO COMMANDS
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//
./ ADD NAME=CCB2EZT  0105-19200-19200-1625-00030-00030-00000-APLKS   52
//APLKS    JOB ,'BATCH REXX',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* SET JCL VARIABLES
//  SET XEQDSN=APLKS.BATCH.REXXLIB      REXX LIBRARY
//  SET INPUT=&SYSUID..FILEMGR.LIST
//  SET OUTPUT=&SYSUID..CCB2EZT.SCRAP
//  SET WORK=SYSDA
//*
//* DELETE TEMPORARY DATA SET(S)
//STEP010  EXEC PGM=IEFBR14
//OUTDD1   DD  DSN=&OUTPUT,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=6080),
//             DISP=(MOD,DELETE,DELETE)
//SYSPRINT DD  SYSOUT=*
//*
//* INVOKE REXX BATCH ENVIRONMENT
//STEP020  EXEC PGM=IRXJCL,PARM='CCB2EZT'
//SYSTSIN  DD  DUMMY
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN
//INPUT    DD  DISP=SHR,DSN=&INPUT
//OUTPUT   DD  DSN=&OUTPUT,
//             UNIT=&WORK,SPACE=(TRK,(5,5),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=6080),
//             DISP=(NEW,CATLG,DELETE)
//SYSTSPRT DD  SYSOUT=*                 TERMINAL OUTPUT
//*
//
./ ADD NAME=CSIALI#  0104-17166-18186-1609-00068-00062-00000-APLKS   44
//APLKS    JOB ,'BATCH ALIAS COUNT',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* PROC LIBS AND INCLUDE LIBS (PLACE AFTER THE JOB CARD)
//  JCLLIB   ORDER=(APLKS.MYTSO.INCLIB,
//             APLKS.MYTSO.PROCLIB,
//             PLIB.PROD.PROCLIB)
//*
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//  SET CTLDSN=&LSHLQ..PDSUTIL.CTLCARD
//  SET RPTPDS=&LSHLQ..WORK.LISTING     REPORT LIBRARY
//  SET RPTDSN=&RPTPDS(ALIASCNT)
//  SET XEQPDS=APLKS.BATCH.REXXLIB      REXX LIBRARY
//  SET WORK=SYSDA
//*
//* DELETE TEMPORARY DATA SET(S)
//STEP010  EXEC PGM=IEFBR14   DELETE TARGET DATASET(S)
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//SYSPRINT DD  SYSOUT=*
//*
//* WRITE OUT PDSUTIL CONTROL CARD(S)
//STEP020  EXEC PGM=ASUP2DSB,
//             PARM=('\','DELETE,ALIASCNT\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&CTLDSN,   PDSUTIL CONTROL CARDS (OUTPUT)
//             UNIT=&WORK,SPACE=(4080,(1,1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//*
//* WRITE OUT TSO/ISPF/REXX CONTROL CARD(S)
//STEP030  EXEC PGM=ASUP2DSB,
//             PARM=('\',
//             ' ISPSTART CMD(PDSUTIL)\',
//             ' &LSHLQ..PDSUTIL.CTLCARD\',
//             ' &LSHLQ..WORK.LISTING\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&&CTLCRD,
//             UNIT=&WORK,SPACE=(4080,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* INVOKE TSO/ISPF/REXX BATCH ENVIRONMENT
//STEP040  EXEC BISPF,
//             REXXLIB=&XEQPDS
//SYSTSIN  DD  DISP=(OLD,PASS),DSN=&&CTLCRD       /*TSO COMMANDS*/
//*
//* INVOKE REXX BATCH ENVIRONMENT
//STEP110  EXEC PGM=IRXJCL,PARM='CSIALI#'
//SYSTSIN  DD  DUMMY
//SYSEXEC  DD  DISP=SHR,DSN=&XEQPDS     REXX LIBRARY
//SYSTSPRT DD  SYSOUT=*                 TERMINAL OUTPUT
//REPORT   DD  DISP=SHR,DSN=&RPTPDS     REPORT LIBRARY
//*
//* DELETE TEMPORARY DATA SETS
//STEP120  EXEC PGM=IEFBR14   DELETE TARGET DATASET
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//*
//
./ ADD NAME=CSIALIGN 0104-17166-18186-1609-00085-00079-00000-APLKS   57
//APLKS    JOB ,'BATCH ALIAS GEN',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* PROC LIBS AND INCLUDE LIBS (PLACE AFTER THE JOB CARD)
//  JCLLIB   ORDER=(APLKS.MYTSO.INCLIB,
//             APLKS.MYTSO.PROCLIB,
//             PLIB.PROD.PROCLIB)
//*
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//  SET CTLDSN=&LSHLQ..PDSUTIL.CTLCARD
//  SET RPTPDS=&LSHLQ..WORK.LISTING     REPORT LIBRARY
//  SET RPTDSN=&RPTPDS(ALIASGEN)
//  SET XEQPDS=APLKS.BATCH.REXXLIB      REXX LIBRARY
//  SET CATDSN=CATALOG.BCSP.R13.MASTER
//* SET CATDSN=CATALOG.BCSP.CICSTS32
//* SET CATDSN=CATALOG.BCSP.CICSTS42
//* SET CATDSN=CATALOG.BCSP.EMCSNAP
//* SET CATDSN=CATALOG.BMC
//* SET CATDSN=CATALOG.BOOKS.ZOS13
//* SET CATDSN=CATALOG.DEVL
//* SET CATDSN=CATALOG.HSM
//* SET CATDSN=CATALOG.LOGGER
//* SET CATDSN=CATALOG.PROD
//* SET CATDSN=CATALOG.QUAL
//* SET CATDSN=CATALOG.SHARE
//* SET CATDSN=CATALOG.SYSMGT
//* SET CATDSN=CATALOG.SYSWARE
//* SET CATDSN=CATALOG.TSO
//* SET CATDSN=CATALOG.VENDORS
//  SET WORK=SYSDA
//*
//* DELETE TEMPORARY DATA SETS
//STEP010  EXEC PGM=IEFBR14   DELETE TARGET DATA SET(S)
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//SYSPRINT DD  SYSOUT=*
//*
//* WRITE OUT PDSUTIL CONTROL CARD(S)
//STEP020  EXEC PGM=ASUP2DSB,
//             PARM=('\','DELETE,ALIASGEN\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&CTLDSN,   PDSUTIL CONTROL CARDS (OUTPUT)
//             UNIT=&WORK,SPACE=(4080,(1,1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//*
//* WRITE OUT TSO/ISPF/REXX CONTROL CARD(S)
//STEP030  EXEC PGM=ASUP2DSB,
//             PARM=('\',
//             ' ISPSTART CMD(PDSUTIL)\',
//             ' &LSHLQ..PDSUTIL.CTLCARD\',
//             ' &LSHLQ..WORK.LISTING\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&&CTLCRD,
//             UNIT=&WORK,SPACE=(4080,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* INVOKE TSO/ISPF/REXX BATCH ENVIRONMENT
//STEP040  EXEC BISPF,
//             REXXLIB=&XEQPDS
//SYSTSIN  DD  DISP=(OLD,PASS),DSN=&&CTLCRD  TSO COMMANDS
//*
//* INVOKE REXX BATCH ENVIRONMENT
//STEP110  EXEC PGM=IRXJCL,PARM='CSIALIGN &CATDSN'
//SYSTSIN  DD  DUMMY
/*
//SYSEXEC  DD  DISP=SHR,DSN=&XEQPDS     REXX LIBRARY
//SYSTSPRT DD  SYSOUT=*                 TERMINAL OUTPUT
//REPORT   DD  DISP=SHR,DSN=&RPTPDS     REPORT LIBRARY
//*
//* DELETE TEMPORARY DATA SETS
//STEP120  EXEC PGM=IEFBR14   DELETE TARGET DATASET
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//*
//
./ ADD NAME=CSIGDS   0103-17166-18186-1610-00068-00062-00000-APLKS   08
//APLKS    JOB ,'BATCH LIST GDG/GDS',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* PROC LIBS AND INCLUDE LIBS (PLACE AFTER THE JOB CARD)
//  JCLLIB   ORDER=(APLKS.MYTSO.INCLIB,
//             APLKS.MYTSO.PROCLIB,
//             PLIB.PROD.PROCLIB)
//*
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//  SET CTLDSN=&LSHLQ..PDSUTIL.CTLCARD
//  SET RPTPDS=&LSHLQ..WORK.LISTING     REPORT LIBRARY
//  SET RPTDSN=&RPTPDS(GDGGDS)
//  SET XEQPDS=APLKS.BATCH.REXXLIB      REXX LIBRARY
//  SET WORK=SYSDA
//*
//* DELETE TEMPORARY DATA SETS
//STEP010  EXEC PGM=IEFBR14    DELETE TARGET DATASET(S)
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//SYSPRINT DD  SYSOUT=*
//*
//* WRITE OUT PDSUTIL CONTROL CARD(S)
//STEP020  EXEC PGM=ASUP2DSB,
//             PARM=('\','DELETE,GDGGDS\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&CTLDSN,   PDSUTIL CONTROL CARDS (OUTPUT)
//             UNIT=&WORK,SPACE=(4080,(1,1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//*
//* WRITE OUT TSO/ISPF/REXX CONTROL CARD(S)
//STEP030  EXEC PGM=ASUP2DSB,
//             PARM=('\',
//             ' ISPSTART CMD(PDSUTIL)\',
//             ' &LSHLQ..PDSUTIL.CTLCARD\',
//             ' &LSHLQ..WORK.LISTING\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&&CTLCRD,
//             UNIT=&WORK,SPACE=(4080,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* INVOKE TSO/ISPF/REXX BATCH ENVIRONMENT
//STEP040  EXEC BISPF,
//             REXXLIB=&XEQPDS
//SYSTSIN  DD  DISP=(OLD,PASS),DSN=&&CTLCRD  TSO COMMANDS
//*
//* INVOKE REXX BATCH ENVIRONMENT
//STEP110  EXEC PGM=IRXJCL,PARM='CSIGDS'
//SYSTSIN  DD  DUMMY
//SYSEXEC  DD  DISP=SHR,DSN=&XEQPDS     REXX LIBRARY
//SYSTSPRT DD  SYSOUT=*                 TERMINAL OUTPUT
//REPORT   DD  DISP=SHR,DSN=&RPTPDS     REPORT LIBRARY
//*
//* DELETE TEMPORARY DATA SETS
//STEP120  EXEC PGM=IEFBR14    DELETE TARGET DATASET
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//*
//
./ ADD NAME=CSITAPE  0103-17166-18186-1610-00068-00062-00000-APLKS   19
//APLKS    JOB ,'BATCH LIST TAPE(S)',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* PROC LIBS AND INCLUDE LIBS (PLACE AFTER THE JOB CARD)
//  JCLLIB   ORDER=(APLKS.MYTSO.INCLIB,
//             APLKS.MYTSO.PROCLIB,
//             PLIB.PROD.PROCLIB)
//*
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//  SET CTLDSN=&LSHLQ..PDSUTIL.CTLCARD
//  SET RPTPDS=&LSHLQ..WORK.LISTING     REPORT LIBRARY
//  SET RPTDSN=&RPTPDS(TAPES)
//  SET XEQPDS=APLKS.BATCH.REXXLIB      REXX LIBRARY
//  SET WORK=SYSDA
//*
//* DELETE TEMPORARY DATA SETS
//STEP010  EXEC PGM=IEFBR14    DELETE TARGET DATASET(S)
//SYSPRINT DD  SYSOUT=*
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//*
//* WRITE OUT PDSUTIL CONTROL CARD(S)
//STEP020  EXEC PGM=ASUP2DSB,
//             PARM=('\','DELETE,TAPES\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&CTLDSN,   PDSUTIL CONTROL CARDS (OUTPUT)
//             UNIT=&WORK,SPACE=(4080,(1,1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//*
//* WRITE OUT TSO/ISPF/REXX CONTROL CARD(S)
//STEP030  EXEC PGM=ASUP2DSB,
//             PARM=('\',
//             ' ISPSTART CMD(PDSUTIL)\',
//             ' &LSHLQ..PDSUTIL.CTLCARD\',
//             ' &LSHLQ..WORK.LISTING\')
//STEPLIB  DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//SYSUT2   DD  DSN=&&CTLCRD,
//             UNIT=&WORK,SPACE=(4080,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* INVOKE TSO/ISPF/REXX BATCH ENVIRONMENT
//STEP040  EXEC BISPF,
//             REXXLIB=&XEQPDS
//SYSTSIN  DD  DISP=(OLD,PASS),DSN=&&CTLCRD  TSO COMMANDS
//*
//* INVOKE REXX BATCH ENVIRONMENT
//STEP110  EXEC PGM=IRXJCL,PARM='CSITAPE'
//SYSTSIN  DD  DUMMY
//SYSEXEC  DD  DISP=SHR,DSN=&XEQPDS     REXX LIBRARY
//SYSTSPRT DD  SYSOUT=*                 TERMINAL OUTPUT
//REPORT   DD  DISP=SHR,DSN=&RPTPDS     REPORT LIBRARY
//*
//* DELETE TEMPORARY DATA SETS
//STEP120  EXEC PGM=IEFBR14   DELETE TARGET DATASET
//OUTDD1   DD  DSN=&CTLDSN,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(DSORG=PS,RECFM=FB,LRECL=80,BLKSIZE=4080),
//             DISP=(MOD,DELETE,DELETE)
//*
//
./ ADD NAME=CSVEDIT  0100-16152-16152-0926-00026-00026-00000-APLKS   43
//APLKS    JOB ,'BATCH TSO',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* CHANGE '%mbr' TO MEMBER ALL
//* SET JCL VARIABLES
//  SET CTLHLQ=&SYSUID
//  SET CTLMBR=%mbr
//  SET CTLDSN=&CTLHLQ..WORK.DATALIB(&CTLMBR)     TSO COMMANDS
//  SET XEQHLQ=&SYSUID
//  SET XEQDSN=&XEQHLQ..BATCH.REXXLIB             REXX LIBRARY
//* SET XEQDSN=&XEQHLQ..MYTSO.EXEC                REXX LIBRARY
//* SET XEQDSN=&XEQHLQ..WORK.REXXLIB              REXX LIBRARY
//*
//* INVOKE TSO BATCH ENVIRONMENT
//STEP020  EXEC PGM=IKJEFT01,DYNAMNBR=20
//* PGM=IKJEFT1A | PGM=IKJEFT1B better return codes
//* ,PARM='cmd100' | ,PARMDD=
//SYSTSIN  DD  DISP=SHR,DSN=&CTLDSN               TSO COMMANDS
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//
./ ADD NAME=DCOLDETL 0102-15260-15260-1629-00026-00150-00000-APLKS   28
//APLKS    JOB ,'DCOLDETL',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* **********************************************************
//*  THIS JOB RUNS %RECDDETL AGAINST ONE OF THE DCOLLECT
//*  DATA SETS ALREADY BUILT.
//*
//*   INPUT: &sysuid..DCOLLECT.RECDM
//*  OUTPUT: &sysuid..DCOLLECT.DETAIL.D0cyyddd
//* **********************************************************
//*
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//*
//*  INVOKE REXX EXECS IN TSO ENVIRONMENT
//STEP070  EXEC PGM=IKJEFT01,DYNAMNBR=100,TIME=15
//SYSTSIN  DD  *
 %RECDDETL PFIL.RMBCS.PATEXT.CIS
/*
//SYSEXEC  DD  DISP=SHR,DSN=&LSHLQ..BATCH.REXXLIB
//SYSTSPRT DD  SYSOUT=*
//SYSTERM  DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//
./ ADD NAME=DCOLLECT 0111-94040-17166-1118-00150-00118-00000-APLKS   23
//APLKS    JOB ,'DCOLLECT',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* **********************************************************
//*  THIS JOB RUNS DCOLLECT THEN SORTS THE DATA AND PUTS IT
//*  INTO 4 DIFFERENT FILES. IT THEN RUNS %DCOLDLY FOUND IN
//*  APLKS.BATCH.REXXLIB
//* **********************************************************
//*
//* SET JCL VARIABLES
//  SET FSHLQ=&SYSUID
//  SET LSHLQ=&SYSUID
//  SET BCDSDSN=HSM.BCDS
//  SET MCDSDSN=HSM.MCDS
//  SET WORK=3390
//*
//*
//DELETE1  EXEC PGM=IEFBR14    DELETE TARGET DATASET
//OUTDD1   DD  DSN=&FSHLQ..DCOLLECT.RECDM,
//             UNIT=&WORK,SPACE=(264,(150,50),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(MOD,DELETE,DELETE)
//OUTDD2   DD  DSN=&FSHLQ..DCOLLECT.RECV,
//             UNIT=&WORK,SPACE=(264,(1,1),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(MOD,DELETE,DELETE)
//OUTDD3   DD  DSN=&FSHLQ..DCOLLECT.RECC,
//             UNIT=&WORK,SPACE=(264,(1,1),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(MOD,DELETE,DELETE)
//OUTDD4   DD  DSN=&FSHLQ..DCOLLECT.RECT,
//             UNIT=&WORK,SPACE=(264,(10,10),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=U,
//             DISP=(MOD,DELETE,DELETE)
//OUTDD5   DD  DSN=&FSHLQ..DCOLLECT.RECDMB,
//             UNIT=&WORK,SPACE=(264,(150,50),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(MOD,DELETE,DELETE)
//*
//*  BUILD DCOLLECT FILE
//STEP010  EXEC PGM=IDCAMS
//SYSIN    DD  *
    DCOLLECT  -
      OUTFILE(DCOUT)  -
      MIGD -
      CAPD -
      BACD -
      SMSDATA(ACTIVE) -
      VOLUMES(*)

    IF MAXCC > 0 THEN -
      SET MAXCC = 0
/*
//BCDS     DD  DISP=SHR,DSN=&BCDSDSN
//MCDS     DD  DISP=SHR,DSN=&MCDSDSN
//DCOUT    DD  DSN=&&DCOLLECT,
//             UNIT=&WORK,SPACE=(264,(150,50),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(NEW,PASS,DELETE)
//SYSPRINT DD  SYSOUT=*
//*
//*  SORT D & M RECORDS
//STEP020  EXEC PGM=SORT
//SYSIN    DD  *
 SORT FIELDS=(29,44,CH,A),DYNALLOC=(SYSDA,4),FILSZ=E120000
 INCLUDE COND=((9,2,CH,EQ,C'D '),OR,(9,2,CH,EQ,C'M '))
/*
//SORTIN   DD  DSN=&&DCOLLECT,
//             DISP=(OLD,PASS,DELETE)
//SORTOUT  DD  DSN=&FSHLQ..DCOLLECT.RECDM,
//             UNIT=&WORK,SPACE=(264,(150,50),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//SORTMSG  DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//*
//*  SORT V RECORDS
//STEP030  EXEC PGM=SORT
//SYSIN    DD  *
 SORT FIELDS=(87,8,CH,A,29,6,CH,A),DYNALLOC=(SYSDA,4),FILSZ=E120000
 INCLUDE COND=(9,2,CH,EQ,C'V ')
/*
//SORTIN   DD  DSN=&&DCOLLECT,DISP=(OLD,PASS,DELETE)
//SORTOUT  DD  DSN=&FSHLQ..DCOLLECT.RECV,
//             UNIT=&WORK,SPACE=(264,(1,1),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//SORTMSG  DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//*
//*  SORT C RECORDS
//STEP040  EXEC PGM=SORT
//SYSIN    DD  *
 SORT FIELDS=(29,6,CH,A,35,4,CH,D),DYNALLOC=(SYSDA,4),FILSZ=E120000
 INCLUDE COND=(9,2,CH,EQ,C'C ')
/*
//SORTIN   DD  DSN=&&DCOLLECT,DISP=(OLD,PASS,DELETE)
//SORTOUT  DD  DSN=&FSHLQ..DCOLLECT.RECC,
//             UNIT=&WORK,SPACE=(264,(1,1),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//SORTMSG  DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//*
//*  SORT T RECORDS
//STEP050  EXEC PGM=SORT
//SYSIN    DD  *
 SORT FIELDS=(29,6,CH,A,35,4,CH,D),DYNALLOC=(SYSDA,4),FILSZ=E120000
 INCLUDE COND=(9,2,CH,EQ,C'T ')
/*
//SORTIN   DD  DSN=&&DCOLLECT,DISP=(OLD,PASS,DELETE)
//SORTOUT  DD  DSN=&FSHLQ..DCOLLECT.RECT,
//             UNIT=&WORK,SPACE=(264,(10,10),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=U,
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//SORTMSG  DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//*
//*  SORT D & M & B RECORDS
//STEP060  EXEC PGM=SORT
//SYSIN    DD  *
 SORT FIELDS=(29,44,CH,A),DYNALLOC=(SYSDA,4),FILSZ=E120000
 INCLUDE COND=((9,2,CH,EQ,C'D '),OR,(9,2,CH,EQ,C'M '),OR,
               (9,2,CH,EQ,C'B '))
/*
//SORTIN   DD  DSN=&&DCOLLECT,DISP=(OLD,PASS,DELETE)
//SORTOUT  DD  DSN=&FSHLQ..DCOLLECT.RECDMB,
//             UNIT=&WORK,SPACE=(264,(150,50),RLSE),
//             DSORG=PS,RECFM=VB,LRECL=600,AVGREC=K,
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//SORTMSG  DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//*
//*  INVOKE REXX EXECS IN TSO ENVIRONMENT
//STEP070  EXEC PGM=IKJEFT01,DYNAMNBR=100,TIME=50
//SYSTSIN  DD  *
 %DCOLDLY
/*
//SYSEXEC  DD  DISP=SHR,DSN=APLKS.BATCH.REXXLIB
//SYSTSPRT DD  SYSOUT=*
//SYSTERM  DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//
./ ADD NAME=DCOLPAT  0104-17166-18149-1352-00042-00026-00000-APLKS   29
//APLKS    JOB ,'DCOLPAT',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* **********************************************************
//*  This JOB runs %SPDISK against an already existing
//*  DCOLLECT data set.
//*
//*  DEFAULT  INPUT: &sysuid..DCOLLECT.RECDM
//*  DEFAULT OUTPUT: &sysuid..DCOLLECT ...
//*     where ... is determined by the REXX exec %SPDISK
//*
//*  to override the default INPUT and OUTPUT data sets
//*  specify them following %SPDISK in DD SYSTSIN
//*
//*  specify the patterns in DD SYSIN, one pattern per card
//*
//*  Pattern can have:
//*     trailing .** with nothing following
//*     **  for multi-qualifier mask
//*     *   for multi-character mask
//*     %   for single-character mask
//*
//* **********************************************************
//*
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//  SET XEQDSN=&SYSUID..BATCH.REXXLIB
//*
//*  INVOKE REXX EXEC IN TSO ENVIRONMENT
//STEP070  EXEC PGM=IKJEFT01,DYNAMNBR=100,TIME=15
//SYSTSIN  DD  *
 %SPDISK NONE
/*
//SYSIN    DD  *              data set pattern(s)
/*
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN
//SYSTSPRT DD  SYSOUT=*
//SYSTERM  DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//
./ ADD NAME=FILEANAL 0104-18149-19217-1510-00250-00001-00000-APLKS   22
//APLKS    JOB ,'FILEANAL',                                             JOB13063
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* SET JCL VARIABLES
//  SET FSHLQ=&SYSUID..FANAL            /*FILE SET HLQ*/
//  SET XEQDSN=APLKS.BATCH.REXXLIB      /*REXX LIBRARY*/
//*
//* SET INPUT=SYS1.WLM.CDS01  /*AM=QSAM,RECFM=U,LRECL=0,BLKSIZE=0*/
//* SET FSTATS=&FSHLQ..QSAMU.WLMCDS01
//* SET SRTOUT1=&FSHLQ..QSAMU.WLMCDS01.S1S   /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..QSAMU.WLMCDS01.S2S   /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..QSAMU.WLMCDS02.S3S   /*type=3,summarized*/
//*
//* SET INPUT=SYS1.DAE        /*AM=QSAM,RECFM=FB,LRECL=255*/
//* SET FSTATS=&FSHLQ..QSAMFB.DAE
//* SET SRTOUT1=&FSHLQ..QSAMFB.DAE.S1S       /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..QSAMFB.DAE.S2S       /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..QSAMFB.DAE.S3S       /*type=3,summarized*/
//*
//* SET INPUT=QFIL.ACBCS.AM.RM.ADDRCHG  /*AM=QSAM,RECFM=VB,LRECL=736*/
//* SET FSTATS=&FSHLQ..QSAMVB.ACAMRMAC
//* SET SRTOUT1=&FSHLQ..QSAMVB.ACAMRMAC.S1S  /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..QSAMVB.ACAMRMAC.S2S  /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..QSAMVB.ACAMRMAC.S3S  /*type=3,summarized*/
//*
//* SET INPUT=RFIL.TSOLV.TSLOGT.P080219 /*AM=VSAM,ORG=ESDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.TSLOGT
//* SET SRTOUT1=&FSHLQ..VSAMVB.TSLOGT.S1S    /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.TSLOGT.S2S    /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.TSLOGT.S3S    /*type=3,summarized*/
//*
//* SET INPUT=RFIL.TSOLV.TSLOG01.P080219  /*AM=VSAM,ORG=ESDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.TSLOG01
//* SET SRTOUT1=&FSHLQ..VSAMVB.TSLOG01.S1S   /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.TSLOG01.S2S   /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.TSLOG01.S3S   /*type=3,summarized*/
//*
//* SET INPUT=RFIL.TSOLV.TSLOG02.P080219  /*AM=VSAM,ORG=ESDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.TSLOG02
//* SET SRTOUT1=&FSHLQ..VSAMVB.TSLOG02.S1S   /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.TSLOG02.S2S   /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.TSLOG02.S3S   /*type=3,summarized*/
//*
//* SET INPUT=RFIL.TSOLV.TSLOG03.P080219  /*AM=VSAM,ORG=ESDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.TSLOG03
//* SET SRTOUT1=&FSHLQ..VSAMVB.TSLOG03.S1S   /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.TSLOG03.S2S   /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.TSLOG03.S3S   /*type=3,summarized*/
//*
//* SET INPUT=RFIL.TSOLV.TSLOG04.P080219  /*AM=VSAM,ORG=ESDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.TSLOG04
//* SET SRTOUT1=&FSHLQ..VSAMVB.TSLOG04.S1S   /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.TSLOG04.S2S   /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.TSLOG04.S3S   /*type=3,summarized*/
//*
//* SET INPUT=RFIL.TSOLV.TSLOG05.P080219  /*AM=VSAM,ORG=ESDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.TSLOG05
//* SET SRTOUT1=&FSHLQ..VSAMVB.TSLOG05.S1S   /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.TSLOG05.S2S   /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.TSLOG05.S3S   /*type=3,summarized*/
//*
//* SET INPUT=QFIL.SAOLV.SAP01     /*AM=VSAM,ORG=KSDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.SAP01
//* SET SRTOUT1=&FSHLQ..VSAMVB.SAP01.S1S     /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.SAP01.S2S     /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.SAP01.S3S     /*type=3,summarized*/
//*
//* SET INPUT=QFIL.SAOLV.SAREP     /*AM=VSAM,ORG=KSDS*/
//* SET FSTATS=&FSHLQ..VSAMVB.SAREP
//* SET SRTOUT1=&FSHLQ..VSAMVB.SAREP.S1S     /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMVB.SAREP.S2S     /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMVB.SAREP.S3S     /*type=3,summarized*/
//*
//* SET INPUT=PFIL.IMOLV.IMEPAM    /*AM=VSAM,ORG=KSDS*/
//* SET FSTATS=&FSHLQ..VSAMFB.IMEPAM
//* SET SRTOUT1=&FSHLQ..VSAMFB.IMEPAM.S1S    /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMFB.IMEPAM.S2S    /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMFB.IMIPAM.S3S    /*type=3,summarized*/
//*
//* SET INPUT=PFIL.IMOLV.IMEPBM    /*AM=VSAM,ORG=KSDS*/
//* SET FSTATS=&FSHLQ..VSAMFB.IMEPBM
//* SET SRTOUT1=&FSHLQ..VSAMFB.IMEPBM.S1S    /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMFB.IMEPBM.S2S    /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMFB.IMIPBM.S3S    /*type=3,summarized*/
//*
//* SET INPUT=PFIL.IMOLV.IMEPIM    /*AM=VSAM,ORG=KSDS*/
//* SET FSTATS=&FSHLQ..VSAMFB.IMEPIM
//* SET SRTOUT1=&FSHLQ..VSAMFB.IMEPIM.S1S    /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMFB.IMEPIM.S2S    /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMFB.IMIPIM.S3S    /*type=3,summarized*/
//*
//* SET INPUT=DFIL.TSOLV.TSEORM    /*AM=VSAM,ORG=KSDS*/
//* SET FSTATS=&FSHLQ..VSAMFB.TSEORM
//* SET SRTOUT1=&FSHLQ..VSAMFB.TSEORM.S1S    /*type=1,summarized*/
//* SET SRTOUT2=&FSHLQ..VSAMFB.TSEORM.S2S    /*type=2,summarized*/
//* SET SRTOUT3=&FSHLQ..VSAMFB.TSEORM.S3S    /*type=3,summarized*/
//*
//  SET WORK=3390
//*
//* Establish LOADLIB search path (place after JCLLIB card)
//JOBLIB   DD  DISP=SHR,DSN=APLKS.ASUTIL.LOADLIB
//*
//* DELETE output file statistics
//STEP010  EXEC PGM=IEFBR14   DELETE TARGET DATASET(S)
//OUTDD1   DD  DSN=&FSTATS,
//             UNIT=(&WORK,5),SPACE=(TRK,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(MOD,DELETE,DELETE)
//*
//* ASUBSZAB ASU3QFAA extract file statistics
//STEP020  EXEC PGM=ASUBSZAB
//CEEOPTS  DD  *
  ALL31(ON),RPTOPT(ON),TERMTHDACT(UADUMP)
/*
//IDIOFF   DD  DUMMY
//* use RECFM=U when you want to read a QSAM file via block
//SYSUT1   DD  DISP=SHR,DSN=&INPUT
//*            DCB=(RECFM=U)
//SYSUT2   DD  DSN=&FSTATS,
//             UNIT=&WORK,SPACE=(CYL,(5,30),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(NEW,CATLG,DELETE)
//SYSOUT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//CEEDUMP  DD  SYSOUT=*
//SYSUDUMP DD  SYSOUT=*
//*
//* DELETE output sort data set(s)
//STEP030  EXEC PGM=IEFBR14
//SRTODD1  DD  DSN=&SRTOUT1,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(MOD,DELETE,DELETE)
//SRTODD2  DD  DSN=&SRTOUT2,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(MOD,DELETE,DELETE)
//SRTODD3  DD  DSN=&SRTOUT3,
//             UNIT=&WORK,SPACE=(TRK,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(MOD,DELETE,DELETE)
//*
//* split input file statistics to 3 output and sort
//STEP040  EXEC PGM=ICETOOL
//TOOLIN   DD  *         ICETOOL CNTL STMT IN
    SORT FROM(INPDD1) TO(SRTODD1) USING(CRD1)
    SORT FROM(INPDD1) TO(SRTODD2) USING(CRD2)
    SORT FROM(INPDD1) TO(SRTODD3) USING(CRD3)
/*
//CRD1CNTL DD  *         SORT CONTROL STATEMENT PARMLIB
    SORT FIELDS=(13,04,BI,A)
    SUM FIELDS=(17,04,BI)
    INCLUDE COND=(01,01,CH,EQ,C'1')
    OPTION EQUALS
/*
//CRD2CNTL DD  *         SORT CONTROL STATEMENT PARMLIB
    SORT FIELDS=(13,04,BI,A)
    SUM FIELDS=(17,04,BI)
    INCLUDE COND=(01,01,CH,EQ,C'2')
    OPTION EQUALS
/*
//CRD3CNTL DD  *         SORT CONTROL STATEMENT PARMLIB
    SORT FIELDS=(13,04,FI,A)
    SUM FIELDS=(17,04,BI)
    INCLUDE COND=(01,01,CH,EQ,C'3')
    OPTION EQUALS
/*
//SORTDIAG DD  SYSOUT=*      SORT DIAGNOSTIC OUT
//SYSPRINT DD  SYSOUT=*
//TOOLMSG  DD  SYSOUT=*      ICETOOL MSG OUT
//DFSMSG   DD  SYSOUT=*      SORT MSG OUT
//LISTDD   DD  SYSOUT=*
//INPDD1   DD  DISP=SHR,DSN=&FSTATS
//SRTODD1  DD  DSN=&SRTOUT1,
//             UNIT=&WORK,SPACE=(CYL,(5,5),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(NEW,CATLG,DELETE)
//SRTODD2  DD  DSN=&SRTOUT2,
//             UNIT=&WORK,SPACE=(CYL,(5,5),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(NEW,CATLG,DELETE)
//SRTODD3  DD  DSN=&SRTOUT3,
//             UNIT=&WORK,SPACE=(CYL,(5,5),RLSE),
//             DCB=(RECFM=FB,LRECL=32,BLKSIZE=0),
//             DISP=(NEW,CATLG,DELETE)
//*
//* Write out batch REXX command for TSO
//STEP041  EXEC PGM=ASUP2DSB,
// PARM=('\','%RECLANAL &SRTOUT1\')
//SYSUT2   DD  DSN=&&BCTLCRD,
//             UNIT=&WORK,SPACE=(4000,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4000),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* Invoke TSO batch environment
//STEP042  EXEC PGM=IKJEFT01,DYNAMNBR=20
//* PGM=IKJEFT1A | PGM=IKJEFT1B better return codes
//* ,PARM='cmd100' | ,PARMDD=
//SYSTSIN  DD  DISP=(OLD,DELETE),DSN=&&BCTLCRD    TSO COMMANDS
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//*
//* Write out batch REXX command for TSO
//STEP051  EXEC PGM=ASUP2DSB,
// PARM=('\','%BKSZANAL &SRTOUT2\')
//SYSUT2   DD  DSN=&&BCTLCRD,
//             UNIT=&WORK,SPACE=(4000,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4000),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* Invoke TSO batch environment
//STEP052  EXEC PGM=IKJEFT01,DYNAMNBR=20
//* PGM=IKJEFT1A | PGM=IKJEFT1B better return codes
//* ,PARM='cmd100' | ,PARMDD=
//SYSTSIN  DD  DISP=(OLD,DELETE),DSN=&&BCTLCRD    TSO COMMANDS
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//*
//* Write out batch REXX command for TSO
//STEP061  EXEC PGM=ASUP2DSB,
// PARM=('\','%FRAGANAL &SRTOUT3\')
//SYSUT2   DD  DSN=&&BCTLCRD,
//             UNIT=&WORK,SPACE=(4000,(1),RLSE),
//             DCB=(RECFM=FB,LRECL=80,BLKSIZE=4000),
//             DISP=(,PASS)
//SYSOUT   DD  SYSOUT=*
//*
//* Invoke TSO batch environment
//STEP062  EXEC PGM=IKJEFT01,DYNAMNBR=20
//* PGM=IKJEFT1A | PGM=IKJEFT1B better return codes
//* ,PARM='cmd100' | ,PARMDD=
//SYSTSIN  DD  DISP=(OLD,DELETE),DSN=&&BCTLCRD    TSO COMMANDS
//SYSEXEC  DD  DISP=SHR,DSN=&XEQDSN               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//*
./ ADD NAME=MBRCNT   0110-17270-19183-1355-00023-00024-00000-APLKS   00
//APLKS    JOB ,'BATCH TSO',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//  SET CTLDSN=NULLFILE
//  SET SRCLIB=some.pds                           SOURCE LIBRARY
//  SET XEQLIB=&LSHLQ..BATCH.REXXLIB              REXX LIBRARY
//  SET WORK=SYSDA
//*
//* INVOKE TSO BATCH ENVIRONMENT
//STEP020  EXEC PGM=IKJEFT01,DYNAMNBR=20,
// PARM='BXRXPDSC'
//SYSTSIN  DD  DISP=SHR,DSN=&CTLDSN               TSO COMMANDS
//SYSEXEC  DD  DISP=SHR,DSN=&XEQLIB               REXX LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPEXEC
//         DD  DISP=SHR,DSN=SYSMGT.BCSP.REXX.LIB
//SYSPROC  DD  DISP=SHR,DSN=SYSMGT.TSO.CMDPROC    CLIST LIBRARY
//         DD  DISP=SHR,DSN=ISP.SISPCLIB
//SYSTSPRT DD  SYSOUT=*           TERMINAL OUTPUT
//SYSUT1   DD  DISP=SHR,DSN=&SRCLIB               SOURCE LIBRARY
//
./ ADD NAME=RCNVTCAT 0102-18061-18061-1709-00047-00068-00000-APLKS   38
//APLKS    JOB ,'CONVERT CATALOG',
//             CLASS=T,MSGCLASS=H,MSGLEVEL=(1,1),REGION=8M,
//             NOTIFY=&SYSUID  ,TYPRUN=SCAN,RESTART=
//*
//* CHANGE '%mbr'        report member name
//* CHANGE '%cat'        current/old catalog name
//* CHANGE '%ncat'       new catalog name
//* SET JCL VARIABLES
//  SET LSHLQ=&SYSUID
//  SET CATDSN=%cat
//* SET CATDSN=CATALOG.BCSP.R13.MASTER
//* SET CATDSN=CATALOG.BCSP.CICSTS32
//* SET CATDSN=CATALOG.BCSP.CICSTS42
//* SET CATDSN=CATALOG.BCSP.EMCSNAP
//* SET CATDSN=CATALOG.BMC
//* SET CATDSN=CATALOG.BOOKS.ZOS13
//* SET CATDSN=CATALOG.DEVL
//* SET CATDSN=CATALOG.HSM
//* SET CATDSN=CATALOG.LOGGER
//* SET CATDSN=CATALOG.PROD
//* SET CATDSN=CATALOG.QUAL
//* SET CATDSN=CATALOG.SHARE
//* SET CATDSN=CATALOG.SYSMGT
//* SET CATDSN=CATALOG.SYSWARE
//* SET CATDSN=CATALOG.TSO
//* SET CATDSN=CATALOG.VENDORS
//* SET NEWCAT=%ncat
//  SET RPTMBR=%mbr
//  SET RPTPDS=&LSHLQ..WORK.LISTING     REPORT LIBRARY FBA 133
//  SET RPTDSN=&RPTPDS(&RPTMBR)
//  SET XEQPDS=APLKS.BATCH.REXXLIB      REXX LIBRARY
//  SET WORK=SYSDA
//*
//* INVOKE REXX BATCH ENVIRONMENT
//STEP020  EXEC PGM=IRXJCL,
//  PARM='RCNVTCAT &CATDSN'
//* RCNVTCAT catdsn                produce MCNVTCAT type output
//* RCNVTCAT oldcat newcat         produce catalog comparison out
//* RCNVTCAT oldcat TARGET(newcat) produce recatalog output
//SYSTSIN  DD  DUMMY
//SYSEXEC  DD  DISP=SHR,DSN=&XEQPDS     REXX LIBRARY
//SYSTSPRT DD  SYSOUT=*                 TERMINAL OUTPUT
//SYSOUT   DD  SYSOUT=*
//SYSPRINT DD  SYSOUT=*
//REPORT   DD  DISP=SHR,DSN=&RPTDSN     REPORT LIBRARY
//*
//
