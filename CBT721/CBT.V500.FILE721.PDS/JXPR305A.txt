//**********************************************************************
//*   CHANGEWIZ       REL 1.0 VER 01
//*   (C) 2005 RENAISSANCE DATA SYSTEMS INC.
//*
//*  PROC JXPR305A - CREATE PDS MEMBER LIST WITH ISPF STATS
//*
//*   THIS PROC IS USED BY JOB JXD305 IN PROC JXPR305
//*   THIS PROC IS NOT RESTARTABLE
//*   RESTART IN STEP BEFORE THIS PROC IS EXECUTED
//*
//*  EXECUTE PROGRAMS
//*      IEHLIST         CREATE PDS MEMBER LIST
//*      JXCU011         CONVERT IEHLIST OUTPUT TO A READABLE REPORT
//*      JXC300PD        CREATE EXTRACT WITH ISPF STATS
//*
//*  YOU MUST GIVE A VALUE TO SYMBOLICS PDSSEQ AND PDSVOL
//*  WHEN EXECUTING THIS PROC.
//*
//*  INPUT FILES
//*      PDS LIBRARY
//*  OUTPUT FILES
//*      &PREFW..IEHLIST.DUMP&PDSSEQ..&SUFW   IEHLIST OUTPUT
//*      &PREFW..JXCU011.RPT&PDSSEQ..&SUFW    PDS MBR REPORT
//*      &PREFW..XTRCT.PDS&PDSSEQ..&SUFW      INDEX EXTRACT
//*      &PREFW..LIST.PDS&PDSSEQ..&SUFW       INDEX LIST
//*
//**********************************************************************
//*
//JXPR305A PROC
//*
//**********************************************************************
//*     DELETE IEHLIST FILE
//**********************************************************************
//STEP0010 EXEC PGM=IEFBR14
//DD1      DD DSN=&PREFW..IEHLIST.DUMP&PDSSEQ..&SUFW,  IEHLIST OUTPUT
//            DISP=(MOD,DELETE,DELETE),
//            UNIT=SYSDA,SPACE=(TRK,1)
//DD2      DD DSN=&PREFW..JXCU011.RPT&PDSSEQ..&SUFW,   PDS MBR REPORT
//            DISP=(MOD,DELETE,DELETE),
//            UNIT=SYSDA,SPACE=(TRK,1)
//DD3      DD DSN=&PREFW..XTRCT.PDS&PDSSEQ..&SUFW,     INDEX EXTRACT
//            DISP=(MOD,DELETE,DELETE),
//            UNIT=SYSDA,SPACE=(TRK,1)
//DD4      DD DSN=&PREFW..LIST.PDS&PDSSEQ..&SUFW,      INDEX LIST
//            DISP=(MOD,DELETE,DELETE),
//            UNIT=SYSDA,SPACE=(TRK,1)
//******************************************************************
//*    LIST THE PDS DIRECTORY
//*    IF THIS STEP ABENDS, BROWSE THE OUTPUT FILE IN SYSPRINT
//*       TO FIND THE REASON.  IF THE PDS LIBRARY HAS MOVED TO
//*       ANOTHER DISK PACK, THEN CHANGE VOLSER IN BOTH DDNAME1 AND
//*       THE INPUT CARD JXSDIH**. IF THE PDS IS UNAVAILABLE,
//*       THEN RERUN AGAIN AT ANOTHER TIME.
//******************************************************************
//STEP0020 EXEC PGM=IEHLIST
//*JX* LIST THE PDS DIRECTORY
//SYSPRINT DD DSN=&PREFW..IEHLIST.DUMP&PDSSEQ..&SUFW,
//             DISP=(NEW,CATLG,CATLG),
//             DCB=(RECFM=FBA,LRECL=121,BLKSIZE=15367),
//             UNIT=SYSDA,SPACE=(TRK,(500,250),RLSE)
//SYSOUT   DD  SYSOUT=&SOUT
//DDNAME1  DD  UNIT=3390,VOL=SER=&PDSVOL,DISP=SHR
//SYSIN    DD  DSN=&CARDLIB(JXSDIH&PDSSEQ),DISP=SHR
//*
//**********************************************************************
//*     CONVERT IEHLIST TO READABLE FORMAT
//*     IF STEP ABENDS, RESTART FROM STEP1005
//**********************************************************************
//STEP0030 EXEC PGM=&PGMU11,PARM='&DBGU11'
//*JX*  CONVERT IEHLIST TO READABLE FORMAT
//*STEPLIB  DD DSN=SYS2.DUMMY.LOADLIB,DISP=SHR
//         INCLUDE MEMBER=JXIS&ENV
//SYSUDUMP DD SYSOUT=&SDUMP
//ABNLTERM DD SYSOUT=&SDUMP
//SYSPRINT DD SYSOUT=&SOUT
//SYSOUT   DD SYSOUT=&SOUT
//*
//RDBUG    DD SYSOUT=&RPT
//*
//PDSDIRI  DD DSN=&PREFW..IEHLIST.DUMP&PDSSEQ..&SUFW,
//            DISP=SHR
//*
//PDSDIRO  DD DSN=&PREFW..JXCU011.RPT&PDSSEQ..&SUFW,
//            DISP=(NEW,CATLG,DELETE),
//            UNIT=SYSDA,SPACE=(TRK,(500,250),RLSE),
//            DCB=(RECFM=FBA,LRECL=133,BLKSIZE=0)
//*
//**********************************************************************
//*     CREATE DAILY EXTRACT OF PDS MEMBERS WITH ISPF STATS
//*     IF STEP ABENDS, RESTART FROM STEP2000
//**********************************************************************
//STEP0040 EXEC PGM=&PGM300P,PARM='&DBG300P'
//*JX*  CREATE DAILY EXTRACT OF JCL MEMBERS WITH ISPF STATS
//*STEPLIB  DD DSN=SYS2.DUMMY.LOADLIB,DISP=SHR
//         INCLUDE MEMBER=JXIS&ENV
//SYSUDUMP DD SYSOUT=&SDUMP
//ABNLTERM DD SYSOUT=&SDUMP
//SYSPRINT DD SYSOUT=&SOUT
//SYSOUT   DD SYSOUT=&SOUT
//*
//RDBUG    DD SYSOUT=&RPT
//*
//LIBNAME  DD DSN=&CARDLIB(JXSDLB&PDSSEQ),DISP=SHR
//PDSDIR   DD DSN=&PREFW..JXCU011.RPT&PDSSEQ..&SUFW,
//            DISP=SHR
//*
//SRCXTRT  DD DSN=&PREFW..XTRCT.PDS&PDSSEQ..&SUFW,
//            DISP=(NEW,CATLG,DELETE),
//            UNIT=&UNITT,SPACE=(TRK,(500,250),RLSE),
//            DCB=(RECFM=FB,LRECL=&HSRECL,BLKSIZE=0)
//SRCLIST  DD DSN=&PREFW..LIST.PDS&PDSSEQ..&SUFW,
//            DISP=(NEW,CATLG,DELETE),
//            UNIT=&UNITT,SPACE=(TRK,(500,250),RLSE),
//            DCB=(RECFM=FB,LRECL=20,BLKSIZE=0)
//**********************************************************************
//*   END OF PROC JXPR305A
//**********************************************************************
