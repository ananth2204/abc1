//ZYXXCPDS JOB 0,'CHANGED JCL PROC',CLASS=U,MSGCLASS=X,
//             REGION=4M,NOTIFY=&SYSUID
/*JOBPARM  S=SYSB
//*
//PROCS   JCLLIB ORDER=(ZY06.CHGWIZ)
//**********************************************************************
//*    FIND ALL ELEMENTS IN PDS THAT HAVE CHANGED IN A
//*    PERIOD OF TIME.  JUST CHANGE THE DATE RANGE IN THE INPUT
//*      1.  CHANGE SORT IN STEP0010 TO SELECT THE TYPE OF ELEMENT
//*           YOU WANT TO SELECT, OR SKIP THE SORT AND USE THE
//*           CHANGE HISTORY FILE AS INPUT TO STEP0020.
//*      2.  CHANGE THE DATE RANGE IN STEP0020 FOR THE PERIOD YOU WANT.
//*
//**********************************************************************
//*  SELECT ONLY MEMBERS FROM CERTAIN LIBRARIES
//*  CHANGE HISTORY FILE IS SORTED BY ELEMENT NAME, THEN LIBRARY
//**********************************************************************
//STEP0010 EXEC PGM=SORT
//SYSPRINT DD  SYSOUT=X
//SYSUDUMP DD  SYSOUT=X
//SYSOUT   DD  SYSOUT=X
//SORTIN   DD  DSN=JX.ALL.XTRCT.CHGCTRL.PDS(0),
//             DISP=SHR
//SORTOUT DD DSN=&&MIGPGM,
//       DISP=(NEW,PASS,DELETE),
//       UNIT=SYSDA,SPACE=(TRK,(350,150),RLSE),
//       DCB=(RECFM=FB,LRECL=200,BLKSIZE=0)
//*  FILE IS ALREADY SORTED BY ELEMENT NAME, LIBRARY, LEVEL, DATE/TIME
//*  SORT FIELDS=(1,8,CH,A,10,8,CH,A,19,5,CH,A,105,10,CH,A,125,8,CH,A)
//*  SORT BY LIBRARY, ELEMENT NAME
//*  SORT FIELDS=(10,8,CH,A,1,8,CH,A)
//* SELECT ONLY JCL AND PROC MEMBERS
//*  INCLUDE COND=(10,8,CH,EQ,C'JCLLIB  ',OR,
//**************************************************************
//SYSIN  DD  *
*  SELECT ALL PDS SOURCE MIGRATED IN DATE RANGE
*    SEE CARD MEMBER JXSD370P FOR ALL ABBREVIATIONS
   SORT FIELDS=(COPY)
   INCLUDE COND=(10,8,CH,EQ,C'PROCLIB ',OR,
                 10,8,CH,EQ,C'PROCFIX ')
//*
//SORTWK01 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK02 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK03 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK04 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK05 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK06 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK07 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK08 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK09 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK10 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//SORTWK11 DD UNIT=SYSDA,SPACE=(CYL,(50,50))
//**********************************************************************
//STEP0020 EXEC PGM=JXC370JX,PARM='N 00000 00000'
//*STEPLIB   DD DSN=SYS2.DUMMY.LOADLIB,DISP=SHR
//    INCLUDE MEMBER=JXISPROD
//*
//SYSUDUMP DD SYSOUT=D
//ABNLTERM DD SYSOUT=D
//SYSPRINT DD SYSOUT=*
//SYSOUT   DD SYSOUT=*
//RDBUG    DD SYSOUT=*
//*
//CHGRPT   DD SYSOUT=*
//*
//CHGHIST DD DSN=&&MIGPGM,
//            DISP=(OLD,DELETE,DELETE)
//*CHGHIST  DD DSN=JX.ALL.XTRCT.CHGCTRL.PDS(0),
//*            DISP=SHR
//LIBNAME  DD DSN=ZY06.CHGWIZ(JXSD370P),DISP=SHR
//*
//** ENTER THE DATE RANGE YOU WANT TO GET CHANGES FOR  <=======
//RPTRANGE DD *
RANGE    2005-02-01 2005-03-31
PDS
