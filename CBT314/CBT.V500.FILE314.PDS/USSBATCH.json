{"INMR01": {"INMLRECL": 80, "INMFNODE": "NODENAME", "INMFUID": "T311LBD", "INMTNODE": "X", "INMTUID": "Y", "INMFTIME": "20180124151044000000", "INMNUMF": 1}, "INMR02": {"1": {"INMUTILN": "IEBCOPY", "INMSIZE": 58786, "INMDSORG": "PO", "INMTYPE": "None", "INMLRECL": 80, "INMBLKSZ": 32720, "INMRECFM": "FB", "INMDIR": 6, "INMDSNAM": "T311LBD.USSBATCH.PDS", "numfile": 1}, "2": {"INMUTILN": "INMCOPY", "INMSIZE": 58786, "INMDSORG": "PS", "INMLRECL": 32756, "INMBLKSZ": 3120, "INMRECFM": "VS", "numfile": 1}}, "INMR03": {"1": {"INMSIZE": 58786, "INMDSORG": "PS", "INMLRECL": 80, "INMRECFM": "?"}}, "file": {"T311LBD.USSBATCH.PDS": {"COPYR1": {"type": "PDS", "DS1DSORG": 512, "DS1BLKL": 32720, "DS1LRECL": 80, "DS1RECFM": "FB", "DS1KEYL": 0, "DS1OPTCD": 0, "DS1SMSFG": 0, "file_tape_blocksize": 3120, "DVAOPTS": 12336, "DVACLASS": 32, "DVAUNIT": 15, "DVAMAXRC": 32760, "DVACYL": 65520, "DVATRK": 15, "DVATRKLN": 58786, "DVAOVHD": 0, "num_header_records": 2, "DS1REFD": "180024", "DS1SCEXT": "b'\\x00\\x00\\x00'", "DS1SCALO": "b'\\x80\\x00\\x00\\x0f'", "DS1LSTAR": "b'\\x00\\x02\\x08'", "DS1TRBAL": "b'j\\x1e'"}, "COPYR2": {"deb": "b'\\x01\\x00\\x00\\x00\\xff\\x00\\x00\\x00\\x8f\\x0fp\\x00\\x04\\x97\\xd0\\xd8'", "extents": ["b'\\x01\\x00\\x00\\x00\\xff\\x00\\x00\\x00\\x8f\\x0fp\\x00\\x04\\x97\\xd0\\xd8'", "b'X\\x99y\\xa0\\x00\\x00\\x02\\x0b\\x00\\x05\\x02\\x0c\\x00\\x04\\x00\\x0f'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'", "b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'"]}, "members": {"$README": {"ttr": 519, "alias": false, "halfwords": 30, "notes": 0, "parms": "b'\\x01\\x00\\x00R\\x01\\x18\\x02O\\x01\\x18\\x02O\\x08P\\x00\\x12\\x00\\x12\\x00\\x00\\xd3\\xc9\\xd6\\xd5\\xc5\\xd3@@@@'", "ispf": {"version": "01.00", "flags": 0, "createdate": "2018-01-24T00:00:00", "modifydate": "2018-01-24T08:50:52", "lines": 18, "newlines": 18, "modlines": 0, "user": "LIONEL"}, "text": "USSBATCH is a REXX utility that is designed to be executed using the\nbatch TSO Monitor Program (TMP), typically IKJEFT01. It is a simple\nreplacement for BPXBATCH with additional capabilities.\n\nSee member JCL for a sample of how to use the utility.\n\nAll OMVS commands are entered after the STDIN DD statement using the\nfollowing rules:\n\n1. Multiple commands may be on the same record separated by a ;\n2. su will change the effective uid\n3. directory references should be fully qualified\n4. cd (change directory) works but is reset to the users home directory\n    with each command (including stacked commands)\n5. comments start with * or # in column 1\n6. Do *NOT* enable ISPF Edit sequence numbers\n7. Add a + to the end of a record to continue the command to the next\n    record\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "JCL": {"ttr": 517, "alias": false, "halfwords": 30, "notes": 0, "parms": "b'\\x01\\x00\\x00Y\\x01\\x18\\x02O\\x01\\x18\\x02O\\x08I\\x00\\x1f\\x00\\x1f\\x00\\x00\\xd3\\xc9\\xd6\\xd5\\xc5\\xd3@@@@'", "ispf": {"version": "01.00", "flags": 0, "createdate": "2018-01-24T00:00:00", "modifydate": "2018-01-24T08:49:59", "lines": 31, "newlines": 31, "modlines": 0, "user": "LIONEL"}, "text": "//jobcard  JOB (account),'USS Batch',\n//             NOTIFY=&SYSUID,MSGCLASS=R\n//OUT      OUTPUT DEFAULT=YES,JESDS=ALL,OUTDISP=(HOLD,HOLD)\n//USSBATCH EXEC PGM=IKJEFT01,PARM='%USSBATCH'\n//SYSTSPRT DD  SYSOUT=*\n//SYSTSIN  DD  DUMMY\n//SYSEXEC  DD  DISP=SHR,DSN=hlq.ussbatch.exec\n//* -------------------------------------------- *\n//* Enter OMVS commands under the //STDIN DD *   *\n//*                                              *\n//*  1. Multiple commands may be on the same     *\n//*     record separated by a ;                  *\n//*  2. su will change the effective uid         *\n//*  3. directory references should be fully     *\n//*     qualified                                *\n//*  4. cd (change directory) works but is reset *\n//*     to the users home directory with each    *\n//*     command (including stacked commands)     *\n//*  5. comments start with * or # in column 1   *\n//*  6. Do NOT have sequence numbers enabled     *\n//*  7. Add a + to the end of a record to        *\n//*     continue the command to the next record  *\n//* -------------------------------------------- *\n//STDIN    DD  *\nid\nls -la +\n  /usr/local/\necho 'sample message'\n* display current working directory\npwd\n/*\n", "mimetype": "text/plain", "datatype": "unknown-8bit", "extension": ".txt"}, "USSBATCH": {"ttr": 515, "alias": false, "halfwords": 30, "notes": 0, "parms": "b'\\x01\\x0f\\x00&\\x01\\x18\\x02?\\x01\\x18\\x02O\\x08H\\x00\\x87\\x00\\x0e\\x00\\x00\\xd3\\xc9\\xd6\\xd5\\xc5\\xd3@@@@'", "ispf": {"version": "01.15", "flags": 0, "createdate": "2018-01-23T00:00:00", "modifydate": "2018-01-24T08:48:26", "lines": 135, "newlines": 14, "modlines": 0, "user": "LIONEL"}, "text": "/* --------------------  rexx procedure  -------------------- */\n  ver = '1.1'\n/* Name:      USSBATCH                                        |\n |                                                            |\n | Function:  Execute OMVS commands in batch from //STDIN DD  |\n |                                                            |\n |            This provides a more robust interface in batch  |\n |            than the provided PGM=BPXBATCH                  |\n |                                                            |\n | Sample JCL:                                                |\n |                                                            |\n |   //USSBATCH EXEC PGM=IKJEFT01,PARM='%USSBATCH'            |\n |   //SYSTSPRT DD  SYSOUT=*                                  |\n |   //SYSTSIN  DD  DUMMY                                     |\n |   //SYSEXEC  DD  DISP=SHR,DSN=T311LBD.LIONEL.EXEC          |\n |   //STDIN    DD  *                                         |\n |   * enter omvs commands here                               |\n |                                                            |\n | Usage Notes:                                               |\n |                                                            |\n |      1. Multiple commands may be on the same               |\n |         record separated by a ;                            |\n |      2. su will change the effective uid                   |\n |      3. directory references should be fully               |\n |         qualified                                          |\n |      4. cd (change directory) works but is reset           |\n |         to the users home directory with each              |\n |         command (including stacked commands)               |\n |      5. comments start with * or # in column 1             |\n |      6. Do *NOT* enable ISPF Edit sequence numbers         |\n |      7. Add a + to the end of a record to continue         |\n |         the command to the next record                     |\n |                                                            |\n | Author:    Lionel B. Dyck                                  |\n |                                                            |\n | History:  (most recent on top)                             |\n |      1.1   01/23/18 - Add + for continuation               |\n |      0.1   01/23/18 - Creation                             |\n |                                                            |\n * ---------------------------------------------------------- */\n\n  parse value '' with null su\n\n/* ---------------- *\n | Prime the report |\n * ---------------- */\n  say 'USS Batch Processing - version:' ver 'on' date() 'at' time()\n  say ' '\n\n/* ------------------------------------------------- *\n | Read in all commands from STDIN and pass them one |\n | at a time to the processing routine.              |\n | - Note * and # in column 1 are comments           |\n | - Add a + at the end of a record to continue the  |\n |   command to the next record                      |\n * ------------------------------------------------- */\n  'execio * diskr stdin (finis stem in.'\n  do ioc = 1 to in.0\n    cmd = strip(in.ioc)\n    if right(cmd,1) = '+' then do\n       ioc = ioc + 1\n       cmd = left(cmd,length(cmd)-1) strip(in.ioc)\n       end\n    if pos(left(cmd,1),'*#') = 0 then call do_omvs\n  end\n\n  Exit 0\n\n/* -------------------------------- *\n | Process the OMVS command:        |\n |                                  |\n | 1. split commands using the ;    |\n | 2. if su is found then set uid 0 |\n | 3. issue command using bpxwunix  |\n | 4. write all messages to the log |\n * -------------------------------- */\ndo_omvs:\n  do until cmd = null\n    parse value cmd with xcmd';'cmd\n    cmd = strip(cmd)\n    Select\n     /* ---------------------------------- *\n      | Process the su (superuser) command |\n      * ---------------------------------- */\n      When xcmd = 'su' then\n      if su /= 1 then do\n        say 'Command:' xcmd\n        say ' '\n        su = 1\n        address syscall 'geteuid'\n        myeuid=retval\n        Address syscall \"seteuid 0\"\n        say 'Changed to SuperUser uid(0) from uid('myeuid')'\n        say ' '\n      end\n      else do\n        say 'Command:' xcmd\n        say ' '\n        su = 0\n        Address syscall \"seteuid\" myeuid\n        rc = syscalls(\"OFF\")\n        say ' '\n        say 'Changed back from SuperUser to uid('myeuid')'\n      end\n     /* -------------------------- *\n      | Process all other commands |\n      * -------------------------- */\n      Otherwise do\n        say 'Command:' xcmd\n        erc = bpxwunix(xcmd,,stdout.,stderr.)\n        if erc > maxrc then maxrc = erc\n        say\n        say 'Return code:' erc\n        if stdout.0 > 0 then do\n          say ' '\n          say 'Output of command:' xcmd\n          say ' '\n          do ic = 1 to stdout.0\n            say stdout.ic\n          end\n          say ' '\n        end\n        if stderr.0 > 0 then do\n          say ' '\n          say 'Error output of command:' xcmd\n          say ' '\n          do ic = 1 to stderr.0\n            say stderr.ic\n          end\n        end\n        drop stdout. stderr.\n      end\n    end\n  end\n  return\n", "mimetype": "text/plain", "datatype": "ebcdic", "extension": ".txt"}}}}, "SCRIPTOPTIONS": {"filename": "./CBT314/CBT.V500.FILE314.PDS/USSBATCH.xmi", "LRECL": 80, "loglevel": 30, "outputfolder": "CBT314/CBT.V500.FILE314.PDS", "encoding": "cp1140", "unnum": true, "quiet": false, "force": false, "binary": false, "modifydate": true}}