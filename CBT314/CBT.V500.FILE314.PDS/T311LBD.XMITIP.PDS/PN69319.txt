APAR PN69319

  APAR Identifier ...... PN69319      Last Changed ........ 95/07/22
  SMTP NOT SENDING NULL LINE (AS REQUIRED IN RFC822) TO SEPARATE
  THE MAIL HEADER FROM THE BODY.

  Symptom ...... IN INCORROUT         Status ........... CLOSED  PER
  Severity ................... 3      Date Closed ......... 95/03/30
  Component .......... 5655HAL00      Duplicate of ........
  Reported Release ......... 310      Fixed Release ............ 999
  Component Name TCP/IP V3 MVS        Special Notice
  Current Target Date ..95/04/18      Flags
  SCP ................... MVS
  Platform ............ MVS

  Status Detail: APARCLOSURE - APAR is being closed.

  PE PTF List:

  PTF List:
  Release 310   : UN75256 available 95/04/24 (F504 )

  Parent APAR:    PN66607
  Child APAR list:

  ERROR DESCRIPTION:
  554 UNABLE TO PARSE xxxx is received when mail is undeliverable
  because SMTP is not sending a NULL line to separate the mail
  header from the body.

  LOCAL FIX:

  PROBLEM SUMMARY:
  ****************************************************************
  * USERS AFFECTED: SYSTEMS SENDING MAIL USING NETDATA OR DMSDDL *
  *                 FORMAT.                                      *
  ****************************************************************
  * PROBLEM DESCRIPTION: WHEN SENDING MAIL VIA NETDATA OR DMSDDL *
  *                      FORMAT THE PROPER DISTINCTION BETWEEN   *
  *                      HEADERS AND MAIL BODY WAS LIMITED TO A  *
  *                      SINGLE BLANK ON A LINE. UPON RECEIVING  *
  *                      A SINGLE BLANK THE SMTP CODE WOULD      *
  *                      CREATE A "NULL" LINE EQUIVALENT TO      *
  *                      <CRLF><CRLF>. THIS NULL LINE IS         *
  *                      REQUIRED BY RFC822 TO SEPARATE THE      *
  *                      HEADERS FROM THE MAIL BODY.             *
  ****************************************************************
  * RECOMMENDATION:                                              *
  ****************************************************************
  THE SMTP CODE MADE CERTAIN PROCESSING DECISIONS ON HOW THE MAIL
  WAS SENT. IF IT CAME FROM A SOURCE WHOSE STRUCTURE
  PRESERVES AND DOES NOT PAD WITH BLANKS THEN ALL BLANKS WERE
  PRESERVED AND PASSED TO THE RECIPIENT. SOURCES THAT PRESERVE
  CONTENT WERE NETDATA AND DMSDDL FORMAT FILES FROM SPOOL.
  IF THE MAIL WAS OBTAINED VIA A METHOD WHERE EXTRA BLANKS MAY
  HAVE BEEN INTRODUCED, ALL TRAILING BLANKS ARE REMOVED FROM EACH
  LINE. SOURCES THAT CAN INTRODUCE EXTRANEOUS TRAILING BLANKS WERE
  PUNCH, PRINT, AND MSG(PROFS) FORMAT FILES FROM SPOOL. FILES
  COMING IN FROM SPOOL THAT WERE PUNCHED TO SMTP OR WERE SENT FROM
  PROFS USING MSG FROMAT END UP CONTAINING EXTRA TRAILING BLANKS
  DUE TO THE PADDING REQUIRED BY THE SIMULATING DEVICES.

  PROBLEM CONCLUSION:
  SMTP CODE WAS CHANGED SO THAT FOR MAIL WHICH IS RECEIVED AS
  NETDATA OR DMSDDL FORMAT FILES FROM SPOOL WILL PRESERVE TRAILING
  BLANKS WITH THE EXCEPTION OF WHEN THE ENTIRE RECORD CONTAINS
  ONLY BLANKS. IN THIS CASE THE CODE WILL CONVERT THAT RECORD INTO
  A SINGLE BLANK RECORD.

  MODULES AFFECTED: SMTPBTCH (EZABB01Z).

  TEMPORARY FIX:

  COMMENTS:

  MODULES/MACROS:   EZABB01Z

  SRLS:      NONE

  RTN CODES:

  CIRCUMVENTION:

  MESSAGE TO SUBMITTER:
