         MACRO
&LAB     OTHERWSE
.*
.* THIS MACRO IS ONE OF A RELATED SET OF MACROS WHICH ENGINEER THE
.* SELECTED EXECUTION OF CODE DEPENDING ON THE CONTENTS OF A FIELD.
.*
.* THE GENERAL STRUCTURE IS AS FOLLOWS -
.*    EVALUATE OPCODE,OP1(,OP2.REP.TYPE.LTH)
.*      WHEN   OP2REST,OP2REST
.*      WHEN   OP2REST-OP2REST,OP2REST
.*      OTHERWSE
.*    ENDEVAL
.*
.* CURRENT LABEL GENERATION NUMBER FOR EACH POSSIBLE DEPTH
         GBLA  &ON(16)
.* CURRENT END LABEL NUMBER FOR EACH POSSIBLE DEPTH
         GBLA  &OE(16)
.* CURRENT DEPTH OF OPTION NESTING (1 TO 16)
         GBLA  &OD
.* OPTELSE INDICATOR FOR EACH POSSIBLE DEPTH
         GBLB  &OELSE(16)
.* OPTION INDICATOR FOR EACH POSSIBLE DEPTH
         GBLB  &OPTN(16)
.*
.IF0     AIF   (T'&LAB EQ 'O').END0
&LAB     EQU   *
.END0    ANOP
.IF0A    AIF   (&OD NE 0).END0A
         MNOTE 16,'OPTION MISSING'
         MEXIT
.END0A   ANOP
.IF1     AIF   (&OD LE 16).END1
         MNOTE 16,'MAX OPTION NESTING OF 16 EXCEEDED'
         MEXIT
.END1    ANOP
.* SET EXIT FOR PREVIOUS CODE
         BRU   @D&OD.E&OE(&OD)
.* SET LABEL FOR ENTRY
@D&OD.N&ON(&OD) EQU   *
.* INCREMENT LABEL GENERATION NUMBER
&ON(&OD) SETA  &ON(&OD)+1
.* SET OPTION INDICATOR OFF
&OPTN(&OD) SETB  (0)
.IF1A    AIF   ((&OELSE(&OD)) EQ (0)).END1A
         MNOTE 16,'DUPLICATE OTHERWSE'
         MEXIT
.END1A   ANOP
&OELSE(&OD) SETB (1)
         MEND
